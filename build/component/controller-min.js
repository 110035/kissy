/*
Copyright 2013, KISSY UI Library v1.40dev
MIT Licensed
build time: Jun 19 14:05
*/
KISSY.add("component/render/process",function(b,i){var h=b.noop,k=i.extend({bindInternal:h,syncInternal:h,create:function(){this.get("created")||(this.fire("beforeCreateDom"),this.callMethodByHierarchy("createDom","__createDom"),this.setInternal("created",!0),this.fire("afterCreateDom"),this.callPluginsMethod("createDom"));return this},render:function(){this.get("rendered")||(this.create(),this.fire("beforeRenderUI"),this.callMethodByHierarchy("renderUI","__renderUI"),this.fire("afterRenderUI"),this.callPluginsMethod("renderUI"),
this.fire("beforeBindUI"),RenderProcess.superclass.bindInternal.call(this),this.callMethodByHierarchy("bindUI","__bindUI"),this.fire("afterBindUI"),this.callPluginsMethod("bindUI"),RenderProcess.superclass.syncInternal.call(this),this.sync(),this.setInternal("rendered",!0));return this},sync:function(){this.fire("beforeSyncUI");this.callMethodByHierarchy("syncUI","__syncUI");this.fire("afterSyncUI");this.callPluginsMethod("syncUI")},createDom:h,renderUI:h,bindUI:h,syncUI:h,plug:function(){var b;b=
this.get("plugins");k.superclass.plug.apply(this,arguments);b=b[b.length-1];this.get("rendered")?(b.pluginCreateDom&&b.pluginCreateDom(this),b.pluginRenderUI&&b.pluginRenderUI(this),b.pluginBindUI&&b.pluginBindUI(this),b.pluginSyncUI&&b.pluginSyncUI(this)):this.get("created")&&b.pluginCreateDom&&b.pluginCreateDom(this);return this}},{name:"ControllerProcess",ATTRS:{rendered:{value:!1},created:{value:!1}}});return k},{requires:["rich-base"]});
KISSY.add("component/controller/render-process",function(b,i){var h=b.noop;return i.extend({bindInternal:h,syncInternal:h,create:function(){this.get("created")||(this.callMethodByHierarchy("prepareRenderData","__prepareRenderData",[this.renderData={}]),this.callMethodByHierarchy("createDom","__createDom"),this.setInternal("created",!0));return this},decorate:function(b){this.get("created")||(this.callMethodByHierarchy("decorateDom","__decorateDom",b),this.setInternal("created",!0));return this},render:function(){this.get("rendered")||
(this.callMethodByHierarchy("renderUI","__renderUI"),this.sync(),this.setInternal("rendered",!0));return this},sync:function(){this.callMethodByHierarchy("syncUI","__syncUI")}},{name:"RenderProcess",ATTRS:{rendered:{value:!1},created:{value:!1}}})},{requires:["rich-base"]});KISSY.add("component/controller/render-tpl",function(){return'<div id="{{id}}" class="{{getBaseCssClasses ""}} {{#each elCls}} {{.}} {{/each}} " {{#each elAttrs}} {{xkey}}="{{.}}" {{/each}} style=" {{#each elStyle}} {{xkey}}:{{.}}; {{/each}} ">'});
KISSY.add("component/controller/render",function(b,i,h,k,r){function o(c){"number"==typeof c&&(c+="px");return c}function d(c,e,a){var j,f;for(j in e)f=e[j],b.isFunction(f)?(f=f.call(this,c),void 0!==f&&a.setInternal(j,f)):"string"==typeof f?a.setInternal(j,c.one(f)):b.isArray(f)&&f[0]&&a.setInternal(j,c.all(f[0]))}function p(c){c||(c=[""]);"string"==typeof c&&(c=c.split(/\s+/));return c}function m(c,e,a){for(var b="",f=0,g=a.length,e=c+e;f<g;f++)c=(c=a[f])?"-"+c:c,b+=" "+e+c;return b}function q(c){var e;
c.target==this.controller&&(e=this[n+c.type.slice(5).slice(0,-6)],e.call(this,c.newVal,c))}var n="_onSet",a=b.trim,g=b.all,t=b.UA,u=b.Env.host.document;return h.extend({isRender:1,prepareRenderData:function(c){var e=this.controller,a,b,g,s=e.get("elAttrs"),h=e.get("elCls"),d;a=e.getAttrs();d=e.get("elStyle");var i=e.get("elCls");for(b in a)g=a[b],g.view&&(c[b]=e.get(b));a=c.width;b=c.height;g=c.visible;c=c.zIndex;a&&(d.width=o(a));b&&(d.height=o(b));c&&(d["z-index"]=c);g||i.push(this.getBaseCssClasses("hidden"));
if(d=e.get("disabled"))h.push(this.getBaseCssClasses("disabled")),s["aria-disabled"]="true";e.get("highlighted")&&h.push(this.getBaseCssClasses("hover"));e.get("focusable")&&(s.hideFocus="true",s.tabindex=d?"-1":"0")},createDom:function(){var c=this,a=c.controller,l=c.renderData,j;j=r+c.get("contentTpl")+"</div>";l=(new k(j,{commands:{getBaseCssClasses:function(a,e){return c.getBaseCssClasses(e.params[0])}}})).render(l);l=g(l);j=c.get("childrenElSelectors");var f,d;for(f in j)d=j[f],"function"===
typeof d?a.setInternal(f,d(l)):a.setInternal(f,l.all(b.substitute(d,c.renderData)));a.setInternal("el",a.el=c.el=l)},decorateDom:function(c){var a=self.constructor,b=self.controller,g,f,h;c.attr("id")||c.attr("id",b.get("id"));h=self.collectConstructorChains();for(g=h.length-1;0<=g;g--)a=h[g],(f=a.HTML_PARSER)&&d.call(self,c,f,b);b.setInternal("el",b.el=self.el=c)},renderUI:function(){var c=this.controller;if(!c.get("srcNode")){var a=c.get("render"),b=c.get("el");(c=c.get("elBefore"))?b.insertBefore(c,
void 0):a?b.appendTo(a,void 0):b.appendTo(u.body,void 0)}},bindUI:function(){var c=this.controller,a=c.getAttrs(),g,d;for(g in a){d=a[g];var f=b.ucfirst(g),h=this[n+f];if(d.view&&h)c.on("after"+f+"Change",q,this)}},destructor:function(){this.el&&this.el.remove()},getComponentCssClasses:function(){if(this.componentCssClasses)return this.componentCssClasses;for(var c=this.controller.constructor,a,b=[];c&&!c.isController;)(a=i.getXClassByConstructor(c))&&b.push(a),c=c.superclass&&c.superclass.constructor;
return this.componentCssClasses=b},getBaseCssClasses:function(c){for(var c=p(c),b=this.getComponentCssClasses(),g=0,d=this.get("controller"),f="",h=b.length,d=d.prefixCls;g<h;g++)f+=m(d,b[g],c);return a(f)},getBaseCssClass:function(c){return a(m(this.controller.prefixCls,this.getComponentCssClasses()[0],p(c)))},getKeyEventTarget:function(){return this.el},_onSetWidth:function(c){this.el.width(c)},_onSetHeight:function(c){this.el.height(c)},_onSetContent:function(c){var a=this.el;a.html(c);9>t.ie&&
!this.get("allowTextSelection")&&a.unselectable()},_onSetVisible:function(c){var a=this.el,b=this.getBaseCssClasses("hidden");c?a.removeClass(b):a.addClass(b)},_onSetHighlighted:function(a){var b=this.getBaseCssClasses("hover");this.el[a?"addClass":"removeClass"](b)},_onSetDisabled:function(a){var b=this.controller,g=this.getBaseCssClasses("disabled");this.el[a?"addClass":"removeClass"](g).attr("aria-disabled",a);b.get("focusable")&&this.getKeyEventTarget().attr("tabindex",a?-1:0)},_onSetActive:function(a){var b=
this.getBaseCssClasses("active");this.el[a?"addClass":"removeClass"](b).attr("aria-pressed",!!a)},_onSetFocused:function(a){var b=this.el,g=this.getBaseCssClasses("focused");b[a?"addClass":"removeClass"](g)},_onSetZIndex:function(a){this.el.css("z-index",a)},_onSetX:function(a){this.el.offset({left:a})},_onSetY:function(a){this.el.offset({top:a})}},{extend:function e(a,g,d){var i={},k=h.extend.apply(this,arguments);b.isArray(a)&&(b.each(a.concat(k),function(a){a&&b.each(a.HTML_PARSER,function(a,b){i[b]=
a})}),k.HTML_PARSER=i);k.extend=e;return k},ATTRS:{controller:{setter:function(a){this.controller=a}},contentTpl:{value:"{{{content}}}"},childrenElSelectors:{value:{}}},HTML_PARSER:{id:function(a){return(a=a[0].id)?a:void 0},content:function(a){return a.html()},disabled:function(a){return a.hasClass(this.getBaseCssClass("disabled"))}},name:"render"})},{requires:["component/manager","./render-process","xtemplate","./render-tpl"]});
KISSY.add("component/controller",function(b,i,h,k,r,o){function d(a,b){return function(d){if(!a.get("disabled"))a[b](d)}}var p=b.Env.host.document.documentMode||b.UA.ie,m=i.Gesture,q=b.Features.isTouchEventSupported(),n=h.extend({isController:!0,initializer:function(){this.prefixCls=this.get("prefixCls")},createDom:function(){var a=this.get("xrender"),b=this.get("srcNode"),d=this.get("id");this.view=a=new a({controller:this});b?a.decorate(b):a.create();b=a.getKeyEventTarget();this.get("allowTextSelection")||
b.unselectable();k.addComponent(d,this)},renderUI:function(){this.view.render()},bindUI:function(){var a=this.getKeyEventTarget();if(this.get("focusable"))a.on("focus",d(this,"handleFocus")).on("blur",d(this,"handleBlur")).on("keydown",d(this,"handleKeydown"));if(this.get("handleMouseEvents")){a=this.get("el");if(!q)a.on("mouseenter",d(this,"handleMouseEnter")).on("mouseleave",d(this,"handleMouseLeave")).on("contextmenu",d(this,"handleContextMenu"));a.on(m.start,d(this,"handleMouseDown")).on(m.end,
d(this,"handleMouseUp")).on(m.tap,d(this,"performActionInternal"));if(m.cancel)a.on(m.cancel,d(this,"handleMouseUp"));if(p&&9>p)a.on("dblclick",d(this,"handleDblClick"))}},_onSetFocused:function(a){var b=this.getKeyEventTarget()[0];a?b.focus():b.ownerDocument.activeElement==b&&b.ownerDocument.body.focus()},_onSetVisible:function(a){this.fire(a?"show":"hide")},show:function(){this.render();this.set("visible",!0);return this},hide:function(){this.set("visible",!1);return this},focus:function(){this.get("focusable")&&
this.set("focused",!0)},blur:function(){this.get("focusable")&&this.set("focused",!1)},getKeyEventTarget:function(){return this.view.getKeyEventTarget()},handleDblClick:function(a){this.performActionInternal(a)},handleMouseEnter:function(a){this.set("highlighted",!!a)},handleMouseLeave:function(a){this.set("active",!1);this.set("highlighted",!a)},handleMouseDown:function(a){var b;if(1==a.which||q)if(b=this.getKeyEventTarget(),this.get("activeable")&&this.set("active",!0),this.get("focusable")&&(b[0].focus(),
this.set("focused",!0)),!this.get("allowTextSelection"))b=(b=a.target.nodeName)&&b.toLowerCase(),"input"!=b&&"textarea"!=b&&a.preventDefault()},handleMouseUp:function(a){this.get("active")&&(1==a.which||q)&&this.set("active",!1)},handleContextMenu:function(){},handleFocus:function(a){this.set("focused",!!a);this.fire("focus")},handleBlur:function(a){this.set("focused",!a);this.fire("blur")},handleKeyEventInternal:function(a){return a.keyCode==i.KeyCode.ENTER?this.performActionInternal(a):o},handleKeydown:function(a){return this.handleKeyEventInternal(a)?
(a.halt(),!0):o},performActionInternal:function(){},destructor:function(){var a=this.view,b=this.get("id");k.removeComponent(b);a&&a.destroy()}},{name:"controller",ATTRS:{id:{view:1,valueFn:function(){return b.guid("ks-component")}},content:{view:1,value:""},width:{view:1},height:{view:1},elCls:{view:1,value:[],setter:function(a){"string"==typeof a&&(a=a.split(/\s+/));return a||[]}},elStyle:{view:1,value:{}},elAttrs:{view:1,value:{}},elBefore:{},el:{},x:{view:1},y:{view:1},xy:{setter:function(a){var d=
b.makeArray(a);d.length&&(d[0]&&this.set("x",d[0]),d[1]&&this.set("y",d[1]));return a},getter:function(){return[this.get("x"),this.get("y")]}},zIndex:{view:1},render:{},visible:{sync:0,value:!0,view:1},srcNode:{setter:function(a){return i.all(a)}},handleMouseEvents:{value:!0},focusable:{value:!0,view:1},allowTextSelection:{value:!1},activeable:{value:!0},focused:{view:1},active:{view:1,value:!1},highlighted:{view:1,value:!1},prefixCls:{view:1,value:b.config("component/prefixCls")||"ks-"},prefixXClass:{},
parent:{setter:function(a,b){(b=this.get("parent"))&&this.removeTarget(b);a&&this.addTarget(a)}},disabled:{view:1,value:!1},xrender:{value:r}}});n.Render=r;n.extend=function g(d,i,c){var e=b.makeArray(arguments),l,j=e[e.length-1];if(l=j.xclass)j.name=l;e=h.extend.apply(this,e);l&&k.setConstructorByXClass(l,e);e.extend=g;return e};return n},{requires:["node","./controller/process","component/manager","./controller/render"]});
