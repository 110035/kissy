/*
Copyright 2013, KISSY UI Library v1.40dev
MIT Licensed
build time: Jul 8 21:57
*/
KISSY.add("dom/base/api",function(d){var a=d.Env.host||{},g=a.document,r=d.UA,l={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},o={isCustomDomain:function(d){var d=d||a,d=o.get(d),f=d.document.domain,d=d.location.hostname;return f!=d&&f!="["+d+"]"},getEmptyIframeSrc:function(d){d=d||a;d=o.get(d);return r.ie&&o.isCustomDomain(d)?
"javascript:void(function(){"+encodeURIComponent("document.open();document.domain='"+d.document.domain+"';document.close();")+"}())":""},NodeType:l,getWindow:function(g){if(!g)return a;g=o.get(g);if(d.isWindow(g))return g;var f=g;f.nodeType!==l.DOCUMENT_NODE&&(f=g.ownerDocument);return f.defaultView||f.parentWindow},getDocument:function(a){if(!a)return g;a=o.get(a);return d.isWindow(a)?a.document:a.nodeType==l.DOCUMENT_NODE?a:a.ownerDocument},isDomNodeList:function(a){return a&&!a.nodeType&&a.item&&
!a.setTimeout},nodeName:function(a){var d=o.get(a),a=d.nodeName.toLowerCase();r.ie&&(d=d.scopeName)&&"HTML"!=d&&(a=d.toLowerCase()+":"+a);return a},_RE_NUM_NO_PX:RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i")};d.mix(o,l);return o});
KISSY.add("dom/base/attr",function(d,a,g){function r(a,e){var e=m[e]||e,c=v[e];return c&&c.get?c.get(a,e):a[e]}var l=d.Env.host.document,o=a.NodeType,l=l&&l.documentElement,q=a.nodeName,f=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,j=/^(?:button|input|object|select|textarea)$/i,k=/^a(?:rea)?$/i,n=/:|^on/,c=/\r/g,b={},i={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1,scrollTop:1,scrollLeft:1},s={tabindex:{get:function(a){var e=
a.getAttributeNode("tabindex");return e&&e.specified?parseInt(e.value,10):j.test(a.nodeName)||k.test(a.nodeName)&&a.href?0:g}}},m={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},x={get:function(c,e){return a.prop(c,e)?e.toLowerCase():g},set:function(c,e,b){!1===e?
a.removeAttr(c,b):(e=m[b]||b,e in c&&(c[e]=!0),c.setAttribute(b,b.toLowerCase()));return b}},v={},h={},p={select:{get:function(c){var e=c.selectedIndex,b=c.options,h;if(0>e)return null;if("select-one"===""+c.type)return a.val(b[e]);c=[];e=0;for(h=b.length;e<h;++e)b[e].selected&&c.push(a.val(b[e]));return c},set:function(c,e){var b=d.makeArray(e);d.each(c.options,function(e){e.selected=d.inArray(a.val(e),b)});b.length||(c.selectedIndex=-1);return b}}};d.each(["radio","checkbox"],function(c){p[c]={get:function(a){return null===
a.getAttribute("value")?"on":a.value},set:function(e,c){return d.isArray(c)?e.checked=d.inArray(a.val(e),c):g}}});s.style={get:function(a){return a.style.cssText}};d.mix(a,{_valHooks:p,_propFix:m,_attrHooks:s,_propHooks:v,_attrNodeHook:h,_attrFix:b,prop:function(c,e,b){var h=a.query(c),i,p;if(d.isPlainObject(e))return d.each(e,function(c,e){a.prop(h,e,c)}),g;e=m[e]||e;p=v[e];if(b!==g)for(c=h.length-1;0<=c;c--)i=h[c],p&&p.set?p.set(i,b,e):i[e]=b;else if(h.length)return r(h[0],e);return g},hasProp:function(c,
e){var b=a.query(c),h,d=b.length,i;for(h=0;h<d;h++)if(i=b[h],r(i,e)!==g)return!0;return!1},removeProp:function(c,e){var e=m[e]||e,b=a.query(c),h,d;for(h=b.length-1;0<=h;h--){d=b[h];try{d[e]=g,delete d[e]}catch(i){}}},attr:function(c,e,p,j){var k=a.query(c),m=k[0];if(d.isPlainObject(e)){var j=p,u;for(u in e)a.attr(k,u,e[u],j);return g}if(j&&i[e])return a[e](c,p);e=e.toLowerCase();if(j&&i[e])return a[e](c,p);e=b[e]||e;c=f.test(e)?x:n.test(e)?h:s[e];if(p===g){if(m&&m.nodeType===o.ELEMENT_NODE){"form"==
q(m)&&(c=h);if(c&&c.get)return c.get(m,e);p=m.getAttribute(e);return""===p&&(e=m.getAttributeNode(e),!e||!e.specified)?g:null===p?g:p}}else for(j=k.length-1;0<=j;j--)if((m=k[j])&&m.nodeType===o.ELEMENT_NODE)"form"==q(m)&&(c=h),c&&c.set?c.set(m,p,e):m.setAttribute(e,""+p);return g},removeAttr:function(c,e){var e=e.toLowerCase(),e=b[e]||e,h=a.query(c),d,p,i;for(i=h.length-1;0<=i;i--)if(p=h[i],p.nodeType==o.ELEMENT_NODE&&(p.removeAttribute(e),f.test(e)&&(d=m[e]||e)in p))p[d]=!1},hasAttr:l&&!l.hasAttribute?
function(c,e){var e=e.toLowerCase(),b=a.query(c),h,d;for(h=0;h<b.length;h++)if(d=b[h],(d=d.getAttributeNode(e))&&d.specified)return!0;return!1}:function(c,e){var b=a.query(c),h,d=b.length;for(h=0;h<d;h++)if(b[h].hasAttribute(e))return!0;return!1},val:function(b,e){var h,i,j,f,u;if(e===g){if(j=a.get(b)){if((h=p[q(j)]||p[j.type])&&"get"in h&&(i=h.get(j,"value"))!==g)return i;i=j.value;return"string"===typeof i?i.replace(c,""):null==i?"":i}return g}i=a.query(b);for(f=i.length-1;0<=f;f--){j=i[f];if(1!==
j.nodeType)break;u=e;null==u?u="":"number"===typeof u?u+="":d.isArray(u)&&(u=d.map(u,function(a){return a==null?"":a+""}));h=p[q(j)]||p[j.type];if(!h||!("set"in h)||h.set(j,u,"value")===g)j.value=u}return g},text:function(c,h){var b,d,i,p;if(h===g)return b=a.get(c),a._getText(b);d=a.query(c);for(i=d.length-1;0<=i;i--)if(b=d[i],p=b.nodeType,p==o.ELEMENT_NODE)a.empty(b),b.appendChild(b.ownerDocument.createTextNode(h));else if(p==o.TEXT_NODE||p==o.CDATA_SECTION_NODE)b.nodeValue=h;return g},_getText:function(a){return a.textContent}});
return a},{requires:["./api"]});
KISSY.add("dom/base/class",function(d,a){function g(a){for(var a=d.trim(a||""),a=a.split(f),g=[],n,c=a.length,b=0;b<c;b++)(n=a[b])&&g.push(n);return g}function r(a){return function(d,g){var c,b,i,f=d.classList,m=o.call(arguments,2);c=0;for(b=g.length;c<b;c++)(i=g[c])&&f[a].apply(f,[i].concat(m))}}function l(d){return function(f,n){var c=g(n),b=o.call(arguments,2);a.query(f).each(function(i){i.nodeType==q.ELEMENT_NODE&&a[d].apply(a,[i,c].concat(b))})}}var o=[].slice,q=a.NodeType,f=/[\.\s]\s*\.?/;d.mix(a,
{_hasClass:function(a,d){var g,c,b,i=a.classList;if(i.length){g=0;for(c=d.length;g<c;g++)if((b=d[g])&&!i.contains(b))return!1;return!0}return!1},_addClass:r("add"),_removeClass:r("remove"),_toggleClass:r("toggle"),hasClass:function(d,f){var n=a.get(d);return n&&n.nodeType==q.ELEMENT_NODE&&a._hasClass(n,g(f))},replaceClass:function(d,g,f){a.removeClass(d,g);a.addClass(d,f)},addClass:l("_addClass"),removeClass:l("_removeClass"),toggleClass:l("_toggleClass")});return a},{requires:["./api"]});
KISSY.add("dom/base/create",function(d,a,g){function r(c){var b=d.require("event/dom");b&&b.detach(c);a.removeData(c)}function l(a){a=a&&a!=k?a.createElement(b):i;a===i&&(a.innerHTML="");return a}function o(a,c){var b=l(c);b.innerHTML="m<div>"+a+"</div>";return b.lastChild}function q(a,c,b){var h=c.nodeType;if(h==n.DOCUMENT_FRAGMENT_NODE){c=c.childNodes;b=b.childNodes;for(h=0;c[h];)b[h]&&q(a,c[h],b[h]),h++}else if(h==n.ELEMENT_NODE){c=c.getElementsByTagName("*");b=b.getElementsByTagName("*");for(h=
0;c[h];)b[h]&&a(c[h],b[h]),h++}}function f(c,b){var h=d.require("event/dom"),e,w;if(b.nodeType!=n.ELEMENT_NODE||a.hasData(c)){e=a.data(c);for(w in e)a.data(b,w,e[w]);h&&h.clone(c,b)}}function j(a){var c=null,b,h;if(a&&(a.push||a.item)&&a[0]){c=a[0].ownerDocument;c=c.createDocumentFragment();a=d.makeArray(a);b=0;for(h=a.length;b<h;b++)c.appendChild(a[b])}return c}var k=d.Env.host.document,n=a.NodeType,c=d.UA.ie,b="div",i=k&&k.createElement(b),s=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,
m=/<([\w:]+)/,x=/^\s+/,v=/\s+$/,h=c&&9>c,p=/<|&#?\w+;/,y=k&&"outerHTML"in k.documentElement,e=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;d.mix(a,{create:function(c,i,f,t){var w=null;if(!c)return w;if(c.nodeType)return a.clone(c);if("string"!=typeof c)return w;t===g&&(t=!0);t&&(c=d.trim(c));var t=a._creators,C,D,f=f||k,E,y=b;if(p.test(c))if(E=e.exec(c))w=f.createElement(E[1]);else{c=c.replace(s,"<$1></$2>");if((E=m.exec(c))&&(C=E[1]))y=C.toLowerCase();C=(t[y]||o)(c,f);h&&(D=c.match(x))&&C.insertBefore(f.createTextNode(D[0]),
C.firstChild);h&&/\S/.test(c)&&(D=c.match(v))&&C.appendChild(f.createTextNode(D[0]));c=C.childNodes;1===c.length?w=c[0].parentNode.removeChild(c[0]):c.length&&(w=j(c))}else w=f.createTextNode(c);d.isPlainObject(i)&&(w.nodeType==n.ELEMENT_NODE?a.attr(w,i,!0):w.nodeType==n.DOCUMENT_FRAGMENT_NODE&&a.attr(w.childNodes,i,!0));return w},_fixCloneAttributes:function(c,b){"textarea"===a.nodeName(c)&&(b.defaultValue=c.defaultValue,b.value=c.value)},_creators:{div:o},_defaultCreator:o,html:function(c,b,e){var c=
a.query(c),d=c[0],w=!1,i,p;if(!d)return null;if(b===g)return d.nodeType==n.ELEMENT_NODE?d.innerHTML:d.nodeType==n.DOCUMENT_FRAGMENT_NODE?(e=l(d.ownerDocument),e.appendChild(d),e.innerHTML):null;b+="";if(!b.match(/<(?:script|style|link)/i)&&(!h||!b.match(x))&&!A[(b.match(m)||["",""])[1].toLowerCase()])try{for(i=c.length-1;0<=i;i--)p=c[i],p.nodeType==n.ELEMENT_NODE&&(r(p.getElementsByTagName("*")),p.innerHTML=b);w=!0}catch(f){}w||(b=a.create(b,0,d.ownerDocument,0),a.empty(c),a.append(b,c,e));return g},
outerHtml:function(c,b,h){var c=a.query(c),e=c.length,d=c[0];if(!d)return null;if(b===g){if(y&&d.nodeType!=a.DOCUMENT_FRAGMENT_NODE)return d.outerHTML;b=l(d.ownerDocument);b.appendChild(a.clone(d,!0));return b.innerHTML}b+="";if(!b.match(/<(?:script|style|link)/i)&&y)for(h=e-1;0<=h;h--)d=c[h],d.nodeType==n.ELEMENT_NODE&&(r(d),r(d.getElementsByTagName("*")),d.outerHTML=b);else b=a.create(b,0,d.ownerDocument,0),a.insertBefore(b,c,h),a.remove(c);return g},remove:function(c,b){var h,e=a.query(c),i,p,
f=d.require("event/dom"),g;for(g=e.length-1;0<=g;g--)h=e[g],!b&&h.nodeType==n.ELEMENT_NODE&&(i=d.makeArray(h.getElementsByTagName("*")),i.push(h),a.removeData(i),f&&f.detach(i)),(p=h.parentNode)&&p.removeChild(h)},clone:function(c,b,h,e){"object"===typeof b&&(e=b.deepWithDataAndEvent,h=b.withDataAndEvent,b=b.deep);var c=a.get(c),d,i=a._fixCloneAttributes,p;if(!c)return null;p=c.nodeType;d=c.cloneNode(b);if(p==n.ELEMENT_NODE||p==n.DOCUMENT_FRAGMENT_NODE)i&&p==n.ELEMENT_NODE&&i(c,d),b&&i&&q(i,c,d);
h&&(f(c,d),b&&e&&q(f,c,d));return d},empty:function(c){var c=a.query(c),b,h;for(h=c.length-1;0<=h;h--)b=c[h],a.remove(b.childNodes)},_nodeListToFragment:j});a.outerHTML=a.outerHtml;var F=a._creators,z=a.create,A={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},B;for(B in A)(function(a){F[B]=function(c,b){return z("<"+a+">"+c+"</"+a+">",null,b)}})(A[B]);return a},{requires:["./api"]});
KISSY.add("dom/base/data",function(d,a,g){var r=d.Env.host,l="_ks_data_"+d.now(),o={},q={},f={applet:1,object:1,embed:1},j={hasData:function(a,b){if(a)if(b!==g){if(b in a)return!0}else if(!d.isEmptyObject(a))return!0;return!1}},k={hasData:function(a,b){return a==r?k.hasData(q,b):j.hasData(a[l],b)},data:function(a,b,d){if(a==r)return k.data(q,b,d);var f=a[l];if(d!==g)f=a[l]=a[l]||{},f[b]=d;else return b!==g?f&&f[b]:f=a[l]=a[l]||{}},removeData:function(a,b){if(a==r)return k.removeData(q,b);var i=a[l];
if(b!==g)delete i[b],d.isEmptyObject(i)&&k.removeData(a);else try{delete a[l]}catch(f){a[l]=g}}},n={hasData:function(a,b){var d=a[l];return!d?!1:j.hasData(o[d],b)},data:function(a,b,i){if(f[a.nodeName.toLowerCase()])return g;var j=a[l];if(!j){if(b!==g&&i===g)return g;j=a[l]=d.guid()}a=o[j];if(i!==g)a=o[j]=o[j]||{},a[b]=i;else return b!==g?a&&a[b]:a=o[j]=o[j]||{}},removeData:function(a,b){var i=a[l],f;if(i)if(f=o[i],b!==g)delete f[b],d.isEmptyObject(f)&&n.removeData(a);else{delete o[i];try{delete a[l]}catch(j){a[l]=
g}a.removeAttribute&&a.removeAttribute(l)}}};d.mix(a,{__EXPANDO:l,hasData:function(c,b){for(var d=!1,f=a.query(c),g=0;g<f.length&&!(d=f[g],d=d.nodeType?n.hasData(d,b):k.hasData(d,b));g++);return d},data:function(c,b,i){var c=a.query(c),f=c[0];if(d.isPlainObject(b)){for(var j in b)a.data(c,j,b[j]);return g}if(i===g){if(f)return f.nodeType?n.data(f,b):k.data(f,b)}else for(j=c.length-1;0<=j;j--)f=c[j],f.nodeType?n.data(f,b,i):k.data(f,b,i);return g},removeData:function(c,b){var d=a.query(c),f,g;for(g=
d.length-1;0<=g;g--)f=d[g],f.nodeType?n.removeData(f,b):k.removeData(f,b)}});return a},{requires:["./api"]});
KISSY.add("dom/base/insertion",function(d,a){function g(a,b){var d=[],l,m,r;for(l=0;a[l];l++)if(m=a[l],r=f(m),m.nodeType==o.DOCUMENT_FRAGMENT_NODE)d.push.apply(d,g(j(m.childNodes),b));else if("script"===r&&(!m.type||n.test(m.type)))m.parentNode&&m.parentNode.removeChild(m),b&&b.push(m);else{if(m.nodeType==o.ELEMENT_NODE&&!q.test(r)){r=[];var v,h,p=m.getElementsByTagName("script");for(h=0;h<p.length;h++)v=p[h],(!v.type||n.test(v.type))&&r.push(v);k.apply(a,[l+1,0].concat(r))}d.push(m)}return d}function r(a){a.src?
d.getScript(a.src):(a=d.trim(a.text||a.textContent||a.innerHTML||""))&&d.globalEval(a)}function l(c,b,f,j){c=a.query(c);j&&(j=[]);c=g(c,j);a._fixInsertionChecked&&a._fixInsertionChecked(c);var b=a.query(b),k,n,v,h,p=b.length;if((c.length||j&&j.length)&&p){c=a._nodeListToFragment(c);1<p&&(h=a.clone(c,!0),b=d.makeArray(b));for(k=0;k<p;k++)n=b[k],c&&(v=0<k?a.clone(h,!0):c,f(v,n)),j&&j.length&&d.each(j,r)}}var o=a.NodeType,q=/^(?:button|input|object|select|textarea)$/i,f=a.nodeName,j=d.makeArray,k=[].splice,
n=/\/(java|ecma)script/i;d.mix(a,{_fixInsertionChecked:null,insertBefore:function(a,b,d){l(a,b,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)},d)},insertAfter:function(a,b,d){l(a,b,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)},d)},appendTo:function(a,b,d){l(a,b,function(a,b){b.appendChild(a)},d)},prependTo:function(a,b,d){l(a,b,function(a,b){b.insertBefore(a,b.firstChild)},d)},wrapAll:function(c,b){b=a.clone(a.get(b),!0);c=a.query(c);c[0].parentNode&&a.insertBefore(b,
c[0]);for(var d;(d=b.firstChild)&&1==d.nodeType;)b=d;a.appendTo(c,b)},wrap:function(c,b){c=a.query(c);b=a.get(b);d.each(c,function(c){a.wrapAll(c,b)})},wrapInner:function(c,b){c=a.query(c);b=a.get(b);d.each(c,function(c){var d=c.childNodes;d.length?a.wrapAll(d,b):c.appendChild(b)})},unwrap:function(c){c=a.query(c);d.each(c,function(b){b=b.parentNode;a.replaceWith(b,b.childNodes)})},replaceWith:function(c,b){var d=a.query(c),b=a.query(b);a.remove(b,!0);a.insertBefore(b,d);a.remove(d)}});d.each({prepend:"prependTo",
append:"appendTo",before:"insertBefore",after:"insertAfter"},function(c,b){a[b]=a[c]});return a},{requires:["./api"]});
KISSY.add("dom/base/offset",function(d,a,g){function r(a){var c,d=a.ownerDocument.body;if(!a.getBoundingClientRect)return{left:0,top:0};c=a.getBoundingClientRect();a=c[b];c=c[i];a-=k.clientLeft||d.clientLeft||0;c-=k.clientTop||d.clientTop||0;return{left:a,top:c}}function l(b,c){var d={left:0,top:0},f=n(b),e,g=b,c=c||f;do{if(f==c){var j=g;e=r(j);j=n(j);e.left+=a[m](j);e.top+=a[x](j)}else e=r(g);d.left+=e.left;d.top+=e.top}while(f&&f!=c&&(g=f.frameElement)&&(f=f.parent));return d}var o=d.Env.host,q=
d.UA,f=o.document,j=a.NodeType,k=f&&f.documentElement,n=a.getWindow,c=Math.max,b="left",i="top",s=d.isNumber,m="scrollLeft",x="scrollTop";d.mix(a,{offset:function(b,c,d){if(c===g){var b=a.get(b),f;b&&(f=l(b,d));return f}d=a.query(b);for(f=d.length-1;0<=f;f--){var b=d[f],e=c;"static"===a.css(b,"position")&&(b.style.position="relative");var j=l(b),i={},k=void 0,n=void 0;for(n in e)k=parseFloat(a.css(b,n))||0,i[n]=k+e[n]-j[n];a.css(b,i)}return g},scrollIntoView:function(c,h,f,k){var e,l,m,o;if(m=a.get(c)){h&&
(h=a.get(h));h||(h=m.ownerDocument);h.nodeType==j.DOCUMENT_NODE&&(h=n(h));d.isPlainObject(f)&&(k=f.allowHorizontalScroll,o=f.onlyScrollIfNeeded,f=f.alignWithTop);k=k===g?!0:k;l=d.isWindow(h);var c=a.offset(m),r=a.outerHeight(m);e=a.outerWidth(m);var q,s,x,t;l?(l=h,q=a.height(l),s=a.width(l),t={left:a.scrollLeft(l),top:a.scrollTop(l)},l=c[b]-t[b],m=c[i]-t[i],e=c[b]+e-(t[b]+s),c=c[i]+r-(t[i]+q)):(q=a.offset(h),s=h.clientHeight,x=h.clientWidth,t={left:a.scrollLeft(h),top:a.scrollTop(h)},l=c[b]-(q[b]+
(parseFloat(a.css(h,"borderLeftWidth"))||0)),m=c[i]-(q[i]+(parseFloat(a.css(h,"borderTopWidth"))||0)),e=c[b]+e-(q[b]+x+(parseFloat(a.css(h,"borderRightWidth"))||0)),c=c[i]+r-(q[i]+s+(parseFloat(a.css(h,"borderBottomWidth"))||0)));if(o){if(0>m||0<c)!0===f?a.scrollTop(h,t.top+m):!1===f?a.scrollTop(h,t.top+c):0>m?a.scrollTop(h,t.top+m):a.scrollTop(h,t.top+c)}else(f=f===g?!0:!!f)?a.scrollTop(h,t.top+m):a.scrollTop(h,t.top+c);if(k)if(o){if(0>l||0<e)!0===f?a.scrollLeft(h,t.left+l):!1===f?a.scrollLeft(h,
t.left+e):0>l?a.scrollLeft(h,t.left+l):a.scrollLeft(h,t.left+e)}else(f=f===g?!0:!!f)?a.scrollLeft(h,t.left+l):a.scrollLeft(h,t.left+e)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});d.each(["Left","Top"],function(b,c){var d="scroll"+b;a[d]=function(f,e){if(s(f))return arguments.callee(o,f);var f=a.get(f),i,k,l,m;f&&f.nodeType==j.ELEMENT_NODE?e!==g?f[d]=parseFloat(e):i=f[d]:(m=n(f),e!==g?(e=parseFloat(e),k="Left"==b?e:a.scrollLeft(m),l="Top"==b?e:a.scrollTop(m),
m.scrollTo(k,l)):(i=m["page"+(c?"Y":"X")+"Offset"],s(i)||(k=m.document,i=k.documentElement[d],s(i)||(i=k.body[d]))));return i}});d.each(["Width","Height"],function(b){a["doc"+b]=function(d){d=a.get(d);d=a.getDocument(d);return c(d.documentElement["scroll"+b],d.body["scroll"+b],a["viewport"+b](d))};a["viewport"+b]=function(c){var c=a.get(c),d=n(c),c=d["inner"+b];if(q.mobile&&c)return c;var c="client"+b,d=d.document,f=d.body,e=d.documentElement[c];return"CSS1Compat"===d.compatMode&&e||f&&f[c]||e}});
return a},{requires:["./api"]});
KISSY.add("dom/base/style",function(d,a,g){function r(a,b){return b.toUpperCase()}function l(a){return a.replace(h,"ms-").replace(u,r)}function o(a,b,c){var d={},f;for(f in b)d[f]=a[i][f],a[i][f]=b[f];c.call(a);for(f in b)a[i][f]=d[f]}function q(a,b,c){var d,f,h;if(3===a.nodeType||8===a.nodeType||!(d=a[i]))return g;b=l(b);h=z[b];b=A[b]||b;if(c!==g){null===c||c===y?c=y:!isNaN(Number(c))&&!v[b]&&(c+=e);h&&h.set&&(c=h.set(a,c));if(c!==g){try{d[b]=c}catch(j){}c===y&&d.removeAttribute&&d.removeAttribute(b)}d.cssText||
a.removeAttribute("style");return g}if(!h||!("get"in h&&(f=h.get(a,!1))!==g))f=d[b];return f===g?"":f}function f(a){var b,c=arguments;0!==a.offsetWidth?b=j.apply(g,c):o(a,G,function(){b=j.apply(g,c)});return b}function j(b,c,f){if(d.isWindow(b))return c==m?a.viewportWidth(b):a.viewportHeight(b);if(9==b.nodeType)return c==m?a.docWidth(b):a.docHeight(b);var h=c===m?["Left","Right"]:["Top","Bottom"],e=c===m?b.offsetWidth:b.offsetHeight;if(0<e)return"border"!==f&&d.each(h,function(c){f||(e-=parseFloat(a.css(b,
"padding"+c))||0);e="margin"===f?e+(parseFloat(a.css(b,f+c))||0):e-(parseFloat(a.css(b,"border"+c+"Width"))||0)}),e;e=a._getComputedStyle(b,c);if(null==e||0>Number(e))e=b.style[c]||0;e=parseFloat(e)||0;f&&d.each(h,function(c){e+=parseFloat(a.css(b,"padding"+c))||0;"padding"!==f&&(e+=parseFloat(a.css(b,"border"+c+"Width"))||0);"margin"===f&&(e+=parseFloat(a.css(b,f+c))||0)});return e}var k=d.Env.host,n=d.UA,c=a.nodeName,b=k.document,i="style",s=/^margin/,m="width",x="display"+d.now(),v={fillOpacity:1,
fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},h=/^-ms-/,p=/([A-Z]|^ms)/g,y="",e="px",F=/\d(?!px)[a-z%]+$/i,z={},A={"float":"cssFloat"},B={},u=/-([a-z])/ig;d.mix(a,{_camelCase:l,_CUSTOM_STYLES:z,_cssProps:A,_getComputedStyle:function(b,c){var d="",f,e,h,g,j;e=b.ownerDocument;c=c.replace(p,"-$1").toLowerCase();if(f=e.defaultView.getComputedStyle(b,null))d=f.getPropertyValue(c)||f[c];""===d&&!a.contains(e,b)&&(c=A[c]||c,d=b[i][c]);a._RE_NUM_NO_PX.test(d)&&s.test(c)&&(j=b.style,
e=j.width,h=j.minWidth,g=j.maxWidth,j.minWidth=j.maxWidth=j.width=d,d=f.width,j.width=e,j.minWidth=h,j.maxWidth=g);return d},style:function(b,c,f){var b=a.query(b),e,h=b[0];if(d.isPlainObject(c)){for(e in c)for(h=b.length-1;0<=h;h--)q(b[h],e,c[e]);return g}if(f===g)return e="",h&&(e=q(h,c,f)),e;for(h=b.length-1;0<=h;h--)q(b[h],c,f);return g},css:function(b,c,f){var b=a.query(b),e=b[0],h;if(d.isPlainObject(c)){for(h in c)for(e=b.length-1;0<=e;e--)q(b[e],h,c[h]);return g}c=l(c);h=z[c];if(f===g){f="";
if(e&&(!h||!("get"in h&&(f=h.get(e,!0))!==g)))f=a._getComputedStyle(e,c);return"undefined"==typeof f?"":f}for(e=b.length-1;0<=e;e--)q(b[e],c,f);return g},show:function(c){var c=a.query(c),d,f,e;for(e=c.length-1;0<=e;e--)if(f=c[e],f[i].display=a.data(f,x)||y,"none"===a.css(f,"display")){d=f.tagName.toLowerCase();var h=void 0,j=B[d],g=void 0;B[d]||(h=b.body||b.documentElement,g=b.createElement(d),a.prepend(g,h),j=a.css(g,"display"),h.removeChild(g),B[d]=j);d=j;a.data(f,x,d);f[i].display=d}},hide:function(b){var b=
a.query(b),c,d;for(d=b.length-1;0<=d;d--){c=b[d];var f=c[i],e=f.display;"none"!==e&&(e&&a.data(c,x,e),f.display="none")}},toggle:function(b){var b=a.query(b),c,d;for(d=b.length-1;0<=d;d--)c=b[d],"none"===a.css(c,"display")?a.show(c):a.hide(c)},addStyleSheet:function(b,c,d){"string"==typeof b&&(d=c,c=b,b=k);var b=a.getDocument(b),f;if(d&&(d=d.replace("#",y)))f=a.get("#"+d,b);f||(f=a.create("<style>",{id:d},b),a.get("head",b).appendChild(f),f.styleSheet?f.styleSheet.cssText=c:f.appendChild(b.createTextNode(c)))},
unselectable:function(b){var b=a.query(b),f,e,h=0,j,g;for(e=b.length-1;0<=e;e--)if(f=b[e],g=f[i],g.UserSelect="none",n.gecko)g.MozUserSelect="none";else if(n.webkit)g.WebkitUserSelect="none";else if(n.ie||n.opera){g=f.getElementsByTagName("*");f.setAttribute("unselectable","on");for(j=["iframe","textarea","input","select"];f=g[h++];)d.inArray(c(f),j)||f.setAttribute("unselectable","on")}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});d.each([m,"height"],function(b){a["inner"+
d.ucfirst(b)]=function(c){return(c=a.get(c))&&f(c,b,"padding")};a["outer"+d.ucfirst(b)]=function(c,d){var e=a.get(c);return e&&f(e,b,d?"margin":"border")};a[b]=function(c,d){var f=a.css(c,b,d);f&&(f=parseFloat(f));return f};z[b]={get:function(a,c){var d;c&&(d=f(a,b)+"px");return d}}});var G={position:"absolute",visibility:"hidden",display:"block"};d.each(["left","top"],function(c){z[c]={get:function(d,f){var e,h,g;if(f){g=a.css(d,"position");if("static"===g)return"auto";e=a._getComputedStyle(d,c);
if((h="auto"===e)&&"relative"===g)return"0px";if(h||F.test(e)){g={top:0,left:0};if("fixed"==a.css(d,"position"))h=d.getBoundingClientRect();else{for(e=d.offsetParent||(d.ownerDocument||b).body;e&&!H.test(e.nodeName)&&"static"===a.css(e,"position");)e=e.offsetParent;h=a.offset(d);g=a.offset(e);g.top+=parseFloat(a.css(e,"borderTopWidth"))||0;g.left+=parseFloat(a.css(e,"borderLeftWidth"))||0}h.top-=parseFloat(a.css(d,"marginTop"))||0;h.left-=parseFloat(a.css(d,"marginLeft"))||0;e={top:h.top-g.top,left:h.left-
g.left}[c]+"px"}}return e}}});var H=/^(?:body|html)$/i;return a},{requires:["./api"]});
KISSY.add("dom/base/selector",function(d,a,g){function r(a){var b=this.length,c;for(c=0;c<b&&!1!==a(this[c],c);c++);}function l(d,f){var k,e;k="string"==typeof d;var n=f!==g?l(f):(e=1)&&[j],o=n.length;if(d)if(k)if(d=v(d),e&&"body"==d)k=[j.body];else{k=[];for(e=0;e<o;e++)m.apply(k,a._selectInternal(d,n[e]));1<k.length&&1<o&&a.unique(k)}else{if(k=d.nodeType||d.setTimeout?[d]:d.getDOMNodes?d.getDOMNodes():c(d)?d:i(d)?b(d):[d],!e){var q=k,s,u=q.length;k=[];for(e=0;e<u;e++)for(s=0;s<o;s++)if(a._contains(n[s],
q[e])){k.push(q[e]);break}}}else k=[];k.each=r;return k}function o(a,b){var c=a&&(a.className||q(a,"class"));return c&&-1<(s+c+s).indexOf(s+b+s)}function q(a,b){var c=a&&a.getAttributeNode(b);return c&&c.specified?c.nodeValue:g}function f(a,b){return"*"==b||a.nodeName.toLowerCase()===b.toLowerCase()}var j=d.Env.host.document,k=j.documentElement,n=k.matches||k.webkitMatchesSelector||k.mozMatchesSelector||k.oMatchesSelector||k.msMatchesSelector,c=d.isArray,b=d.makeArray,i=a.isDomNodeList,s=" ",m=Array.prototype.push,
x=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,v=d.trim;d.mix(a,{_compareNodeOrder:function(a,b){return!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1},_getSimpleAttr:q,_isTag:f,_hasSingleClass:o,_matchesInternal:function(a,b){for(var c=[],d=0,f,g=b.length;d<g;d++)f=b[d],n.call(f,a)&&c.push(f);return c},_selectInternal:function(a,c){return b(c.querySelectorAll(a))},query:l,get:function(a,b){return l(a,b)[0]||null},unique:function(){function b(d,
f){return d==f?(c=!0,0):a._compareNodeOrder(d,f)}var c,d=!0;[0,0].sort(function(){d=!1;return 0});return function(a){c=d;a.sort(b);if(c)for(var f=1,g=a.length;f<g;)a[f]===a[f-1]?(a.splice(f,1),--g):f++;return a}}(),filter:function(b,c,g){var b=l(b,g),e,j,i,k,g=[];if("string"==typeof c&&(c=v(c))&&(i=x.exec(c)))e=i[1],j=i[2],k=i[3],e?e&&!j&&!k&&(c=function(a){return q(a,"id")==e}):c=function(a){var b=!0,c=!0;j&&(b=f(a,j));k&&(c=o(a,k));return c&&b};return g=d.isFunction(c)?d.filter(b,c):a._matchesInternal(c,
b)},test:function(b,c,d){b=l(b,d);return b.length&&a.filter(b,c,d).length===b.length}});return a},{requires:["./api"]});
KISSY.add("dom/base/traversal",function(d,a,g){function r(f,j,k,n,c,b,i){if(!(f=a.get(f)))return null;if(0===j)return f;b||(f=f[k]);if(!f)return null;c=c&&a.get(c)||null;j===g&&(j=1);var b=[],o=d.isArray(j),m,r;d.isNumber(j)&&(m=0,r=j,j=function(){return++m===r});for(;f&&f!=c;){if((f.nodeType==q.ELEMENT_NODE||f.nodeType==q.TEXT_NODE&&i)&&l(f,j)&&(!n||n(f)))if(b.push(f),!o)break;f=f[k]}return o?b:b[0]||null}function l(f,g){if(!g)return!0;if(d.isArray(g)){var k,l=g.length;if(!l)return!0;for(k=0;k<l;k++)if(a.test(f,
g[k]))return!0}else if(a.test(f,g))return!0;return!1}function o(f,g,k,l){var c=[],b,i;if((b=f=a.get(f))&&k)b=f.parentNode;if(b){k=d.makeArray(b.childNodes);for(b=0;b<k.length;b++)i=k[b],(l||i.nodeType==q.ELEMENT_NODE)&&i!=f&&c.push(i);g&&(c=a.filter(c,g))}return c}var q=a.NodeType;d.mix(a,{_contains:function(a,d){return!!(a.compareDocumentPosition(d)&16)},closest:function(a,d,g,l){return r(a,d,"parentNode",function(a){return a.nodeType!=q.DOCUMENT_FRAGMENT_NODE},g,!0,l)},parent:function(a,d,k){return r(a,
d,"parentNode",function(a){return a.nodeType!=q.DOCUMENT_FRAGMENT_NODE},k,g)},first:function(d,j,k){d=a.get(d);return r(d&&d.firstChild,j,"nextSibling",g,g,!0,k)},last:function(d,j,k){d=a.get(d);return r(d&&d.lastChild,j,"previousSibling",g,g,!0,k)},next:function(a,d,k){return r(a,d,"nextSibling",g,g,g,k)},prev:function(a,d,k){return r(a,d,"previousSibling",g,g,g,k)},siblings:function(a,d,g){return o(a,d,!0,g)},children:function(a,d){return o(a,d,g)},contents:function(a,d){return o(a,d,g,1)},contains:function(d,
g){d=a.get(d);g=a.get(g);return d&&g?a._contains(d,g):!1},index:function(f,g){var k=a.query(f),l,c=0;l=k[0];if(!g){k=l&&l.parentNode;if(!k)return-1;for(;l=l.previousSibling;)l.nodeType==q.ELEMENT_NODE&&c++;return c}c=a.query(g);return"string"===typeof g?d.indexOf(l,c):d.indexOf(c[0],k)},equals:function(d,g){d=a.query(d);g=a.query(g);if(d.length!=g.length)return!1;for(var k=d.length;0<=k;k--)if(d[k]!=g[k])return!1;return!0}});return a},{requires:["./api"]});
KISSY.add("dom/base",function(d,a){d.mix(d,{DOM:a,get:a.get,query:a.query});return a},{requires:"./base/api,./base/attr,./base/class,./base/create,./base/data,./base/insertion,./base/offset,./base/style,./base/selector,./base/traversal".split(",")});
