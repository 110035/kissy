/*
Copyright 2013, KISSY UI Library v1.40dev
MIT Licensed
build time: Jun 21 01:18
*/
KISSY.add("dom/base/api",function(c){var a=c.Env.host||{},g=a.document,q=c.UA,k={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},n={isCustomDomain:function(c){var c=c||a,c=n.get(c),e=c.document.domain,c=c.location.hostname;return e!=c&&e!="["+c+"]"},getEmptyIframeSrc:function(c){c=c||a;c=n.get(c);return q.ie&&n.isCustomDomain(c)?
"javascript:void(function(){"+encodeURIComponent("document.open();document.domain='"+c.document.domain+"';document.close();")+"}())":""},NodeType:k,getWindow:function(g){if(!g)return a;g=n.get(g);if(c.isWindow(g))return g;var e=g;e.nodeType!==k.DOCUMENT_NODE&&(e=g.ownerDocument);return e.defaultView||e.parentWindow},getDocument:function(a){if(!a)return g;a=n.get(a);return c.isWindow(a)?a.document:a.nodeType==k.DOCUMENT_NODE?a:a.ownerDocument},isDomNodeList:function(a){return a&&!a.nodeType&&a.item&&
!a.setTimeout},nodeName:function(a){var c=n.get(a),a=c.nodeName.toLowerCase();q.ie&&(c=c.scopeName)&&"HTML"!=c&&(a=c.toLowerCase()+":"+a);return a},_RE_NUM_NO_PX:RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i")};c.mix(n,k);return n});
KISSY.add("dom/base/attr",function(c,a,g){function q(a,l){var l=t[l]||l,d=h[l];return d&&d.get?d.get(a,l):a[l]}var k=c.Env.host.document,n=a.NodeType,k=k&&k.documentElement,u=a.nodeName,e=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,i=/^(?:button|input|object|select|textarea)$/i,m=/^a(?:rea)?$/i,r=/:|^on/,d=/\r/g,b={},j={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1,scrollTop:1,scrollLeft:1},v={tabindex:{get:function(a){var l=
a.getAttributeNode("tabindex");return l&&l.specified?parseInt(l.value,10):i.test(a.nodeName)||m.test(a.nodeName)&&a.href?0:g}}},t={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},x={get:function(d,l){return a.prop(d,l)?l.toLowerCase():g},set:function(d,l,b){!1===l?
a.removeAttr(d,b):(l=t[b]||b,l in d&&(d[l]=!0),d.setAttribute(b,b.toLowerCase()));return b}},h={},f={},p={select:{get:function(d){var l=d.selectedIndex,b=d.options,f;if(0>l)return null;if("select-one"===""+d.type)return a.val(b[l]);d=[];l=0;for(f=b.length;l<f;++l)b[l].selected&&d.push(a.val(b[l]));return d},set:function(d,l){var b=c.makeArray(l);c.each(d.options,function(d){d.selected=c.inArray(a.val(d),b)});b.length||(d.selectedIndex=-1);return b}}};c.each(["radio","checkbox"],function(d){p[d]={get:function(a){return null===
a.getAttribute("value")?"on":a.value},set:function(d,b){return c.isArray(b)?d.checked=c.inArray(a.val(d),b):g}}});v.style={get:function(a){return a.style.cssText}};c.mix(a,{_valHooks:p,_propFix:t,_attrHooks:v,_propHooks:h,_attrNodeHook:f,_attrFix:b,prop:function(d,b,f){var j=a.query(d),p,o;if(c.isPlainObject(b))return c.each(b,function(d,b){a.prop(j,b,d)}),g;b=t[b]||b;o=h[b];if(f!==g)for(d=j.length-1;0<=d;d--)p=j[d],o&&o.set?o.set(p,f,b):p[b]=f;else if(j.length)return q(j[0],b);return g},hasProp:function(d,
b){var f=a.query(d),c,h=f.length,o;for(c=0;c<h;c++)if(o=f[c],q(o,b)!==g)return!0;return!1},removeProp:function(d,b){var b=t[b]||b,f=a.query(d),c,h;for(c=f.length-1;0<=c;c--){h=f[c];try{h[b]=g,delete h[b]}catch(o){}}},attr:function(d,l,h,p){var i=a.query(d),o=i[0];if(c.isPlainObject(l)){var p=h,w;for(w in l)a.attr(i,w,l[w],p);return g}if(p&&j[l])return a[l](d,h);l=l.toLowerCase();if(p&&j[l])return a[l](d,h);l=b[l]||l;d=e.test(l)?x:r.test(l)?f:v[l];if(h===g){if(o&&o.nodeType===n.ELEMENT_NODE){"form"==
u(o)&&(d=f);if(d&&d.get)return d.get(o,l);h=o.getAttribute(l);return""===h&&(l=o.getAttributeNode(l),!l||!l.specified)?g:null===h?g:h}}else for(p=i.length-1;0<=p;p--)if((o=i[p])&&o.nodeType===n.ELEMENT_NODE)"form"==u(o)&&(d=f),d&&d.set?d.set(o,h,l):o.setAttribute(l,""+h);return g},removeAttr:function(d,h){var h=h.toLowerCase(),h=b[h]||h,f=a.query(d),c,p,o;for(o=f.length-1;0<=o;o--)if(p=f[o],p.nodeType==n.ELEMENT_NODE&&(p.removeAttribute(h),e.test(h)&&(c=t[h]||h)in p))p[c]=!1},hasAttr:k&&!k.hasAttribute?
function(d,b){var b=b.toLowerCase(),h=a.query(d),f,c;for(f=0;f<h.length;f++)if(c=h[f],(c=c.getAttributeNode(b))&&c.specified)return!0;return!1}:function(d,b){var h=a.query(d),f,c=h.length;for(f=0;f<c;f++)if(h[f].hasAttribute(b))return!0;return!1},val:function(b,h){var f,j,i,o,w;if(h===g){if(i=a.get(b)){if((f=p[u(i)]||p[i.type])&&"get"in f&&(j=f.get(i,"value"))!==g)return j;j=i.value;return"string"===typeof j?j.replace(d,""):null==j?"":j}return g}j=a.query(b);for(o=j.length-1;0<=o;o--){i=j[o];if(1!==
i.nodeType)break;w=h;null==w?w="":"number"===typeof w?w+="":c.isArray(w)&&(w=c.map(w,function(a){return a==null?"":a+""}));f=p[u(i)]||p[i.type];if(!f||!("set"in f)||f.set(i,w,"value")===g)i.value=w}return g},text:function(d,b){var h,f,c,o;if(b===g)return h=a.get(d),a._getText(h);f=a.query(d);for(c=f.length-1;0<=c;c--)if(h=f[c],o=h.nodeType,o==n.ELEMENT_NODE)a.empty(h),h.appendChild(h.ownerDocument.createTextNode(b));else if(o==n.TEXT_NODE||o==n.CDATA_SECTION_NODE)h.nodeValue=b;return g},_getText:function(a){return a.textContent}});
return a},{requires:["./api"]});
KISSY.add("dom/base/class",function(c,a){function g(a){for(var a=c.trim(a||""),a=a.split(e),g=[],r,d=a.length,b=0;b<d;b++)(r=a[b])&&g.push(r);return g}function q(a){return function(c,g){var d,b,j,e=c.classList,t=n.call(arguments,2);d=0;for(b=g.length;d<b;d++)(j=g[d])&&e[a].apply(e,[j].concat(t))}}function k(c){return function(e,r){var d=g(r),b=n.call(arguments,2);a.query(e).each(function(j){j.nodeType==u.ELEMENT_NODE&&a[c].apply(a,[j,d].concat(b))})}}var n=[].slice,u=a.NodeType,e=/[\.\s]\s*\.?/;c.mix(a,
{_hasClass:function(a,c){var g,d,b,j=a.classList;if(j.length){g=0;for(d=c.length;g<d;g++)if((b=c[g])&&!j.contains(b))return!1;return!0}return!1},_addClass:q("add"),_removeClass:q("remove"),_toggleClass:q("toggle"),hasClass:function(c,e){var r=a.get(c);return r&&r.nodeType==u.ELEMENT_NODE&&a._hasClass(r,g(e))},replaceClass:function(c,g,e){a.removeClass(c,g);a.addClass(c,e)},addClass:k("_addClass"),removeClass:k("_removeClass"),toggleClass:k("_toggleClass")});return a},{requires:["./api"]});
KISSY.add("dom/base/create",function(c,a,g){function q(d){var b=c.require("event/dom");b&&b.detach(d);a.removeData(d)}function k(a,h){var f=h&&h!=i?h.createElement(d):b;f.innerHTML="m<div>"+a+"</div>";return f.lastChild}function n(a,d,b){var h=d.nodeType;if(h==m.DOCUMENT_FRAGMENT_NODE){d=d.childNodes;b=b.childNodes;for(h=0;d[h];)b[h]&&n(a,d[h],b[h]),h++}else if(h==m.ELEMENT_NODE){d=d.getElementsByTagName("*");b=b.getElementsByTagName("*");for(h=0;d[h];)b[h]&&a(d[h],b[h]),h++}}function u(d,b){var h=
c.require("event/dom"),f,s;if(b.nodeType!=m.ELEMENT_NODE||a.hasData(d)){f=a.data(d);for(s in f)a.data(b,s,f[s]);h&&h.clone(d,b)}}function e(a){var d=null,b,h;if(a&&(a.push||a.item)&&a[0]){d=a[0].ownerDocument;d=d.createDocumentFragment();a=c.makeArray(a);b=0;for(h=a.length;b<h;b++)d.appendChild(a[b])}return d}var i=c.Env.host.document,m=a.NodeType,r=c.UA.ie,d="div",b=i&&i.createElement(d),j=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,v=/<([\w:]+)/,t=/^\s+/,x=/\s+$/,h=
r&&9>r,f=/<|&#?\w+;/,p=i&&"outerHTML"in i.documentElement,z=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;c.mix(a,{create:function(b,p,l,r){var s=null;if(!b)return s;if(b.nodeType)return a.clone(b);if("string"!=typeof b)return s;r===g&&(r=!0);r&&(b=c.trim(b));var r=a._creators,B,C,l=l||i,D,F=d;if(f.test(b))if(D=z.exec(b))s=l.createElement(D[1]);else{b=b.replace(j,"<$1></$2>");if((D=v.exec(b))&&(B=D[1]))F=B.toLowerCase();B=(r[F]||k)(b,l);h&&(C=b.match(t))&&B.insertBefore(l.createTextNode(C[0]),B.firstChild);h&&/\S/.test(b)&&
(C=b.match(x))&&B.appendChild(l.createTextNode(C[0]));b=B.childNodes;1===b.length?s=b[0].parentNode.removeChild(b[0]):b.length&&(s=e(b))}else s=l.createTextNode(b);c.isPlainObject(p)&&(s.nodeType==m.ELEMENT_NODE?a.attr(s,p,!0):s.nodeType==m.DOCUMENT_FRAGMENT_NODE&&a.attr(s.childNodes,p,!0));return s},_fixCloneAttributes:function(d,b){"textarea"===a.nodeName(d)&&(b.defaultValue=d.defaultValue,b.value=d.value)},_creators:{div:k},_defaultCreator:k,html:function(d,b,f){var d=a.query(d),c=d[0],s=!1,p,
j;if(!c)return null;if(b===g)return c.nodeType==m.ELEMENT_NODE?c.innerHTML:null;b+="";if(!b.match(/<(?:script|style|link)/i)&&(!h||!b.match(t))&&!y[(b.match(v)||["",""])[1].toLowerCase()])try{for(p=d.length-1;0<=p;p--)j=d[p],j.nodeType==m.ELEMENT_NODE&&(q(j.getElementsByTagName("*")),j.innerHTML=b);s=!0}catch(l){}s||(b=a.create(b,0,c.ownerDocument,0),a.empty(d),a.append(b,d,f));return g},outerHtml:function(h,f,c){var j=a.query(h),s=j.length,h=j[0];if(!h)return null;if(f===g){if(p)return h.outerHTML;
f=(f=h.ownerDocument)&&f!=i?f.createElement(d):b;f.innerHTML="";f.appendChild(a.clone(h,!0));f.appendChild(a.clone(h,!0));return f.innerHTML}f+="";if(!f.match(/<(?:script|style|link)/i)&&p)for(c=s-1;0<=c;c--)h=j[c],h.nodeType==m.ELEMENT_NODE&&(q(h),q(h.getElementsByTagName("*")),h.outerHTML=f);else h=a.create(f,0,h.ownerDocument,0),a.insertBefore(h,j,c),a.remove(j);return g},remove:function(b,d){var h,f=a.query(b),s,j,p=c.require("event/dom"),l;for(l=f.length-1;0<=l;l--)h=f[l],!d&&h.nodeType==m.ELEMENT_NODE&&
(s=c.makeArray(h.getElementsByTagName("*")),s.push(h),a.removeData(s),p&&p.detach(s)),(j=h.parentNode)&&j.removeChild(h)},clone:function(b,d,h,f){"object"===typeof d&&(f=d.deepWithDataAndEvent,h=d.withDataAndEvent,d=d.deep);var b=a.get(b),c,j=a._fixCloneAttributes,p;if(!b)return null;p=b.nodeType;c=b.cloneNode(d);if(p==m.ELEMENT_NODE||p==m.DOCUMENT_FRAGMENT_NODE)j&&p==m.ELEMENT_NODE&&j(b,c),d&&j&&n(j,b,c);h&&(u(b,c),d&&f&&n(u,b,c));return c},empty:function(b){var b=a.query(b),d,h;for(h=b.length-1;0<=
h;h--)d=b[h],a.remove(d.childNodes)},_nodeListToFragment:e});a.outerHTML=a.outerHtml;var l=a._creators,E=a.create,y={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},A;for(A in y)(function(a){l[A]=function(b,d){return E("<"+a+">"+b+"</"+a+">",null,d)}})(y[A]);return a},{requires:["./api"]});
KISSY.add("dom/base/data",function(c,a,g){var q=c.Env.host,k="_ks_data_"+c.now(),n={},u={},e={applet:1,object:1,embed:1},i={hasData:function(a,b){if(a)if(b!==g){if(b in a)return!0}else if(!c.isEmptyObject(a))return!0;return!1}},m={hasData:function(a,b){return a==q?m.hasData(u,b):i.hasData(a[k],b)},data:function(a,b,c){if(a==q)return m.data(u,b,c);var e=a[k];if(c!==g)e=a[k]=a[k]||{},e[b]=c;else return b!==g?e&&e[b]:e=a[k]=a[k]||{}},removeData:function(a,b){if(a==q)return m.removeData(u,b);var j=a[k];
if(b!==g)delete j[b],c.isEmptyObject(j)&&m.removeData(a);else try{delete a[k]}catch(e){a[k]=g}}},r={hasData:function(a,b){var c=a[k];return!c?!1:i.hasData(n[c],b)},data:function(a,b,j){if(e[a.nodeName.toLowerCase()])return g;var i=a[k];if(!i){if(b!==g&&j===g)return g;i=a[k]=c.guid()}a=n[i];if(j!==g)a=n[i]=n[i]||{},a[b]=j;else return b!==g?a&&a[b]:a=n[i]=n[i]||{}},removeData:function(a,b){var j=a[k],e;if(j)if(e=n[j],b!==g)delete e[b],c.isEmptyObject(e)&&r.removeData(a);else{delete n[j];try{delete a[k]}catch(i){a[k]=
g}a.removeAttribute&&a.removeAttribute(k)}}};c.mix(a,{__EXPANDO:k,hasData:function(d,b){for(var c=!1,g=a.query(d),e=0;e<g.length&&!(c=g[e],c=c.nodeType?r.hasData(c,b):m.hasData(c,b));e++);return c},data:function(d,b,j){var d=a.query(d),e=d[0];if(c.isPlainObject(b)){for(var i in b)a.data(d,i,b[i]);return g}if(j===g){if(e)return e.nodeType?r.data(e,b):m.data(e,b)}else for(i=d.length-1;0<=i;i--)e=d[i],e.nodeType?r.data(e,b,j):m.data(e,b,j);return g},removeData:function(d,b){var c=a.query(d),e,g;for(g=
c.length-1;0<=g;g--)e=c[g],e.nodeType?r.removeData(e,b):m.removeData(e,b)}});return a},{requires:["./api"]});
KISSY.add("dom/base/insertion",function(c,a){function g(a,b){var c=[],k,t,q;for(k=0;a[k];k++)if(t=a[k],q=e(t),t.nodeType==n.DOCUMENT_FRAGMENT_NODE)c.push.apply(c,g(i(t.childNodes),b));else if("script"===q&&(!t.type||r.test(t.type)))t.parentNode&&t.parentNode.removeChild(t),b&&b.push(t);else{if(t.nodeType==n.ELEMENT_NODE&&!u.test(q)){q=[];var h,f,p=t.getElementsByTagName("script");for(f=0;f<p.length;f++)h=p[f],(!h.type||r.test(h.type))&&q.push(h);m.apply(a,[k+1,0].concat(q))}c.push(t)}return c}function q(a){a.src?
c.getScript(a.src):(a=c.trim(a.text||a.textContent||a.innerHTML||""))&&c.globalEval(a)}function k(d,b,e,i){d=a.query(d);i&&(i=[]);d=g(d,i);a._fixInsertionChecked&&a._fixInsertionChecked(d);var b=a.query(b),m,r,h,f,p=b.length;if((d.length||i&&i.length)&&p){d=a._nodeListToFragment(d);1<p&&(f=a.clone(d,!0),b=c.makeArray(b));for(m=0;m<p;m++)r=b[m],d&&(h=0<m?a.clone(f,!0):d,e(h,r)),i&&i.length&&c.each(i,q)}}var n=a.NodeType,u=/^(?:button|input|object|select|textarea)$/i,e=a.nodeName,i=c.makeArray,m=[].splice,
r=/\/(java|ecma)script/i;c.mix(a,{_fixInsertionChecked:null,insertBefore:function(a,b,c){k(a,b,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)},c)},insertAfter:function(a,b,c){k(a,b,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)},c)},appendTo:function(a,b,c){k(a,b,function(a,b){b.appendChild(a)},c)},prependTo:function(a,b,c){k(a,b,function(a,b){b.insertBefore(a,b.firstChild)},c)},wrapAll:function(c,b){b=a.clone(a.get(b),!0);c=a.query(c);c[0].parentNode&&a.insertBefore(b,
c[0]);for(var e;(e=b.firstChild)&&1==e.nodeType;)b=e;a.appendTo(c,b)},wrap:function(d,b){d=a.query(d);b=a.get(b);c.each(d,function(c){a.wrapAll(c,b)})},wrapInner:function(d,b){d=a.query(d);b=a.get(b);c.each(d,function(c){var d=c.childNodes;d.length?a.wrapAll(d,b):c.appendChild(b)})},unwrap:function(d){d=a.query(d);c.each(d,function(b){b=b.parentNode;a.replaceWith(b,b.childNodes)})},replaceWith:function(c,b){var e=a.query(c),b=a.query(b);a.remove(b,!0);a.insertBefore(b,e);a.remove(e)}});c.each({prepend:"prependTo",
append:"appendTo",before:"insertBefore",after:"insertAfter"},function(c,b){a[b]=a[c]});return a},{requires:["./api"]});
KISSY.add("dom/base/offset",function(c,a,g){function q(a){var c,d=a.ownerDocument.body;if(!a.getBoundingClientRect)return{left:0,top:0};c=a.getBoundingClientRect();a=c[b];c=c[j];a-=m.clientLeft||d.clientLeft||0;c-=m.clientTop||d.clientTop||0;return{left:a,top:c}}function k(b,c){var d={left:0,top:0},e=r(b),l,g=b,c=c||e;do{if(e==c){var i=g;l=q(i);i=r(i);l.left+=a[t](i);l.top+=a[x](i)}else l=q(g);d.left+=l.left;d.top+=l.top}while(e&&e!=c&&(g=e.frameElement)&&(e=e.parent));return d}var n=c.Env.host,u=
c.UA,e=n.document,i=a.NodeType,m=e&&e.documentElement,r=a.getWindow,d=Math.max,b="left",j="top",v=c.isNumber,t="scrollLeft",x="scrollTop";c.mix(a,{offset:function(b,c,d){if(c===g){var b=a.get(b),e;b&&(e=k(b,d));return e}d=a.query(b);for(e=d.length-1;0<=e;e--){var b=d[e],i=c;"static"===a.css(b,"position")&&(b.style.position="relative");var j=k(b),m={},r=void 0,o=void 0;for(o in i)r=parseFloat(a.css(b,o))||0,m[o]=r+i[o]-j[o];a.css(b,m)}return g},scrollIntoView:function(d,f,e,m){var l,k,n,q;if(n=a.get(d)){f&&
(f=a.get(f));f||(f=n.ownerDocument);f.nodeType==i.DOCUMENT_NODE&&(f=r(f));c.isPlainObject(e)&&(m=e.allowHorizontalScroll,q=e.onlyScrollIfNeeded,e=e.alignWithTop);m=m===g?!0:m;k=c.isWindow(f);var d=a.offset(n),o=a.outerHeight(n);l=a.outerWidth(n);var t,u,v,s;k?(k=f,t=a.height(k),u=a.width(k),s={left:a.scrollLeft(k),top:a.scrollTop(k)},k=d[b]-s[b],n=d[j]-s[j],l=d[b]+l-(s[b]+u),d=d[j]+o-(s[j]+t)):(t=a.offset(f),u=f.clientHeight,v=f.clientWidth,s={left:a.scrollLeft(f),top:a.scrollTop(f)},k=d[b]-(t[b]+
(parseFloat(a.css(f,"borderLeftWidth"))||0)),n=d[j]-(t[j]+(parseFloat(a.css(f,"borderTopWidth"))||0)),l=d[b]+l-(t[b]+v+(parseFloat(a.css(f,"borderRightWidth"))||0)),d=d[j]+o-(t[j]+u+(parseFloat(a.css(f,"borderBottomWidth"))||0)));if(q){if(0>n||0<d)!0===e?a.scrollTop(f,s.top+n):!1===e?a.scrollTop(f,s.top+d):0>n?a.scrollTop(f,s.top+n):a.scrollTop(f,s.top+d)}else(e=e===g?!0:!!e)?a.scrollTop(f,s.top+n):a.scrollTop(f,s.top+d);if(m)if(q){if(0>k||0<l)!0===e?a.scrollLeft(f,s.left+k):!1===e?a.scrollLeft(f,
s.left+l):0>k?a.scrollLeft(f,s.left+k):a.scrollLeft(f,s.left+l)}else(e=e===g?!0:!!e)?a.scrollLeft(f,s.left+k):a.scrollLeft(f,s.left+l)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});c.each(["Left","Top"],function(b,c){var d="scroll"+b;a[d]=function(e,l){if(v(e))return arguments.callee(n,e);var e=a.get(e),j,m,k,o;e&&e.nodeType==i.ELEMENT_NODE?l!==g?e[d]=parseFloat(l):j=e[d]:(o=r(e),l!==g?(l=parseFloat(l),m="Left"==b?l:a.scrollLeft(o),k="Top"==b?l:a.scrollTop(o),
o.scrollTo(m,k)):(j=o["page"+(c?"Y":"X")+"Offset"],v(j)||(m=o.document,j=m.documentElement[d],v(j)||(j=m.body[d]))));return j}});c.each(["Width","Height"],function(b){a["doc"+b]=function(c){c=a.get(c);c=a.getDocument(c);return d(c.documentElement["scroll"+b],c.body["scroll"+b],a["viewport"+b](c))};a["viewport"+b]=function(c){var c=a.get(c),d=r(c),c=d["inner"+b];if(u.mobile&&c)return c;var c="client"+b,d=d.document,e=d.body,i=d.documentElement[c];return"CSS1Compat"===d.compatMode&&i||e&&e[c]||i}});
return a},{requires:["./api"]});
KISSY.add("dom/base/style",function(c,a,g){function q(a,b){return b.toUpperCase()}function k(a){return a.replace(f,"ms-").replace(w,q)}function n(a,b,c){var d={},e;for(e in b)d[e]=a[j][e],a[j][e]=b[e];c.call(a);for(e in b)a[j][e]=d[e]}function u(a,b,c){var d,e,f;if(3===a.nodeType||8===a.nodeType||!(d=a[j]))return g;b=k(b);f=y[b];b=A[b]||b;if(c!==g){null===c||c===z?c=z:!isNaN(Number(c))&&!h[b]&&(c+=l);f&&f.set&&(c=f.set(a,c));if(c!==g){try{d[b]=c}catch(i){}c===z&&d.removeAttribute&&d.removeAttribute(b)}d.cssText||
a.removeAttribute("style");return g}if(!f||!("get"in f&&(e=f.get(a,!1))!==g))e=d[b];return e===g?"":e}function e(a){var b,c=arguments;0!==a.offsetWidth?b=i.apply(g,c):n(a,G,function(){b=i.apply(g,c)});return b}function i(b,d,e){if(c.isWindow(b))return d==t?a.viewportWidth(b):a.viewportHeight(b);if(9==b.nodeType)return d==t?a.docWidth(b):a.docHeight(b);var h=d===t?["Left","Right"]:["Top","Bottom"],f=d===t?b.offsetWidth:b.offsetHeight;if(0<f)return"border"!==e&&c.each(h,function(c){e||(f-=parseFloat(a.css(b,
"padding"+c))||0);f="margin"===e?f+(parseFloat(a.css(b,e+c))||0):f-(parseFloat(a.css(b,"border"+c+"Width"))||0)}),f;f=a._getComputedStyle(b,d);if(null==f||0>Number(f))f=b.style[d]||0;f=parseFloat(f)||0;e&&c.each(h,function(c){f+=parseFloat(a.css(b,"padding"+c))||0;"padding"!==e&&(f+=parseFloat(a.css(b,"border"+c+"Width"))||0);"margin"===e&&(f+=parseFloat(a.css(b,e+c))||0)});return f}var m=c.Env.host,r=c.UA,d=a.nodeName,b=m.document,j="style",v=/^margin/,t="width",x="display"+c.now(),h={fillOpacity:1,
fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},f=/^-ms-/,p=/([A-Z]|^ms)/g,z="",l="px",E=/\d(?!px)[a-z%]+$/i,y={},A={"float":"cssFloat"},o={},w=/-([a-z])/ig;c.mix(a,{_camelCase:k,_CUSTOM_STYLES:y,_cssProps:A,_getComputedStyle:function(b,c){var d="",e,f,h,i,g;f=b.ownerDocument;c=c.replace(p,"-$1").toLowerCase();if(e=f.defaultView.getComputedStyle(b,null))d=e.getPropertyValue(c)||e[c];""===d&&!a.contains(f,b)&&(c=A[c]||c,d=b[j][c]);a._RE_NUM_NO_PX.test(d)&&v.test(c)&&(g=b.style,
f=g.width,h=g.minWidth,i=g.maxWidth,g.minWidth=g.maxWidth=g.width=d,d=e.width,g.width=f,g.minWidth=h,g.maxWidth=i);return d},style:function(b,d,e){var b=a.query(b),f,h=b[0];if(c.isPlainObject(d)){for(f in d)for(h=b.length-1;0<=h;h--)u(b[h],f,d[f]);return g}if(e===g)return f="",h&&(f=u(h,d,e)),f;for(h=b.length-1;0<=h;h--)u(b[h],d,e);return g},css:function(b,d,e){var b=a.query(b),f=b[0],h;if(c.isPlainObject(d)){for(h in d)for(f=b.length-1;0<=f;f--)u(b[f],h,d[h]);return g}d=k(d);h=y[d];if(e===g){e="";
if(f&&(!h||!("get"in h&&(e=h.get(f,!0))!==g)))e=a._getComputedStyle(f,d);return"undefined"==typeof e?"":e}for(f=b.length-1;0<=f;f--)u(b[f],d,e);return g},show:function(c){var c=a.query(c),d,e,f;for(f=c.length-1;0<=f;f--)if(e=c[f],e[j].display=a.data(e,x)||z,"none"===a.css(e,"display")){d=e.tagName.toLowerCase();var h=void 0,g=o[d],i=void 0;o[d]||(h=b.body||b.documentElement,i=b.createElement(d),a.prepend(i,h),g=a.css(i,"display"),h.removeChild(i),o[d]=g);d=g;a.data(e,x,d);e[j].display=d}},hide:function(b){var b=
a.query(b),c,d;for(d=b.length-1;0<=d;d--){c=b[d];var e=c[j],f=e.display;"none"!==f&&(f&&a.data(c,x,f),e.display="none")}},toggle:function(b){var b=a.query(b),c,d;for(d=b.length-1;0<=d;d--)c=b[d],"none"===a.css(c,"display")?a.show(c):a.hide(c)},addStyleSheet:function(b,c,d){"string"==typeof b&&(d=c,c=b,b=m);var b=a.getDocument(b),e;if(d&&(d=d.replace("#",z)))e=a.get("#"+d,b);e||(e=a.create("<style>",{id:d},b),a.get("head",b).appendChild(e),e.styleSheet?e.styleSheet.cssText=c:e.appendChild(b.createTextNode(c)))},
unselectable:function(b){var b=a.query(b),e,f,h=0,i,g;for(f=b.length-1;0<=f;f--)if(e=b[f],g=e[j],g.UserSelect="none",r.gecko)g.MozUserSelect="none";else if(r.webkit)g.WebkitUserSelect="none";else if(r.ie||r.opera){g=e.getElementsByTagName("*");e.setAttribute("unselectable","on");for(i=["iframe","textarea","input","select"];e=g[h++];)c.inArray(d(e),i)||e.setAttribute("unselectable","on")}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});c.each([t,"height"],function(b){a["inner"+
c.ucfirst(b)]=function(c){return(c=a.get(c))&&e(c,b,"padding")};a["outer"+c.ucfirst(b)]=function(c,d){var f=a.get(c);return f&&e(f,b,d?"margin":"border")};a[b]=function(c,d){var e=a.css(c,b,d);e&&(e=parseFloat(e));return e};y[b]={get:function(a,c){var d;c&&(d=e(a,b)+"px");return d}}});var G={position:"absolute",visibility:"hidden",display:"block"};c.each(["left","top"],function(c){y[c]={get:function(d,e){var f,h,g;if(e){g=a.css(d,"position");if("static"===g)return"auto";f=a._getComputedStyle(d,c);
if((h="auto"===f)&&"relative"===g)return"0px";if(h||E.test(f)){g={top:0,left:0};if("fixed"==a.css(d,"position"))h=d.getBoundingClientRect();else{for(f=d.offsetParent||(d.ownerDocument||b).body;f&&!H.test(f.nodeName)&&"static"===a.css(f,"position");)f=f.offsetParent;h=a.offset(d);g=a.offset(f);g.top+=parseFloat(a.css(f,"borderTopWidth"))||0;g.left+=parseFloat(a.css(f,"borderLeftWidth"))||0}h.top-=parseFloat(a.css(d,"marginTop"))||0;h.left-=parseFloat(a.css(d,"marginLeft"))||0;f={top:h.top-g.top,left:h.left-
g.left}[c]+"px"}}return f}}});var H=/^(?:body|html)$/i;return a},{requires:["./api"]});
KISSY.add("dom/base/selector",function(c,a){function g(a){var b=this.length,c;for(c=0;c<b&&!1!==a(this[c],c);c++);}function q(c,f){var i,j;i="string"==typeof c;var l=f?q(f):(j=1)&&[e],m=l.length;if(c)if(i)if(c=x(c),j&&"body"==c)i=[e.body];else{i=[];for(j=0;j<m;j++)v.apply(i,a._selectInternal(c,l[j]));1<i.length&&1<m&&a.unique(i)}else{if(i=c.nodeType||c.setTimeout?[c]:c.getDOMNodes?c.getDOMNodes():r(c)?c:b(c)?d(c):[c],!j){var k=i,n,o=k.length;i=[];for(j=0;j<o;j++)for(n=0;n<m;n++)if(a._contains(l[n],
k[j])){i.push(k[j]);break}}}else i=[];i.each=g;return i}function k(a,b){var c=a&&(a.className||n(a,"class"));return c&&-1<(j+c+j).indexOf(j+b+j)}function n(a,b){var c=a&&a.getAttributeNode(b);if(c&&c.specified)return c.nodeValue}function u(a,b){return"*"==b||a.nodeName.toLowerCase()===b.toLowerCase()}var e=c.Env.host.document,i=e.documentElement,m=i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.oMatchesSelector||i.msMatchesSelector,r=c.isArray,d=c.makeArray,b=a.isDomNodeList,j=" ",v=Array.prototype.push,
t=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,x=c.trim;c.mix(a,{_compareNodeOrder:function(a,b){return!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1},_getSimpleAttr:n,_isTag:u,_hasSingleClass:k,_matchesInternal:function(a,b){for(var c=[],d=0,e,g=b.length;d<g;d++)e=b[d],m.call(e,a)&&c.push(e);return c},_selectInternal:function(a,b){return d(b.querySelectorAll(a))},query:q,get:function(a,b){return q(a,b)[0]||null},unique:function(){function b(d,
e){return d==e?(c=!0,0):a._compareNodeOrder(d,e)}var c,d=!0;[0,0].sort(function(){d=!1;return 0});return function(a){c=d;a.sort(b);if(c)for(var e=1,g=a.length;e<g;)a[e]===a[e-1]?(a.splice(e,1),--g):e++;return a}}(),filter:function(b,d,e){var b=q(b,e),g,i,j,m,e=[];if("string"==typeof d&&(d=x(d))&&(j=t.exec(d)))g=j[1],i=j[2],m=j[3],g?g&&!i&&!m&&(d=function(a){return n(a,"id")==g}):d=function(a){var b=!0,c=!0;i&&(b=u(a,i));m&&(c=k(a,m));return c&&b};return e=c.isFunction(d)?c.filter(b,d):a._matchesInternal(d,
b)},test:function(b,c,d){b=q(b,d);return b.length&&a.filter(b,c,d).length===b.length}});return a},{requires:["./api"]});
KISSY.add("dom/base/traversal",function(c,a,g){function q(e,i,m,r,d,b,j){if(!(e=a.get(e)))return null;if(0===i)return e;b||(e=e[m]);if(!e)return null;d=d&&a.get(d)||null;i===g&&(i=1);var b=[],n=c.isArray(i),q,x;c.isNumber(i)&&(q=0,x=i,i=function(){return++q===x});for(;e&&e!=d;){if((e.nodeType==u.ELEMENT_NODE||e.nodeType==u.TEXT_NODE&&j)&&k(e,i)&&(!r||r(e)))if(b.push(e),!n)break;e=e[m]}return n?b:b[0]||null}function k(e,g){if(!g)return!0;if(c.isArray(g)){var m,k=g.length;if(!k)return!0;for(m=0;m<k;m++)if(a.test(e,
g[m]))return!0}else if(a.test(e,g))return!0;return!1}function n(e,g,m,k){var d=[],b,j;if((b=e=a.get(e))&&m)b=e.parentNode;if(b){m=c.makeArray(b.childNodes);for(b=0;b<m.length;b++)j=m[b],(k||j.nodeType==u.ELEMENT_NODE)&&j!=e&&d.push(j);g&&(d=a.filter(d,g))}return d}var u=a.NodeType;c.mix(a,{_contains:function(a,c){return!!(a.compareDocumentPosition(c)&16)},closest:function(a,c,g,k){return q(a,c,"parentNode",function(a){return a.nodeType!=u.DOCUMENT_FRAGMENT_NODE},g,!0,k)},parent:function(a,c,m){return q(a,
c,"parentNode",function(a){return a.nodeType!=u.DOCUMENT_FRAGMENT_NODE},m,g)},first:function(c,i,m){c=a.get(c);return q(c&&c.firstChild,i,"nextSibling",g,g,!0,m)},last:function(c,i,m){c=a.get(c);return q(c&&c.lastChild,i,"previousSibling",g,g,!0,m)},next:function(a,c,m){return q(a,c,"nextSibling",g,g,g,m)},prev:function(a,c,m){return q(a,c,"previousSibling",g,g,g,m)},siblings:function(a,c,g){return n(a,c,!0,g)},children:function(a,c){return n(a,c,g)},contents:function(a,c){return n(a,c,g,1)},contains:function(c,
g){c=a.get(c);g=a.get(g);return c&&g?a._contains(c,g):!1},index:function(e,g){var m=a.query(e),k,d=0;k=m[0];if(!g){m=k&&k.parentNode;if(!m)return-1;for(;k=k.previousSibling;)k.nodeType==u.ELEMENT_NODE&&d++;return d}d=a.query(g);return"string"===typeof g?c.indexOf(k,d):c.indexOf(d[0],m)},equals:function(c,g){c=a.query(c);g=a.query(g);if(c.length!=g.length)return!1;for(var k=c.length;0<=k;k--)if(c[k]!=g[k])return!1;return!0}});return a},{requires:["./api"]});
KISSY.add("dom/base",function(c,a){c.mix(c,{DOM:a,Dom:a,get:a.get,query:a.query});return a},{requires:"./base/api,./base/attr,./base/class,./base/create,./base/data,./base/insertion,./base/offset,./base/style,./base/selector,./base/traversal".split(",")});
