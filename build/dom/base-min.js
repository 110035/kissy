/*
Copyright 2013, KISSY UI Library v1.40dev
MIT Licensed
build time: Jul 17 01:24
*/
KISSY.add("dom/base/api",function(d){var a=d.Env.host||{},g=a.document,q=d.UA,l={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},o={isCustomDomain:function(d){var d=d||a,d=o.get(d),e=d.document.domain,d=d.location.hostname;return e!=d&&e!="["+d+"]"},getEmptyIframeSrc:function(d){d=d||a;d=o.get(d);return q.ie&&o.isCustomDomain(d)?
"javascript:void(function(){"+encodeURIComponent("document.open();document.domain='"+d.document.domain+"';document.close();")+"}())":""},NodeType:l,getWindow:function(g){if(!g)return a;g=o.get(g);if(d.isWindow(g))return g;var e=g;e.nodeType!==l.DOCUMENT_NODE&&(e=g.ownerDocument);return e.defaultView||e.parentWindow},getDocument:function(a){if(!a)return g;a=o.get(a);return d.isWindow(a)?a.document:a.nodeType==l.DOCUMENT_NODE?a:a.ownerDocument},isDomNodeList:function(a){return a&&!a.nodeType&&a.item&&
!a.setTimeout},nodeName:function(a){var d=o.get(a),a=d.nodeName.toLowerCase();q.ie&&(d=d.scopeName)&&"HTML"!=d&&(a=d.toLowerCase()+":"+a);return a},_RE_NUM_NO_PX:RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i")};d.mix(o,l);return o});
KISSY.add("dom/base/attr",function(d,a,g){function q(a,f){var f=r[f]||f,b=t[f];return b&&b.get?b.get(a,f):a[f]}var l=d.Env.host.document,o=a.NodeType,l=l&&l.documentElement,p=a.nodeName,e=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,k=/^(?:button|input|object|select|textarea)$/i,i=/^a(?:rea)?$/i,n=/:|^on/,b=/\r/g,c={},j={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1,scrollTop:1,scrollLeft:1},x={tabindex:{get:function(a){var f=
a.getAttributeNode("tabindex");return f&&f.specified?parseInt(f.value,10):k.test(a.nodeName)||i.test(a.nodeName)&&a.href?0:g}}},r={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},s={get:function(b,f){return a.prop(b,f)?f.toLowerCase():g},set:function(b,f,c){!1===f?
a.removeAttr(b,c):(f=r[c]||c,f in b&&(b[f]=!0),b.setAttribute(c,c.toLowerCase()));return c}},t={},h={},m={select:{get:function(b){var f=b.selectedIndex,c=b.options,d;if(0>f)return null;if("select-one"===""+b.type)return a.val(c[f]);b=[];f=0;for(d=c.length;f<d;++f)c[f].selected&&b.push(a.val(c[f]));return b},set:function(b,f){var c=d.makeArray(f);d.each(b.options,function(b){b.selected=d.inArray(a.val(b),c)});c.length||(b.selectedIndex=-1);return c}}};d.each(["radio","checkbox"],function(b){m[b]={get:function(a){return null===
a.getAttribute("value")?"on":a.value},set:function(b,c){return d.isArray(c)?b.checked=d.inArray(a.val(b),c):g}}});x.style={get:function(a){return a.style.cssText}};d.mix(a,{_valHooks:m,_propFix:r,_attrHooks:x,_propHooks:t,_attrNodeHook:h,_attrFix:c,prop:function(b,f,c){var h=a.query(b),j,m;if(d.isPlainObject(f))return d.each(f,function(b,f){a.prop(h,f,b)}),g;f=r[f]||f;m=t[f];if(c!==g)for(b=h.length-1;0<=b;b--)j=h[b],m&&m.set?m.set(j,c,f):j[f]=c;else if(h.length)return q(h[0],f);return g},hasProp:function(b,
f){var c=a.query(b),d,h=c.length,j;for(d=0;d<h;d++)if(j=c[d],q(j,f)!==g)return!0;return!1},removeProp:function(b,c){var c=r[c]||c,d=a.query(b),h,j;for(h=d.length-1;0<=h;h--){j=d[h];try{j[c]=g,delete j[c]}catch(m){}}},attr:function(b,f,m,k){var t=a.query(b),i=t[0];if(d.isPlainObject(f)){var k=m,u;for(u in f)a.attr(t,u,f[u],k);return g}if(k&&j[f])return a[f](b,m);f=f.toLowerCase();if(k&&j[f])return a[f](b,m);f=c[f]||f;b=e.test(f)?s:n.test(f)?h:x[f];if(m===g){if(i&&i.nodeType===o.ELEMENT_NODE){"form"==
p(i)&&(b=h);if(b&&b.get)return b.get(i,f);m=i.getAttribute(f);return""===m&&(f=i.getAttributeNode(f),!f||!f.specified)?g:null===m?g:m}}else for(k=t.length-1;0<=k;k--)if((i=t[k])&&i.nodeType===o.ELEMENT_NODE)"form"==p(i)&&(b=h),b&&b.set?b.set(i,m,f):i.setAttribute(f,""+m);return g},removeAttr:function(b,f){var f=f.toLowerCase(),f=c[f]||f,d=a.query(b),h,m,j;for(j=d.length-1;0<=j;j--)if(m=d[j],m.nodeType==o.ELEMENT_NODE&&(m.removeAttribute(f),e.test(f)&&(h=r[f]||f)in m))m[h]=!1},hasAttr:l&&!l.hasAttribute?
function(b,c){var c=c.toLowerCase(),d=a.query(b),h,m;for(h=0;h<d.length;h++)if(m=d[h],(m=m.getAttributeNode(c))&&m.specified)return!0;return!1}:function(b,c){var d=a.query(b),h,m=d.length;for(h=0;h<m;h++)if(d[h].hasAttribute(c))return!0;return!1},val:function(c,f){var h,j,k,i,u;if(f===g){if(k=a.get(c)){if((h=m[p(k)]||m[k.type])&&"get"in h&&(j=h.get(k,"value"))!==g)return j;j=k.value;return"string"===typeof j?j.replace(b,""):null==j?"":j}return g}j=a.query(c);for(i=j.length-1;0<=i;i--){k=j[i];if(1!==
k.nodeType)break;u=f;null==u?u="":"number"===typeof u?u+="":d.isArray(u)&&(u=d.map(u,function(a){return a==null?"":a+""}));h=m[p(k)]||m[k.type];if(!h||!("set"in h)||h.set(k,u,"value")===g)k.value=u}return g},text:function(b,c){var h,d,j,m;if(c===g)return h=a.get(b),a._getText(h);d=a.query(b);for(j=d.length-1;0<=j;j--)if(h=d[j],m=h.nodeType,m==o.ELEMENT_NODE)a.empty(h),h.appendChild(h.ownerDocument.createTextNode(c));else if(m==o.TEXT_NODE||m==o.CDATA_SECTION_NODE)h.nodeValue=c;return g},_getText:function(a){return a.textContent}});
return a},{requires:["./api"]});
KISSY.add("dom/base/class",function(d,a){function g(a){for(var a=d.trim(a||""),a=a.split(e),g=[],n,b=a.length,c=0;c<b;c++)(n=a[c])&&g.push(n);return g}function q(a){return function(d,g){var b,c,j,e=d.classList,r=o.call(arguments,2);b=0;for(c=g.length;b<c;b++)(j=g[b])&&e[a].apply(e,[j].concat(r))}}function l(d){return function(e,n){var b=g(n),c=o.call(arguments,2);a.query(e).each(function(j){j.nodeType==p.ELEMENT_NODE&&a[d].apply(a,[j,b].concat(c))})}}var o=[].slice,p=a.NodeType,e=/[\.\s]\s*\.?/;d.mix(a,
{_hasClass:function(a,d){var g,b,c,j=a.classList;if(j.length){g=0;for(b=d.length;g<b;g++)if((c=d[g])&&!j.contains(c))return!1;return!0}return!1},_addClass:q("add"),_removeClass:q("remove"),_toggleClass:q("toggle"),hasClass:function(d,e){var n=a.get(d);return n&&n.nodeType==p.ELEMENT_NODE&&a._hasClass(n,g(e))},replaceClass:function(d,g,e){a.removeClass(d,g);a.addClass(d,e)},addClass:l("_addClass"),removeClass:l("_removeClass"),toggleClass:l("_toggleClass")});return a},{requires:["./api"]});
KISSY.add("dom/base/create",function(d,a,g){function q(b){var c=d.require("event/dom");c&&c.detach(b);a.removeData(b)}function l(a){a=a&&a!=i?a.createElement(c):j;a===j&&(a.innerHTML="");return a}function o(a,b){var c=l(b);c.innerHTML="m<div>"+a+"</div>";return c.lastChild}function p(a,b,c){var h=b.nodeType;if(h==n.DOCUMENT_FRAGMENT_NODE){b=b.childNodes;c=c.childNodes;for(h=0;b[h];)c[h]&&p(a,b[h],c[h]),h++}else if(h==n.ELEMENT_NODE){b=b.getElementsByTagName("*");c=c.getElementsByTagName("*");for(h=
0;b[h];)c[h]&&a(b[h],c[h]),h++}}function e(b,c){var h=d.require("event/dom"),f,w;if(c.nodeType!=n.ELEMENT_NODE||a.hasData(b)){f=a.data(b);for(w in f)a.data(c,w,f[w]);h&&h.clone(b,c)}}function k(a){var b=null,c,h;if(a&&(a.push||a.item)&&a[0]){b=a[0].ownerDocument;b=b.createDocumentFragment();a=d.makeArray(a);c=0;for(h=a.length;c<h;c++)b.appendChild(a[c])}return b}var i=d.Env.host.document,n=a.NodeType,b=d.UA.ie,c="div",j=i&&i.createElement(c),x=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,
r=/<([\w:]+)/,s=/^\s+/,t=/\s+$/,h=b&&9>b,m=/<|&#?\w+;/,z=i&&"outerHTML"in i.documentElement,f=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;d.mix(a,{create:function(b,j,e,E){var w=null;if(!b)return w;if(b.nodeType)return a.clone(b);if("string"!=typeof b)return w;E===g&&(E=!0);E&&(b=d.trim(b));var E=a._creators,C,F,e=e||i,G,z=c;if(m.test(b))if(G=f.exec(b))w=e.createElement(G[1]);else{b=b.replace(x,"<$1></$2>");if((G=r.exec(b))&&(C=G[1]))z=C.toLowerCase();C=(E[z]||o)(b,e);h&&(F=b.match(s))&&C.insertBefore(e.createTextNode(F[0]),
C.firstChild);h&&/\S/.test(b)&&(F=b.match(t))&&C.appendChild(e.createTextNode(F[0]));b=C.childNodes;1===b.length?w=b[0].parentNode.removeChild(b[0]):b.length&&(w=k(b))}else w=e.createTextNode(b);d.isPlainObject(j)&&(w.nodeType==n.ELEMENT_NODE?a.attr(w,j,!0):w.nodeType==n.DOCUMENT_FRAGMENT_NODE&&a.attr(w.childNodes,j,!0));return w},_fixCloneAttributes:function(b,c){"textarea"===a.nodeName(b)&&(c.defaultValue=b.defaultValue,c.value=b.value)},_creators:{div:o},_defaultCreator:o,html:function(b,c,d){var b=
a.query(b),f=b[0],w=!1,j,m;if(!f)return null;if(c===g)return f.nodeType==n.ELEMENT_NODE?f.innerHTML:f.nodeType==n.DOCUMENT_FRAGMENT_NODE?(d=l(f.ownerDocument),d.appendChild(f),d.innerHTML):null;c+="";if(!c.match(/<(?:script|style|link)/i)&&(!h||!c.match(s))&&!B[(c.match(r)||["",""])[1].toLowerCase()])try{for(j=b.length-1;0<=j;j--)m=b[j],m.nodeType==n.ELEMENT_NODE&&(q(m.getElementsByTagName("*")),m.innerHTML=c);w=!0}catch(e){}w||(c=a.create(c,0,f.ownerDocument,0),a.empty(b),a.append(c,b,d));return g},
outerHtml:function(b,c,h){var b=a.query(b),d=b.length,f=b[0];if(!f)return null;if(c===g){if(z&&f.nodeType!=a.DOCUMENT_FRAGMENT_NODE)return f.outerHTML;c=l(f.ownerDocument);c.appendChild(a.clone(f,!0));return c.innerHTML}c+="";if(!c.match(/<(?:script|style|link)/i)&&z)for(h=d-1;0<=h;h--)f=b[h],f.nodeType==n.ELEMENT_NODE&&(q(f),q(f.getElementsByTagName("*")),f.outerHTML=c);else c=a.create(c,0,f.ownerDocument,0),a.insertBefore(c,b,h),a.remove(b);return g},remove:function(b,c){var h,f=a.query(b),j,m,
g=d.require("event/dom"),e;for(e=f.length-1;0<=e;e--)h=f[e],!c&&h.nodeType==n.ELEMENT_NODE&&(j=d.makeArray(h.getElementsByTagName("*")),j.push(h),a.removeData(j),g&&g.detach(j)),(m=h.parentNode)&&m.removeChild(h)},clone:function(b,c,h,f){"object"===typeof c&&(f=c.deepWithDataAndEvent,h=c.withDataAndEvent,c=c.deep);var b=a.get(b),d,j=a._fixCloneAttributes,m;if(!b)return null;m=b.nodeType;d=b.cloneNode(c);if(m==n.ELEMENT_NODE||m==n.DOCUMENT_FRAGMENT_NODE)j&&m==n.ELEMENT_NODE&&j(b,d),c&&j&&p(j,b,d);
h&&(e(b,d),c&&f&&p(e,b,d));return d},empty:function(b){var b=a.query(b),c,h;for(h=b.length-1;0<=h;h--)c=b[h],a.remove(c.childNodes)},_nodeListToFragment:k});a.outerHTML=a.outerHtml;var A=a._creators,y=a.create,B={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},D;for(D in B)(function(a){A[D]=function(b,c){return y("<"+a+">"+b+"</"+a+">",null,c)}})(B[D]);return a},{requires:["./api"]});
KISSY.add("dom/base/data",function(d,a,g){var q=d.Env.host,l="_ks_data_"+d.now(),o={},p={},e={applet:1,object:1,embed:1},k={hasData:function(a,c){if(a)if(c!==g){if(c in a)return!0}else if(!d.isEmptyObject(a))return!0;return!1}},i={hasData:function(a,c){return a==q?i.hasData(p,c):k.hasData(a[l],c)},data:function(a,c,d){if(a==q)return i.data(p,c,d);var e=a[l];if(d!==g)e=a[l]=a[l]||{},e[c]=d;else return c!==g?e&&e[c]:e=a[l]=a[l]||{}},removeData:function(a,c){if(a==q)return i.removeData(p,c);var j=a[l];
if(c!==g)delete j[c],d.isEmptyObject(j)&&i.removeData(a);else try{delete a[l]}catch(e){a[l]=g}}},n={hasData:function(a,c){var d=a[l];return!d?!1:k.hasData(o[d],c)},data:function(a,c,j){if(e[a.nodeName.toLowerCase()])return g;var k=a[l];if(!k){if(c!==g&&j===g)return g;k=a[l]=d.guid()}a=o[k];if(j!==g)a=o[k]=o[k]||{},a[c]=j;else return c!==g?a&&a[c]:a=o[k]=o[k]||{}},removeData:function(a,c){var j=a[l],e;if(j)if(e=o[j],c!==g)delete e[c],d.isEmptyObject(e)&&n.removeData(a);else{delete o[j];try{delete a[l]}catch(k){a[l]=
g}a.removeAttribute&&a.removeAttribute(l)}}};d.mix(a,{__EXPANDO:l,hasData:function(b,c){for(var d=!1,e=a.query(b),g=0;g<e.length&&!(d=e[g],d=d.nodeType?n.hasData(d,c):i.hasData(d,c));g++);return d},data:function(b,c,j){var b=a.query(b),e=b[0];if(d.isPlainObject(c)){for(var k in c)a.data(b,k,c[k]);return g}if(j===g){if(e)return e.nodeType?n.data(e,c):i.data(e,c)}else for(k=b.length-1;0<=k;k--)e=b[k],e.nodeType?n.data(e,c,j):i.data(e,c,j);return g},removeData:function(b,c){var d=a.query(b),e,g;for(g=
d.length-1;0<=g;g--)e=d[g],e.nodeType?n.removeData(e,c):i.removeData(e,c)}});return a},{requires:["./api"]});
KISSY.add("dom/base/insertion",function(d,a){function g(a,c){var d=[],l,r,s;for(l=0;a[l];l++)if(r=a[l],s=e(r),r.nodeType==o.DOCUMENT_FRAGMENT_NODE)d.push.apply(d,g(k(r.childNodes),c));else if("script"===s&&(!r.type||n.test(r.type)))r.parentNode&&r.parentNode.removeChild(r),c&&c.push(r);else{if(r.nodeType==o.ELEMENT_NODE&&!p.test(s)){s=[];var t,h,m=r.getElementsByTagName("script");for(h=0;h<m.length;h++)t=m[h],(!t.type||n.test(t.type))&&s.push(t);i.apply(a,[l+1,0].concat(s))}d.push(r)}return d}function q(a){a.src?
d.getScript(a.src):(a=d.trim(a.text||a.textContent||a.innerHTML||""))&&d.globalEval(a)}function l(b,c,e,k){b=a.query(b);k&&(k=[]);b=g(b,k);a._fixInsertionChecked&&a._fixInsertionChecked(b);var c=a.query(c),i,s,t,h,m=c.length;if((b.length||k&&k.length)&&m){b=a._nodeListToFragment(b);1<m&&(h=a.clone(b,!0),c=d.makeArray(c));for(i=0;i<m;i++)s=c[i],b&&(t=0<i?a.clone(h,!0):b,e(t,s)),k&&k.length&&d.each(k,q)}}var o=a.NodeType,p=/^(?:button|input|object|select|textarea)$/i,e=a.nodeName,k=d.makeArray,i=[].splice,
n=/\/(java|ecma)script/i;d.mix(a,{_fixInsertionChecked:null,insertBefore:function(a,c,d){l(a,c,function(a,c){c.parentNode&&c.parentNode.insertBefore(a,c)},d)},insertAfter:function(a,c,d){l(a,c,function(a,c){c.parentNode&&c.parentNode.insertBefore(a,c.nextSibling)},d)},appendTo:function(a,c,d){l(a,c,function(a,c){c.appendChild(a)},d)},prependTo:function(a,c,d){l(a,c,function(a,c){c.insertBefore(a,c.firstChild)},d)},wrapAll:function(b,c){c=a.clone(a.get(c),!0);b=a.query(b);b[0].parentNode&&a.insertBefore(c,
b[0]);for(var d;(d=c.firstChild)&&1==d.nodeType;)c=d;a.appendTo(b,c)},wrap:function(b,c){b=a.query(b);c=a.get(c);d.each(b,function(b){a.wrapAll(b,c)})},wrapInner:function(b,c){b=a.query(b);c=a.get(c);d.each(b,function(b){var d=b.childNodes;d.length?a.wrapAll(d,c):b.appendChild(c)})},unwrap:function(b){b=a.query(b);d.each(b,function(c){c=c.parentNode;a.replaceWith(c,c.childNodes)})},replaceWith:function(b,c){var d=a.query(b),c=a.query(c);a.remove(c,!0);a.insertBefore(c,d);a.remove(d)}});d.each({prepend:"prependTo",
append:"appendTo",before:"insertBefore",after:"insertAfter"},function(b,c){a[c]=a[b]});return a},{requires:["./api"]});
KISSY.add("dom/base/offset",function(d,a,g){function q(a){var b,d=a.ownerDocument.body;if(!a.getBoundingClientRect)return{left:0,top:0};b=a.getBoundingClientRect();a=b[c];b=b[j];a-=i.clientLeft||d.clientLeft||0;b-=i.clientTop||d.clientTop||0;return{left:a,top:b}}function l(c,b){var d={left:0,top:0},e=n(c),g,f=c,b=b||e;do{if(e==b){var k=f;g=q(k);k=n(k);g.left+=a[x](k);g.top+=a[r](k)}else g=q(f);d.left+=g.left;d.top+=g.top}while(e&&e!=b&&(f=e.frameElement)&&(e=e.parent));return d}var o=d.Env.host,p=
d.UA,e=o.document,k=a.NodeType,i=e&&e.documentElement,n=a.getWindow,b=Math.max,c="left",j="top",x="scrollLeft",r="scrollTop";d.mix(a,{offset:function(c,b,d){if(b===g){var c=a.get(c),e;c&&(e=l(c,d));return e}d=a.query(c);for(e=d.length-1;0<=e;e--){var c=d[e],k=b;"static"===a.css(c,"position")&&(c.style.position="relative");var f=l(c),j={},i=void 0,n=void 0;for(n in k)i=parseFloat(a.css(c,n))||0,j[n]=i+k[n]-f[n];a.css(c,j)}return g},scrollIntoView:function(b,e,h,m){var i,f,l,o;if(l=a.get(b)){e&&(e=
a.get(e));e||(e=l.ownerDocument);e.nodeType==k.DOCUMENT_NODE&&(e=n(e));d.isPlainObject(h)&&(m=h.allowHorizontalScroll,o=h.onlyScrollIfNeeded,h=h.alignWithTop);m=m===g?!0:m;f=d.isWindow(e);var b=a.offset(l),r=a.outerHeight(l);i=a.outerWidth(l);var p,q,x,v;f?(f=e,p=a.height(f),q=a.width(f),v={left:a.scrollLeft(f),top:a.scrollTop(f)},f=b[c]-v[c],l=b[j]-v[j],i=b[c]+i-(v[c]+q),b=b[j]+r-(v[j]+p)):(p=a.offset(e),q=e.clientHeight,x=e.clientWidth,v={left:a.scrollLeft(e),top:a.scrollTop(e)},f=b[c]-(p[c]+(parseFloat(a.css(e,
"borderLeftWidth"))||0)),l=b[j]-(p[j]+(parseFloat(a.css(e,"borderTopWidth"))||0)),i=b[c]+i-(p[c]+x+(parseFloat(a.css(e,"borderRightWidth"))||0)),b=b[j]+r-(p[j]+q+(parseFloat(a.css(e,"borderBottomWidth"))||0)));if(o){if(0>l||0<b)!0===h?a.scrollTop(e,v.top+l):!1===h?a.scrollTop(e,v.top+b):0>l?a.scrollTop(e,v.top+l):a.scrollTop(e,v.top+b)}else(h=h===g?!0:!!h)?a.scrollTop(e,v.top+l):a.scrollTop(e,v.top+b);if(m)if(o){if(0>f||0<i)!0===h?a.scrollLeft(e,v.left+f):!1===h?a.scrollLeft(e,v.left+i):0>f?a.scrollLeft(e,
v.left+f):a.scrollLeft(e,v.left+i)}else(h=h===g?!0:!!h)?a.scrollLeft(e,v.left+f):a.scrollLeft(e,v.left+i)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});d.each(["Left","Top"],function(b,c){var d="scroll"+b;a[d]=function(e,j){if("number"===typeof e)return arguments.callee(o,e);var e=a.get(e),f,i,l,p;e&&e.nodeType==k.ELEMENT_NODE?j!==g?e[d]=parseFloat(j):f=e[d]:(p=n(e),j!==g?(j=parseFloat(j),i="Left"==b?j:a.scrollLeft(p),l="Top"==b?j:a.scrollTop(p),p.scrollTo(i,
l)):(f=p["page"+(c?"Y":"X")+"Offset"],"number"!==typeof f&&(i=p.document,f=i.documentElement[d],"number"!==typeof f&&(f=i.body[d]))));return f}});d.each(["Width","Height"],function(c){a["doc"+c]=function(d){d=a.get(d);d=a.getDocument(d);return b(d.documentElement["scroll"+c],d.body["scroll"+c],a["viewport"+c](d))};a["viewport"+c]=function(b){var b=a.get(b),d=n(b),b=d["inner"+c];if(p.mobile&&b)return b;var b="client"+c,d=d.document,e=d.body,g=d.documentElement[b];return"CSS1Compat"===d.compatMode&&
g||e&&e[b]||g}});return a},{requires:["./api"]});
KISSY.add("dom/base/style",function(d,a,g){function q(a,b){return b.toUpperCase()}function l(a){return a.replace(h,"ms-").replace(D,q)}function o(a,b,c){var d={},e=a.style,f;for(f in b)d[f]=e[f],e[f]=b[f];c.call(a);for(f in b)e[f]=d[f]}function p(a,b,c){var d,e,f;if(3===a.nodeType||8===a.nodeType||!(d=a.style))return g;b=l(b);f=A[b];b=y[b]||b;if(c!==g){null===c||c===m?c=m:!isNaN(Number(c))&&!t[b]&&(c+=z);f&&f.set&&(c=f.set(a,c));if(c!==g){try{d[b]=c}catch(h){}c===m&&d.removeAttribute&&d.removeAttribute(b)}d.cssText||
a.removeAttribute("style");return g}if(!f||!("get"in f&&(e=f.get(a,!1))!==g))e=d[b];return e===g?"":e}function e(a){var b,c=arguments;0!==a.offsetWidth?b=k.apply(g,c):o(a,H,function(){b=k.apply(g,c)});return b}function k(b,c,e){if(d.isWindow(b))return c==r?a.viewportWidth(b):a.viewportHeight(b);if(9==b.nodeType)return c==r?a.docWidth(b):a.docHeight(b);var f=c===r?["Left","Right"]:["Top","Bottom"],h=c===r?b.offsetWidth:b.offsetHeight;if(0<h)return"border"!==e&&d.each(f,function(c){e||(h-=parseFloat(a.css(b,
"padding"+c))||0);h="margin"===e?h+(parseFloat(a.css(b,e+c))||0):h-(parseFloat(a.css(b,"border"+c+"Width"))||0)}),h;h=a._getComputedStyle(b,c);if(null==h||0>Number(h))h=b.style[c]||0;h=parseFloat(h)||0;e&&d.each(f,function(c){h+=parseFloat(a.css(b,"padding"+c))||0;"padding"!==e&&(h+=parseFloat(a.css(b,"border"+c+"Width"))||0);"margin"===e&&(h+=parseFloat(a.css(b,e+c))||0)});return h}var i=d.Env.host,n=d.UA,b=d.Features,c=a.nodeName,j=i.document,x=/^margin/,r="width",s="display"+d.now(),t={fillOpacity:1,
fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},h=/^-ms-/,m="",z="px",f=/\d(?!px)[a-z%]+$/i,A={},y={"float":"cssFloat"},B={},D=/-([a-z])/ig;if(b.isTransformSupported()){var u;u=y.transform=b.getTransformProperty();y.transformOrigin=u+"Origin"}b.isTransitionSupported()&&(y.transition=b.getTransitionProperty());d.mix(a,{_camelCase:l,_cssHooks:A,_cssProps:y,_getComputedStyle:function(b,c){var d="",e,f,h,g,k;f=b.ownerDocument;c=y[c]||c;if(e=f.defaultView.getComputedStyle(b,null))d=
e.getPropertyValue(c)||e[c];d===""&&!a.contains(f,b)&&(d=b.style[c]);if(a._RE_NUM_NO_PX.test(d)&&x.test(c)){k=b.style;f=k.width;h=k.minWidth;g=k.maxWidth;k.minWidth=k.maxWidth=k.width=d;d=e.width;k.width=f;k.minWidth=h;k.maxWidth=g}return d},style:function(b,c,e){var b=a.query(b),f,h=b[0];if(d.isPlainObject(c)){for(f in c)for(h=b.length-1;h>=0;h--)p(b[h],f,c[f]);return g}if(e===g){f="";h&&(f=p(h,c,e));return f}for(h=b.length-1;h>=0;h--)p(b[h],c,e);return g},css:function(b,c,e){var b=a.query(b),f=
b[0],h;if(d.isPlainObject(c)){for(h in c)for(f=b.length-1;f>=0;f--)p(b[f],h,c[h]);return g}c=l(c);h=A[c];if(e===g){e="";if(f&&(!h||!("get"in h&&(e=h.get(f,true))!==g)))e=a._getComputedStyle(f,c);return typeof e=="undefined"?"":e}for(f=b.length-1;f>=0;f--)p(b[f],c,e);return g},show:function(b){var b=a.query(b),c,d,e;for(e=b.length-1;e>=0;e--){d=b[e];d.style.display=a.data(d,s)||m;if(a.css(d,"display")==="none"){c=d.tagName.toLowerCase();var f=void 0,h=B[c],g=void 0;if(!B[c]){f=j.body||j.documentElement;
g=j.createElement(c);a.prepend(g,f);h=a.css(g,"display");f.removeChild(g);B[c]=h}c=h;a.data(d,s,c);d.style.display=c}}},hide:function(b){var b=a.query(b),c,d;for(d=b.length-1;d>=0;d--){c=b[d];var e=c.style,f=e.display;if(f!=="none"){f&&a.data(c,s,f);e.display="none"}}},toggle:function(b){var b=a.query(b),c,d;for(d=b.length-1;d>=0;d--){c=b[d];a.css(c,"display")==="none"?a.show(c):a.hide(c)}},addStyleSheet:function(b,c,d){if(typeof b=="string"){d=c;c=b;b=i}var b=a.getDocument(b),e;if(d&&(d=d.replace("#",
m)))e=a.get("#"+d,b);if(!e){e=a.create("<style>",{id:d},b);a.get("head",b).appendChild(e);e.styleSheet?e.styleSheet.cssText=c:e.appendChild(b.createTextNode(c))}},unselectable:function(b){var b=a.query(b),e,f,h=0,g,k;for(f=b.length-1;f>=0;f--){e=b[f];k=e.style;k.UserSelect="none";if(n.gecko)k.MozUserSelect="none";else if(n.webkit)k.WebkitUserSelect="none";else if(n.ie||n.opera){k=e.getElementsByTagName("*");e.setAttribute("unselectable","on");for(g=["iframe","textarea","input","select"];e=k[h++];)d.inArray(c(e),
g)||e.setAttribute("unselectable","on")}}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});d.each([r,"height"],function(b){a["inner"+d.ucfirst(b)]=function(c){return(c=a.get(c))&&e(c,b,"padding")};a["outer"+d.ucfirst(b)]=function(c,d){var f=a.get(c);return f&&e(f,b,d?"margin":"border")};a[b]=function(c,d){var e=a.css(c,b,d);e&&(e=parseFloat(e));return e};A[b]={get:function(a,c){var d;c&&(d=e(a,b)+"px");return d}}});var H={position:"absolute",visibility:"hidden",display:"block"};
d.each(["left","top"],function(b){A[b]={get:function(c,d){var e,h,g;if(d){g=a.css(c,"position");if(g==="static")return"auto";e=a._getComputedStyle(c,b);if((h=e==="auto")&&g==="relative")return"0px";if(h||f.test(e)){g={top:0,left:0};if(a.css(c,"position")=="fixed")h=c.getBoundingClientRect();else{for(e=c.offsetParent||(c.ownerDocument||j).body;e&&!v.test(e.nodeName)&&a.css(e,"position")==="static";)e=e.offsetParent;h=a.offset(c);g=a.offset(e);g.top=g.top+(parseFloat(a.css(e,"borderTopWidth"))||0);
g.left=g.left+(parseFloat(a.css(e,"borderLeftWidth"))||0)}h.top=h.top-(parseFloat(a.css(c,"marginTop"))||0);h.left=h.left-(parseFloat(a.css(c,"marginLeft"))||0);e={top:h.top-g.top,left:h.left-g.left}[b]+"px"}}return e}}});var v=/^(?:body|html)$/i;return a},{requires:["./api"]});
KISSY.add("dom/base/selector",function(d,a,g){function q(a){var b=this.length,c;for(c=0;c<b&&!1!==a(this[c],c);c++);}function l(d,e){var i,f;i="string"==typeof d;var n=e!==g?l(e):(f=1)&&[k],p=n.length;if(d)if(i)if(d=t(d),f&&"body"==d)i=[k.body];else{i=[];for(f=0;f<p;f++)r.apply(i,a._selectInternal(d,n[f]));1<i.length&&1<p&&a.unique(i)}else{if(i=d.nodeType||d.setTimeout?[d]:d.getDOMNodes?d.getDOMNodes():b(d)?d:j(d)?c(d):[d],!f){var o=i,s,u=o.length;i=[];for(f=0;f<u;f++)for(s=0;s<p;s++)if(a._contains(n[s],
o[f])){i.push(o[f]);break}}}else i=[];i.each=q;return i}function o(a,b){var c=a&&(a.className||p(a,"class"));return c&&-1<(x+c+x).indexOf(x+b+x)}function p(a,b){var c=a&&a.getAttributeNode(b);return c&&c.specified?c.nodeValue:g}function e(a,b){return"*"==b||a.nodeName.toLowerCase()===b.toLowerCase()}var k=d.Env.host.document,i=k.documentElement,n=i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.oMatchesSelector||i.msMatchesSelector,b=d.isArray,c=d.makeArray,j=a.isDomNodeList,x=" ",r=Array.prototype.push,
s=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,t=d.trim;d.mix(a,{_compareNodeOrder:function(a,b){return!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1},_getSimpleAttr:p,_isTag:e,_hasSingleClass:o,_matchesInternal:function(a,b){for(var c=[],d=0,e,g=b.length;d<g;d++)e=b[d],n.call(e,a)&&c.push(e);return c},_selectInternal:function(a,b){return c(b.querySelectorAll(a))},query:l,get:function(a,b){return l(a,b)[0]||null},unique:function(){function b(d,
e){return d==e?(c=!0,0):a._compareNodeOrder(d,e)}var c,d=!0;[0,0].sort(function(){d=!1;return 0});return function(a){c=d;a.sort(b);if(c)for(var e=1,g=a.length;e<g;)a[e]===a[e-1]?(a.splice(e,1),--g):e++;return a}}(),filter:function(b,c,g){var b=l(b,g),f,k,i,j,g=[];if("string"==typeof c&&(c=t(c))&&(i=s.exec(c)))f=i[1],k=i[2],j=i[3],f?f&&!k&&!j&&(c=function(a){return p(a,"id")==f}):c=function(a){var b=!0,c=!0;k&&(b=e(a,k));j&&(c=o(a,j));return c&&b};return g="function"===typeof c?d.filter(b,c):a._matchesInternal(c,
b)},test:function(b,c,d){b=l(b,d);return b.length&&a.filter(b,c,d).length===b.length}});return a},{requires:["./api"]});
KISSY.add("dom/base/traversal",function(d,a,g){function q(e,k,i,n,b,c,j){if(!(e=a.get(e)))return null;if(0===k)return e;c||(e=e[i]);if(!e)return null;b=b&&a.get(b)||null;k===g&&(k=1);var c=[],o=d.isArray(k),r,q;"number"===typeof k&&(r=0,q=k,k=function(){return++r===q});for(;e&&e!=b;){if((e.nodeType==p.ELEMENT_NODE||e.nodeType==p.TEXT_NODE&&j)&&l(e,k)&&(!n||n(e)))if(c.push(e),!o)break;e=e[i]}return o?c:c[0]||null}function l(e,g){if(!g)return!0;if(d.isArray(g)){var i,l=g.length;if(!l)return!0;for(i=
0;i<l;i++)if(a.test(e,g[i]))return!0}else if(a.test(e,g))return!0;return!1}function o(e,g,i,l){var b=[],c,j;if((c=e=a.get(e))&&i)c=e.parentNode;if(c){i=d.makeArray(c.childNodes);for(c=0;c<i.length;c++)j=i[c],(l||j.nodeType==p.ELEMENT_NODE)&&j!=e&&b.push(j);g&&(b=a.filter(b,g))}return b}var p=a.NodeType;d.mix(a,{_contains:function(a,d){return!!(a.compareDocumentPosition(d)&16)},closest:function(a,d,g,l){return q(a,d,"parentNode",function(a){return a.nodeType!=p.DOCUMENT_FRAGMENT_NODE},g,!0,l)},parent:function(a,
d,i){return q(a,d,"parentNode",function(a){return a.nodeType!=p.DOCUMENT_FRAGMENT_NODE},i,g)},first:function(d,k,i){d=a.get(d);return q(d&&d.firstChild,k,"nextSibling",g,g,!0,i)},last:function(d,k,i){d=a.get(d);return q(d&&d.lastChild,k,"previousSibling",g,g,!0,i)},next:function(a,d,i){return q(a,d,"nextSibling",g,g,g,i)},prev:function(a,d,i){return q(a,d,"previousSibling",g,g,g,i)},siblings:function(a,d,g){return o(a,d,!0,g)},children:function(a,d){return o(a,d,g)},contents:function(a,d){return o(a,
d,g,1)},contains:function(d,g){d=a.get(d);g=a.get(g);return d&&g?a._contains(d,g):!1},index:function(e,g){var i=a.query(e),l,b=0;l=i[0];if(!g){i=l&&l.parentNode;if(!i)return-1;for(;l=l.previousSibling;)l.nodeType==p.ELEMENT_NODE&&b++;return b}b=a.query(g);return"string"===typeof g?d.indexOf(l,b):d.indexOf(b[0],i)},equals:function(d,g){d=a.query(d);g=a.query(g);if(d.length!=g.length)return!1;for(var i=d.length;0<=i;i--)if(d[i]!=g[i])return!1;return!0}});return a},{requires:["./api"]});
KISSY.add("dom/base",function(d,a){d.mix(d,{DOM:a,get:a.get,query:a.query});return a},{requires:"./base/api,./base/attr,./base/class,./base/create,./base/data,./base/insertion,./base/offset,./base/style,./base/selector,./base/traversal".split(",")});
