/*
Copyright 2013, KISSY UI Library v1.40dev
MIT Licensed
build time: Jul 15 19:48
*/
KISSY.add("dom/base/api",function(d){var a=d.Env.host||{},g=a.document,r=d.UA,n={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},o={isCustomDomain:function(d){var d=d||a,d=o.get(d),e=d.document.domain,d=d.location.hostname;return e!=d&&e!="["+d+"]"},getEmptyIframeSrc:function(d){d=d||a;d=o.get(d);return r.ie&&o.isCustomDomain(d)?
"javascript:void(function(){"+encodeURIComponent("document.open();document.domain='"+d.document.domain+"';document.close();")+"}())":""},NodeType:n,getWindow:function(g){if(!g)return a;g=o.get(g);if(d.isWindow(g))return g;var e=g;e.nodeType!==n.DOCUMENT_NODE&&(e=g.ownerDocument);return e.defaultView||e.parentWindow},getDocument:function(a){if(!a)return g;a=o.get(a);return d.isWindow(a)?a.document:a.nodeType==n.DOCUMENT_NODE?a:a.ownerDocument},isDomNodeList:function(a){return a&&!a.nodeType&&a.item&&
!a.setTimeout},nodeName:function(a){var d=o.get(a),a=d.nodeName.toLowerCase();r.ie&&(d=d.scopeName)&&"HTML"!=d&&(a=d.toLowerCase()+":"+a);return a},_RE_NUM_NO_PX:RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i")};d.mix(o,n);return o});
KISSY.add("dom/base/attr",function(d,a,g){function r(a,f){var f=p[f]||f,b=u[f];return b&&b.get?b.get(a,f):a[f]}var n=d.Env.host.document,o=a.NodeType,n=n&&n.documentElement,q=a.nodeName,e=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,i=/^(?:button|input|object|select|textarea)$/i,j=/^a(?:rea)?$/i,m=/:|^on/,b=/\r/g,c={},l={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1,scrollTop:1,scrollLeft:1},s={tabindex:{get:function(a){var f=
a.getAttributeNode("tabindex");return f&&f.specified?parseInt(f.value,10):i.test(a.nodeName)||j.test(a.nodeName)&&a.href?0:g}}},p={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},w={get:function(b,f){return a.prop(b,f)?f.toLowerCase():g},set:function(b,f,c){!1===f?
a.removeAttr(b,c):(f=p[c]||c,f in b&&(b[f]=!0),b.setAttribute(c,c.toLowerCase()));return c}},u={},h={},k={select:{get:function(b){var f=b.selectedIndex,c=b.options,d;if(0>f)return null;if("select-one"===""+b.type)return a.val(c[f]);b=[];f=0;for(d=c.length;f<d;++f)c[f].selected&&b.push(a.val(c[f]));return b},set:function(b,f){var c=d.makeArray(f);d.each(b.options,function(f){f.selected=d.inArray(a.val(f),c)});c.length||(b.selectedIndex=-1);return c}}};d.each(["radio","checkbox"],function(b){k[b]={get:function(a){return null===
a.getAttribute("value")?"on":a.value},set:function(b,c){return d.isArray(c)?b.checked=d.inArray(a.val(b),c):g}}});s.style={get:function(a){return a.style.cssText}};d.mix(a,{_valHooks:k,_propFix:p,_attrHooks:s,_propHooks:u,_attrNodeHook:h,_attrFix:c,prop:function(b,f,c){var h=a.query(b),k,l;if(d.isPlainObject(f))return d.each(f,function(b,f){a.prop(h,f,b)}),g;f=p[f]||f;l=u[f];if(c!==g)for(b=h.length-1;0<=b;b--)k=h[b],l&&l.set?l.set(k,c,f):k[f]=c;else if(h.length)return r(h[0],f);return g},hasProp:function(b,
f){var c=a.query(b),h,d=c.length,k;for(h=0;h<d;h++)if(k=c[h],r(k,f)!==g)return!0;return!1},removeProp:function(b,f){var f=p[f]||f,c=a.query(b),h,d;for(h=c.length-1;0<=h;h--){d=c[h];try{d[f]=g,delete d[f]}catch(k){}}},attr:function(b,f,k,i){var u=a.query(b),j=u[0];if(d.isPlainObject(f)){var i=k,v;for(v in f)a.attr(u,v,f[v],i);return g}if(i&&l[f])return a[f](b,k);f=f.toLowerCase();if(i&&l[f])return a[f](b,k);f=c[f]||f;b=e.test(f)?w:m.test(f)?h:s[f];if(k===g){if(j&&j.nodeType===o.ELEMENT_NODE){"form"==
q(j)&&(b=h);if(b&&b.get)return b.get(j,f);k=j.getAttribute(f);return""===k&&(f=j.getAttributeNode(f),!f||!f.specified)?g:null===k?g:k}}else for(i=u.length-1;0<=i;i--)if((j=u[i])&&j.nodeType===o.ELEMENT_NODE)"form"==q(j)&&(b=h),b&&b.set?b.set(j,k,f):j.setAttribute(f,""+k);return g},removeAttr:function(b,f){var f=f.toLowerCase(),f=c[f]||f,h=a.query(b),d,k,g;for(g=h.length-1;0<=g;g--)if(k=h[g],k.nodeType==o.ELEMENT_NODE&&(k.removeAttribute(f),e.test(f)&&(d=p[f]||f)in k))k[d]=!1},hasAttr:n&&!n.hasAttribute?
function(b,c){var c=c.toLowerCase(),h=a.query(b),d,k;for(d=0;d<h.length;d++)if(k=h[d],(k=k.getAttributeNode(c))&&k.specified)return!0;return!1}:function(b,c){var h=a.query(b),d,k=h.length;for(d=0;d<k;d++)if(h[d].hasAttribute(c))return!0;return!1},val:function(c,f){var h,l,i,e,v;if(f===g){if(i=a.get(c)){if((h=k[q(i)]||k[i.type])&&"get"in h&&(l=h.get(i,"value"))!==g)return l;l=i.value;return"string"===typeof l?l.replace(b,""):null==l?"":l}return g}l=a.query(c);for(e=l.length-1;0<=e;e--){i=l[e];if(1!==
i.nodeType)break;v=f;null==v?v="":"number"===typeof v?v+="":d.isArray(v)&&(v=d.map(v,function(a){return a==null?"":a+""}));h=k[q(i)]||k[i.type];if(!h||!("set"in h)||h.set(i,v,"value")===g)i.value=v}return g},text:function(b,c){var h,d,k,l;if(c===g)return h=a.get(b),a._getText(h);d=a.query(b);for(k=d.length-1;0<=k;k--)if(h=d[k],l=h.nodeType,l==o.ELEMENT_NODE)a.empty(h),h.appendChild(h.ownerDocument.createTextNode(c));else if(l==o.TEXT_NODE||l==o.CDATA_SECTION_NODE)h.nodeValue=c;return g},_getText:function(a){return a.textContent}});
return a},{requires:["./api"]});
KISSY.add("dom/base/class",function(d,a){function g(a){for(var a=d.trim(a||""),a=a.split(e),g=[],m,b=a.length,c=0;c<b;c++)(m=a[c])&&g.push(m);return g}function r(a){return function(d,g){var b,c,l,e=d.classList,p=o.call(arguments,2);b=0;for(c=g.length;b<c;b++)(l=g[b])&&e[a].apply(e,[l].concat(p))}}function n(d){return function(e,m){var b=g(m),c=o.call(arguments,2);a.query(e).each(function(l){l.nodeType==q.ELEMENT_NODE&&a[d].apply(a,[l,b].concat(c))})}}var o=[].slice,q=a.NodeType,e=/[\.\s]\s*\.?/;d.mix(a,
{_hasClass:function(a,d){var g,b,c,l=a.classList;if(l.length){g=0;for(b=d.length;g<b;g++)if((c=d[g])&&!l.contains(c))return!1;return!0}return!1},_addClass:r("add"),_removeClass:r("remove"),_toggleClass:r("toggle"),hasClass:function(d,e){var m=a.get(d);return m&&m.nodeType==q.ELEMENT_NODE&&a._hasClass(m,g(e))},replaceClass:function(d,g,e){a.removeClass(d,g);a.addClass(d,e)},addClass:n("_addClass"),removeClass:n("_removeClass"),toggleClass:n("_toggleClass")});return a},{requires:["./api"]});
KISSY.add("dom/base/create",function(d,a,g){function r(b){var c=d.require("event/dom");c&&c.detach(b);a.removeData(b)}function n(a){a=a&&a!=j?a.createElement(c):l;a===l&&(a.innerHTML="");return a}function o(a,b){var c=n(b);c.innerHTML="m<div>"+a+"</div>";return c.lastChild}function q(a,b,c){var h=b.nodeType;if(h==m.DOCUMENT_FRAGMENT_NODE){b=b.childNodes;c=c.childNodes;for(h=0;b[h];)c[h]&&q(a,b[h],c[h]),h++}else if(h==m.ELEMENT_NODE){b=b.getElementsByTagName("*");c=c.getElementsByTagName("*");for(h=
0;b[h];)c[h]&&a(b[h],c[h]),h++}}function e(b,c){var h=d.require("event/dom"),f,k;if(c.nodeType!=m.ELEMENT_NODE||a.hasData(b)){f=a.data(b);for(k in f)a.data(c,k,f[k]);h&&h.clone(b,c)}}function i(a){var b=null,c,h;if(a&&(a.push||a.item)&&a[0]){b=a[0].ownerDocument;b=b.createDocumentFragment();a=d.makeArray(a);c=0;for(h=a.length;c<h;c++)b.appendChild(a[c])}return b}var j=d.Env.host.document,m=a.NodeType,b=d.UA.ie,c="div",l=j&&j.createElement(c),s=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,
p=/<([\w:]+)/,w=/^\s+/,u=/\s+$/,h=b&&9>b,k=/<|&#?\w+;/,z=j&&"outerHTML"in j.documentElement,f=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;d.mix(a,{create:function(b,l,t,D){var x=null;if(!b)return x;if(b.nodeType)return a.clone(b);if("string"!=typeof b)return x;D===g&&(D=!0);D&&(b=d.trim(b));var D=a._creators,e,E,t=t||j,z,y=c;if(k.test(b))if(z=f.exec(b))x=t.createElement(z[1]);else{b=b.replace(s,"<$1></$2>");if((z=p.exec(b))&&(e=z[1]))y=e.toLowerCase();e=(D[y]||o)(b,t);h&&(E=b.match(w))&&e.insertBefore(t.createTextNode(E[0]),
e.firstChild);h&&/\S/.test(b)&&(E=b.match(u))&&e.appendChild(t.createTextNode(E[0]));b=e.childNodes;1===b.length?x=b[0].parentNode.removeChild(b[0]):b.length&&(x=i(b))}else x=t.createTextNode(b);d.isPlainObject(l)&&(x.nodeType==m.ELEMENT_NODE?a.attr(x,l,!0):x.nodeType==m.DOCUMENT_FRAGMENT_NODE&&a.attr(x.childNodes,l,!0));return x},_fixCloneAttributes:function(b,c){"textarea"===a.nodeName(b)&&(c.defaultValue=b.defaultValue,c.value=b.value)},_creators:{div:o},_defaultCreator:o,html:function(b,c,f){var b=
a.query(b),d=b[0],k=!1,l,e;if(!d)return null;if(c===g)return d.nodeType==m.ELEMENT_NODE?d.innerHTML:d.nodeType==m.DOCUMENT_FRAGMENT_NODE?(f=n(d.ownerDocument),f.appendChild(d),f.innerHTML):null;c+="";if(!c.match(/<(?:script|style|link)/i)&&(!h||!c.match(w))&&!A[(c.match(p)||["",""])[1].toLowerCase()])try{for(l=b.length-1;0<=l;l--)e=b[l],e.nodeType==m.ELEMENT_NODE&&(r(e.getElementsByTagName("*")),e.innerHTML=c);k=!0}catch(u){}k||(c=a.create(c,0,d.ownerDocument,0),a.empty(b),a.append(c,b,f));return g},
outerHtml:function(b,c,h){var b=a.query(b),f=b.length,d=b[0];if(!d)return null;if(c===g){if(z&&d.nodeType!=a.DOCUMENT_FRAGMENT_NODE)return d.outerHTML;c=n(d.ownerDocument);c.appendChild(a.clone(d,!0));return c.innerHTML}c+="";if(!c.match(/<(?:script|style|link)/i)&&z)for(h=f-1;0<=h;h--)d=b[h],d.nodeType==m.ELEMENT_NODE&&(r(d),r(d.getElementsByTagName("*")),d.outerHTML=c);else c=a.create(c,0,d.ownerDocument,0),a.insertBefore(c,b,h),a.remove(b);return g},remove:function(b,c){var h,f=a.query(b),k,l,
e=d.require("event/dom"),g;for(g=f.length-1;0<=g;g--)h=f[g],!c&&h.nodeType==m.ELEMENT_NODE&&(k=d.makeArray(h.getElementsByTagName("*")),k.push(h),a.removeData(k),e&&e.detach(k)),(l=h.parentNode)&&l.removeChild(h)},clone:function(b,c,h,d){"object"===typeof c&&(d=c.deepWithDataAndEvent,h=c.withDataAndEvent,c=c.deep);var b=a.get(b),f,k=a._fixCloneAttributes,l;if(!b)return null;l=b.nodeType;f=b.cloneNode(c);if(l==m.ELEMENT_NODE||l==m.DOCUMENT_FRAGMENT_NODE)k&&l==m.ELEMENT_NODE&&k(b,f),c&&k&&q(k,b,f);
h&&(e(b,f),c&&d&&q(e,b,f));return f},empty:function(b){var b=a.query(b),c,h;for(h=b.length-1;0<=h;h--)c=b[h],a.remove(c.childNodes)},_nodeListToFragment:i});a.outerHTML=a.outerHtml;var y=a._creators,B=a.create,A={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},C;for(C in A)(function(a){y[C]=function(b,c){return B("<"+a+">"+b+"</"+a+">",null,c)}})(A[C]);return a},{requires:["./api"]});
KISSY.add("dom/base/data",function(d,a,g){var r=d.Env.host,n="_ks_data_"+d.now(),o={},q={},e={applet:1,object:1,embed:1},i={hasData:function(a,c){if(a)if(c!==g){if(c in a)return!0}else if(!d.isEmptyObject(a))return!0;return!1}},j={hasData:function(a,c){return a==r?j.hasData(q,c):i.hasData(a[n],c)},data:function(a,c,d){if(a==r)return j.data(q,c,d);var e=a[n];if(d!==g)e=a[n]=a[n]||{},e[c]=d;else return c!==g?e&&e[c]:e=a[n]=a[n]||{}},removeData:function(a,c){if(a==r)return j.removeData(q,c);var e=a[n];
if(c!==g)delete e[c],d.isEmptyObject(e)&&j.removeData(a);else try{delete a[n]}catch(i){a[n]=g}}},m={hasData:function(a,c){var d=a[n];return!d?!1:i.hasData(o[d],c)},data:function(a,c,l){if(e[a.nodeName.toLowerCase()])return g;var i=a[n];if(!i){if(c!==g&&l===g)return g;i=a[n]=d.guid()}a=o[i];if(l!==g)a=o[i]=o[i]||{},a[c]=l;else return c!==g?a&&a[c]:a=o[i]=o[i]||{}},removeData:function(a,c){var e=a[n],i;if(e)if(i=o[e],c!==g)delete i[c],d.isEmptyObject(i)&&m.removeData(a);else{delete o[e];try{delete a[n]}catch(j){a[n]=
g}a.removeAttribute&&a.removeAttribute(n)}}};d.mix(a,{__EXPANDO:n,hasData:function(b,c){for(var d=!1,e=a.query(b),g=0;g<e.length&&!(d=e[g],d=d.nodeType?m.hasData(d,c):j.hasData(d,c));g++);return d},data:function(b,c,e){var b=a.query(b),i=b[0];if(d.isPlainObject(c)){for(var p in c)a.data(b,p,c[p]);return g}if(e===g){if(i)return i.nodeType?m.data(i,c):j.data(i,c)}else for(p=b.length-1;0<=p;p--)i=b[p],i.nodeType?m.data(i,c,e):j.data(i,c,e);return g},removeData:function(b,c){var d=a.query(b),e,g;for(g=
d.length-1;0<=g;g--)e=d[g],e.nodeType?m.removeData(e,c):j.removeData(e,c)}});return a},{requires:["./api"]});
KISSY.add("dom/base/insertion",function(d,a){function g(a,c){var d=[],n,p,w;for(n=0;a[n];n++)if(p=a[n],w=e(p),p.nodeType==o.DOCUMENT_FRAGMENT_NODE)d.push.apply(d,g(i(p.childNodes),c));else if("script"===w&&(!p.type||m.test(p.type)))p.parentNode&&p.parentNode.removeChild(p),c&&c.push(p);else{if(p.nodeType==o.ELEMENT_NODE&&!q.test(w)){w=[];var u,h,k=p.getElementsByTagName("script");for(h=0;h<k.length;h++)u=k[h],(!u.type||m.test(u.type))&&w.push(u);j.apply(a,[n+1,0].concat(w))}d.push(p)}return d}function r(a){a.src?
d.getScript(a.src):(a=d.trim(a.text||a.textContent||a.innerHTML||""))&&d.globalEval(a)}function n(b,c,e,i){b=a.query(b);i&&(i=[]);b=g(b,i);a._fixInsertionChecked&&a._fixInsertionChecked(b);var c=a.query(c),j,w,u,h,k=c.length;if((b.length||i&&i.length)&&k){b=a._nodeListToFragment(b);1<k&&(h=a.clone(b,!0),c=d.makeArray(c));for(j=0;j<k;j++)w=c[j],b&&(u=0<j?a.clone(h,!0):b,e(u,w)),i&&i.length&&d.each(i,r)}}var o=a.NodeType,q=/^(?:button|input|object|select|textarea)$/i,e=a.nodeName,i=d.makeArray,j=[].splice,
m=/\/(java|ecma)script/i;d.mix(a,{_fixInsertionChecked:null,insertBefore:function(a,c,d){n(a,c,function(a,c){c.parentNode&&c.parentNode.insertBefore(a,c)},d)},insertAfter:function(a,c,d){n(a,c,function(a,c){c.parentNode&&c.parentNode.insertBefore(a,c.nextSibling)},d)},appendTo:function(a,c,d){n(a,c,function(a,c){c.appendChild(a)},d)},prependTo:function(a,c,d){n(a,c,function(a,c){c.insertBefore(a,c.firstChild)},d)},wrapAll:function(b,c){c=a.clone(a.get(c),!0);b=a.query(b);b[0].parentNode&&a.insertBefore(c,
b[0]);for(var d;(d=c.firstChild)&&1==d.nodeType;)c=d;a.appendTo(b,c)},wrap:function(b,c){b=a.query(b);c=a.get(c);d.each(b,function(b){a.wrapAll(b,c)})},wrapInner:function(b,c){b=a.query(b);c=a.get(c);d.each(b,function(b){var d=b.childNodes;d.length?a.wrapAll(d,c):b.appendChild(c)})},unwrap:function(b){b=a.query(b);d.each(b,function(c){c=c.parentNode;a.replaceWith(c,c.childNodes)})},replaceWith:function(b,c){var d=a.query(b),c=a.query(c);a.remove(c,!0);a.insertBefore(c,d);a.remove(d)}});d.each({prepend:"prependTo",
append:"appendTo",before:"insertBefore",after:"insertAfter"},function(b,c){a[c]=a[b]});return a},{requires:["./api"]});
KISSY.add("dom/base/offset",function(d,a,g){function r(a){var b,d=a.ownerDocument.body;if(!a.getBoundingClientRect)return{left:0,top:0};b=a.getBoundingClientRect();a=b[c];b=b[l];a-=j.clientLeft||d.clientLeft||0;b-=j.clientTop||d.clientTop||0;return{left:a,top:b}}function n(c,b){var d={left:0,top:0},k=m(c),e,f=c,b=b||k;do{if(k==b){var g=f;e=r(g);g=m(g);e.left+=a[s](g);e.top+=a[p](g)}else e=r(f);d.left+=e.left;d.top+=e.top}while(k&&k!=b&&(f=k.frameElement)&&(k=k.parent));return d}var o=d.Env.host,q=
d.UA,e=o.document,i=a.NodeType,j=e&&e.documentElement,m=a.getWindow,b=Math.max,c="left",l="top",s="scrollLeft",p="scrollTop";d.mix(a,{offset:function(c,b,d){if(b===g){var c=a.get(c),e;c&&(e=n(c,d));return e}d=a.query(c);for(e=d.length-1;0<=e;e--){var c=d[e],i=b;"static"===a.css(c,"position")&&(c.style.position="relative");var f=n(c),j={},l=void 0,m=void 0;for(m in i)l=parseFloat(a.css(c,m))||0,j[m]=l+i[m]-f[m];a.css(c,j)}return g},scrollIntoView:function(b,e,h,k){var j,f,n,o;if(n=a.get(b)){e&&(e=
a.get(e));e||(e=n.ownerDocument);e.nodeType==i.DOCUMENT_NODE&&(e=m(e));d.isPlainObject(h)&&(k=h.allowHorizontalScroll,o=h.onlyScrollIfNeeded,h=h.alignWithTop);k=k===g?!0:k;f=d.isWindow(e);var b=a.offset(n),p=a.outerHeight(n);j=a.outerWidth(n);var q,r,s,t;f?(f=e,q=a.height(f),r=a.width(f),t={left:a.scrollLeft(f),top:a.scrollTop(f)},f=b[c]-t[c],n=b[l]-t[l],j=b[c]+j-(t[c]+r),b=b[l]+p-(t[l]+q)):(q=a.offset(e),r=e.clientHeight,s=e.clientWidth,t={left:a.scrollLeft(e),top:a.scrollTop(e)},f=b[c]-(q[c]+(parseFloat(a.css(e,
"borderLeftWidth"))||0)),n=b[l]-(q[l]+(parseFloat(a.css(e,"borderTopWidth"))||0)),j=b[c]+j-(q[c]+s+(parseFloat(a.css(e,"borderRightWidth"))||0)),b=b[l]+p-(q[l]+r+(parseFloat(a.css(e,"borderBottomWidth"))||0)));if(o){if(0>n||0<b)!0===h?a.scrollTop(e,t.top+n):!1===h?a.scrollTop(e,t.top+b):0>n?a.scrollTop(e,t.top+n):a.scrollTop(e,t.top+b)}else(h=h===g?!0:!!h)?a.scrollTop(e,t.top+n):a.scrollTop(e,t.top+b);if(k)if(o){if(0>f||0<j)!0===h?a.scrollLeft(e,t.left+f):!1===h?a.scrollLeft(e,t.left+j):0>f?a.scrollLeft(e,
t.left+f):a.scrollLeft(e,t.left+j)}else(h=h===g?!0:!!h)?a.scrollLeft(e,t.left+f):a.scrollLeft(e,t.left+j)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});d.each(["Left","Top"],function(c,b){var d="scroll"+c;a[d]=function(e,j){if("number"===typeof e)return arguments.callee(o,e);var e=a.get(e),f,l,n,p;e&&e.nodeType==i.ELEMENT_NODE?j!==g?e[d]=parseFloat(j):f=e[d]:(p=m(e),j!==g?(j=parseFloat(j),l="Left"==c?j:a.scrollLeft(p),n="Top"==c?j:a.scrollTop(p),p.scrollTo(l,
n)):(f=p["page"+(b?"Y":"X")+"Offset"],"number"!==typeof f&&(l=p.document,f=l.documentElement[d],"number"!==typeof f&&(f=l.body[d]))));return f}});d.each(["Width","Height"],function(c){a["doc"+c]=function(d){d=a.get(d);d=a.getDocument(d);return b(d.documentElement["scroll"+c],d.body["scroll"+c],a["viewport"+c](d))};a["viewport"+c]=function(b){var b=a.get(b),d=m(b),b=d["inner"+c];if(q.mobile&&b)return b;var b="client"+c,d=d.document,e=d.body,g=d.documentElement[b];return"CSS1Compat"===d.compatMode&&
g||e&&e[b]||g}});return a},{requires:["./api"]});
KISSY.add("dom/base/style",function(d,a,g){function r(a,c){return c.toUpperCase()}function n(a){return a.replace(u,"ms-").replace(C,r)}function o(a,c,b){var d={},e=a.style,f;for(f in c)d[f]=e[f],e[f]=c[f];b.call(a);for(f in c)e[f]=d[f]}function q(a,c,b){var d,e,f;if(3===a.nodeType||8===a.nodeType||!(d=a.style))return g;c=n(c);f=y[c];c=B[c]||c;if(b!==g){null===b||b===k?b=k:!isNaN(Number(b))&&!w[c]&&(b+=z);f&&f.set&&(b=f.set(a,b));if(b!==g){try{d[c]=b}catch(h){}b===k&&d.removeAttribute&&d.removeAttribute(c)}d.cssText||
a.removeAttribute("style");return g}if(!f||!("get"in f&&(e=f.get(a,!1))!==g))e=d[c];return e===g?"":e}function e(a){var c,b=arguments;0!==a.offsetWidth?c=i.apply(g,b):o(a,v,function(){c=i.apply(g,b)});return c}function i(c,b,e){if(d.isWindow(c))return b==s?a.viewportWidth(c):a.viewportHeight(c);if(9==c.nodeType)return b==s?a.docWidth(c):a.docHeight(c);var f=b===s?["Left","Right"]:["Top","Bottom"],h=b===s?c.offsetWidth:c.offsetHeight;if(0<h)return"border"!==e&&d.each(f,function(b){e||(h-=parseFloat(a.css(c,
"padding"+b))||0);h="margin"===e?h+(parseFloat(a.css(c,e+b))||0):h-(parseFloat(a.css(c,"border"+b+"Width"))||0)}),h;h=a._getComputedStyle(c,b);if(null==h||0>Number(h))h=c.style[b]||0;h=parseFloat(h)||0;e&&d.each(f,function(b){h+=parseFloat(a.css(c,"padding"+b))||0;"padding"!==e&&(h+=parseFloat(a.css(c,"border"+b+"Width"))||0);"margin"===e&&(h+=parseFloat(a.css(c,e+b))||0)});return h}var j=d.Env.host,m=d.UA,b=a.nodeName,c=j.document,l=/^margin/,s="width",p="display"+d.now(),w={fillOpacity:1,fontWeight:1,
lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},u=/^-ms-/,h=/([A-Z]|^ms)/g,k="",z="px",f=/\d(?!px)[a-z%]+$/i,y={},B={"float":"cssFloat"},A={},C=/-([a-z])/ig;d.mix(a,{_camelCase:n,_CUSTOM_STYLES:y,_cssProps:B,_getComputedStyle:function(c,b){var d="",e,f,g,k,i;f=c.ownerDocument;b=b.replace(h,"-$1").toLowerCase();if(e=f.defaultView.getComputedStyle(c,null))d=e.getPropertyValue(b)||e[b];""===d&&!a.contains(f,c)&&(b=B[b]||b,d=c.style[b]);a._RE_NUM_NO_PX.test(d)&&l.test(b)&&(i=c.style,f=i.width,
g=i.minWidth,k=i.maxWidth,i.minWidth=i.maxWidth=i.width=d,d=e.width,i.width=f,i.minWidth=g,i.maxWidth=k);return d},style:function(c,b,e){var c=a.query(c),f,h=c[0];if(d.isPlainObject(b)){for(f in b)for(h=c.length-1;0<=h;h--)q(c[h],f,b[f]);return g}if(e===g)return f="",h&&(f=q(h,b,e)),f;for(h=c.length-1;0<=h;h--)q(c[h],b,e);return g},css:function(c,b,e){var c=a.query(c),f=c[0],h;if(d.isPlainObject(b)){for(h in b)for(f=c.length-1;0<=f;f--)q(c[f],h,b[h]);return g}b=n(b);h=y[b];if(e===g){e="";if(f&&(!h||
!("get"in h&&(e=h.get(f,!0))!==g)))e=a._getComputedStyle(f,b);return"undefined"==typeof e?"":e}for(f=c.length-1;0<=f;f--)q(c[f],b,e);return g},show:function(b){var b=a.query(b),d,e,f;for(f=b.length-1;0<=f;f--)if(e=b[f],e.style.display=a.data(e,p)||k,"none"===a.css(e,"display")){d=e.tagName.toLowerCase();var h=void 0,g=A[d],i=void 0;A[d]||(h=c.body||c.documentElement,i=c.createElement(d),a.prepend(i,h),g=a.css(i,"display"),h.removeChild(i),A[d]=g);d=g;a.data(e,p,d);e.style.display=d}},hide:function(b){var b=
a.query(b),c,d;for(d=b.length-1;0<=d;d--){c=b[d];var e=c.style,f=e.display;"none"!==f&&(f&&a.data(c,p,f),e.display="none")}},toggle:function(b){var b=a.query(b),c,d;for(d=b.length-1;0<=d;d--)c=b[d],"none"===a.css(c,"display")?a.show(c):a.hide(c)},addStyleSheet:function(b,c,d){"string"==typeof b&&(d=c,c=b,b=j);var b=a.getDocument(b),e;if(d&&(d=d.replace("#",k)))e=a.get("#"+d,b);e||(e=a.create("<style>",{id:d},b),a.get("head",b).appendChild(e),e.styleSheet?e.styleSheet.cssText=c:e.appendChild(b.createTextNode(c)))},
unselectable:function(c){var c=a.query(c),e,f,h=0,g,i;for(f=c.length-1;0<=f;f--)if(e=c[f],i=e.style,i.UserSelect="none",m.gecko)i.MozUserSelect="none";else if(m.webkit)i.WebkitUserSelect="none";else if(m.ie||m.opera){i=e.getElementsByTagName("*");e.setAttribute("unselectable","on");for(g=["iframe","textarea","input","select"];e=i[h++];)d.inArray(b(e),g)||e.setAttribute("unselectable","on")}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});d.each([s,"height"],function(b){a["inner"+
d.ucfirst(b)]=function(c){return(c=a.get(c))&&e(c,b,"padding")};a["outer"+d.ucfirst(b)]=function(c,d){var f=a.get(c);return f&&e(f,b,d?"margin":"border")};a[b]=function(c,d){var e=a.css(c,b,d);e&&(e=parseFloat(e));return e};y[b]={get:function(a,c){var d;c&&(d=e(a,b)+"px");return d}}});var v={position:"absolute",visibility:"hidden",display:"block"};d.each(["left","top"],function(b){y[b]={get:function(d,e){var h,g,i;if(e){i=a.css(d,"position");if("static"===i)return"auto";h=a._getComputedStyle(d,b);
if((g="auto"===h)&&"relative"===i)return"0px";if(g||f.test(h)){i={top:0,left:0};if("fixed"==a.css(d,"position"))g=d.getBoundingClientRect();else{for(h=d.offsetParent||(d.ownerDocument||c).body;h&&!F.test(h.nodeName)&&"static"===a.css(h,"position");)h=h.offsetParent;g=a.offset(d);i=a.offset(h);i.top+=parseFloat(a.css(h,"borderTopWidth"))||0;i.left+=parseFloat(a.css(h,"borderLeftWidth"))||0}g.top-=parseFloat(a.css(d,"marginTop"))||0;g.left-=parseFloat(a.css(d,"marginLeft"))||0;h={top:g.top-i.top,left:g.left-
i.left}[b]+"px"}}return h}}});var F=/^(?:body|html)$/i;return a},{requires:["./api"]});
KISSY.add("dom/base/selector",function(d,a,g){function r(a){var b,c=a.length,d=Array(c);for(b=0;b<c;b++)d[b]=a[b];return d}function n(a){var b=this.length,c;for(c=0;c<b&&!1!==a(this[c],c);c++);}function o(b,d){var e,f;e="string"==typeof b;var i=d!==g?o(d):(f=1)&&[j],m=i.length;if(b)if(e)if(b=u(b),f&&"body"==b)e=[j.body];else{e=[];for(f=0;f<m;f++)p.apply(e,a._selectInternal(b,i[f]));1<e.length&&1<m&&a.unique(e)}else{if(e=b.nodeType||b.setTimeout?[b]:b.getDOMNodes?b.getDOMNodes():c(b)?b:l(b)?r(b):[b],
!f){var q=e,s,v=q.length;e=[];for(f=0;f<v;f++)for(s=0;s<m;s++)if(a._contains(i[s],q[f])){e.push(q[f]);break}}}else e=[];e.each=n;return e}function q(a,b){var c=a&&(a.className||e(a,"class"));return c&&-1<(s+c+s).indexOf(s+b+s)}function e(a,b){var c=a&&a.getAttributeNode(b);return c&&c.specified?c.nodeValue:g}function i(a,b){return"*"==b||a.nodeName.toLowerCase()===b.toLowerCase()}var j=d.Env.host.document,m=j.documentElement,b=m.matches||m.webkitMatchesSelector||m.mozMatchesSelector||m.oMatchesSelector||
m.msMatchesSelector,c=d.isArray,l=a.isDomNodeList,s=" ",p=Array.prototype.push,w=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,u=d.trim;d.mix(a,{_compareNodeOrder:function(a,b){return!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1},_getSimpleAttr:e,_isTag:i,_hasSingleClass:q,_matchesInternal:function(a,c){for(var d=[],e=0,i,g=c.length;e<g;e++)i=c[e],b.call(i,a)&&d.push(i);return d},_selectInternal:function(a,b){return r(b.querySelectorAll(a))},
query:o,get:function(a,b){return o(a,b)[0]||null},unique:function(){function b(d,e){return d==e?(c=!0,0):a._compareNodeOrder(d,e)}var c,d=!0;[0,0].sort(function(){d=!1;return 0});return function(a){c=d;a.sort(b);if(c)for(var e=1,i=a.length;e<i;)a[e]===a[e-1]?(a.splice(e,1),--i):e++;return a}}(),filter:function(b,c,g){var b=o(b,g),f,j,l,m,g=[];if("string"==typeof c&&(c=u(c))&&(l=w.exec(c)))f=l[1],j=l[2],m=l[3],f?f&&!j&&!m&&(c=function(a){return e(a,"id")==f}):c=function(a){var b=!0,c=!0;j&&(b=i(a,
j));m&&(c=q(a,m));return c&&b};return g="function"===typeof c?d.filter(b,c):a._matchesInternal(c,b)},test:function(b,c,d){b=o(b,d);return b.length&&a.filter(b,c,d).length===b.length}});return a},{requires:["./api"]});
KISSY.add("dom/base/traversal",function(d,a,g){function r(e,i,j,m,b,c,l){if(!(e=a.get(e)))return null;if(0===i)return e;c||(e=e[j]);if(!e)return null;b=b&&a.get(b)||null;i===g&&(i=1);var c=[],o=d.isArray(i),p,r;"number"===typeof i&&(p=0,r=i,i=function(){return++p===r});for(;e&&e!=b;){if((e.nodeType==q.ELEMENT_NODE||e.nodeType==q.TEXT_NODE&&l)&&n(e,i)&&(!m||m(e)))if(c.push(e),!o)break;e=e[j]}return o?c:c[0]||null}function n(e,i){if(!i)return!0;if(d.isArray(i)){var g,m=i.length;if(!m)return!0;for(g=
0;g<m;g++)if(a.test(e,i[g]))return!0}else if(a.test(e,i))return!0;return!1}function o(e,g,j,m){var b=[],c,l;if((c=e=a.get(e))&&j)c=e.parentNode;if(c){j=d.makeArray(c.childNodes);for(c=0;c<j.length;c++)l=j[c],(m||l.nodeType==q.ELEMENT_NODE)&&l!=e&&b.push(l);g&&(b=a.filter(b,g))}return b}var q=a.NodeType;d.mix(a,{_contains:function(a,d){return!!(a.compareDocumentPosition(d)&16)},closest:function(a,d,g,m){return r(a,d,"parentNode",function(a){return a.nodeType!=q.DOCUMENT_FRAGMENT_NODE},g,!0,m)},parent:function(a,
d,j){return r(a,d,"parentNode",function(a){return a.nodeType!=q.DOCUMENT_FRAGMENT_NODE},j,g)},first:function(d,i,j){d=a.get(d);return r(d&&d.firstChild,i,"nextSibling",g,g,!0,j)},last:function(d,i,j){d=a.get(d);return r(d&&d.lastChild,i,"previousSibling",g,g,!0,j)},next:function(a,d,j){return r(a,d,"nextSibling",g,g,g,j)},prev:function(a,d,j){return r(a,d,"previousSibling",g,g,g,j)},siblings:function(a,d,g){return o(a,d,!0,g)},children:function(a,d){return o(a,d,g)},contents:function(a,d){return o(a,
d,g,1)},contains:function(d,g){d=a.get(d);g=a.get(g);return d&&g?a._contains(d,g):!1},index:function(e,g){var j=a.query(e),m,b=0;m=j[0];if(!g){j=m&&m.parentNode;if(!j)return-1;for(;m=m.previousSibling;)m.nodeType==q.ELEMENT_NODE&&b++;return b}b=a.query(g);return"string"===typeof g?d.indexOf(m,b):d.indexOf(b[0],j)},equals:function(d,g){d=a.query(d);g=a.query(g);if(d.length!=g.length)return!1;for(var j=d.length;0<=j;j--)if(d[j]!=g[j])return!1;return!0}});return a},{requires:["./api"]});
KISSY.add("dom/base",function(d,a){d.mix(d,{DOM:a,get:a.get,query:a.query});return a},{requires:"./base/api,./base/attr,./base/class,./base/create,./base/data,./base/insertion,./base/offset,./base/style,./base/selector,./base/traversal".split(",")});
