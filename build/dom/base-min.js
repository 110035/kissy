/*
Copyright 2013, KISSY UI Library v1.40dev
MIT Licensed
build time: Jul 17 01:09
*/
KISSY.add("dom/base/api",function(e){var a=e.Env.host||{},h=a.document,r=e.UA,l={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},n={isCustomDomain:function(e){var e=e||a,e=n.get(e),d=e.document.domain,e=e.location.hostname;return d!=e&&d!="["+e+"]"},getEmptyIframeSrc:function(e){e=e||a;e=n.get(e);return r.ie&&n.isCustomDomain(e)?
"javascript:void(function(){"+encodeURIComponent("document.open();document.domain='"+e.document.domain+"';document.close();")+"}())":""},NodeType:l,getWindow:function(h){if(!h)return a;h=n.get(h);if(e.isWindow(h))return h;var d=h;d.nodeType!==l.DOCUMENT_NODE&&(d=h.ownerDocument);return d.defaultView||d.parentWindow},getDocument:function(a){if(!a)return h;a=n.get(a);return e.isWindow(a)?a.document:a.nodeType==l.DOCUMENT_NODE?a:a.ownerDocument},isDomNodeList:function(a){return a&&!a.nodeType&&a.item&&
!a.setTimeout},nodeName:function(a){var e=n.get(a),a=e.nodeName.toLowerCase();r.ie&&(e=e.scopeName)&&"HTML"!=e&&(a=e.toLowerCase()+":"+a);return a},_RE_NUM_NO_PX:RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i")};e.mix(n,l);return n});
KISSY.add("dom/base/attr",function(e,a,h){function r(a,f){var f=o[f]||f,b=q[f];return b&&b.get?b.get(a,f):a[f]}var l=e.Env.host.document,n=a.NodeType,l=l&&l.documentElement,p=a.nodeName,d=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,k=/^(?:button|input|object|select|textarea)$/i,j=/^a(?:rea)?$/i,m=/:|^on/,b=/\r/g,c={},i={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1,scrollTop:1,scrollLeft:1},w={tabindex:{get:function(a){var f=
a.getAttributeNode("tabindex");return f&&f.specified?parseInt(f.value,10):k.test(a.nodeName)||j.test(a.nodeName)&&a.href?0:h}}},o={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},t={get:function(b,f){return a.prop(b,f)?f.toLowerCase():h},set:function(b,f,c){!1===f?
a.removeAttr(b,c):(f=o[c]||c,f in b&&(b[f]=!0),b.setAttribute(c,c.toLowerCase()));return c}},q={},g={},s={select:{get:function(b){var f=b.selectedIndex,c=b.options,e;if(0>f)return null;if("select-one"===""+b.type)return a.val(c[f]);b=[];f=0;for(e=c.length;f<e;++f)c[f].selected&&b.push(a.val(c[f]));return b},set:function(b,f){var c=e.makeArray(f);e.each(b.options,function(b){b.selected=e.inArray(a.val(b),c)});c.length||(b.selectedIndex=-1);return c}}};e.each(["radio","checkbox"],function(b){s[b]={get:function(a){return null===
a.getAttribute("value")?"on":a.value},set:function(b,c){return e.isArray(c)?b.checked=e.inArray(a.val(b),c):h}}});w.style={get:function(a){return a.style.cssText}};e.mix(a,{_valHooks:s,_propFix:o,_attrHooks:w,_propHooks:q,_attrNodeHook:g,_attrFix:c,prop:function(b,f,c){var g=a.query(b),i,d;if(e.isPlainObject(f))return e.each(f,function(b,f){a.prop(g,f,b)}),h;f=o[f]||f;d=q[f];if(c!==h)for(b=g.length-1;0<=b;b--)i=g[b],d&&d.set?d.set(i,c,f):i[f]=c;else if(g.length)return r(g[0],f);return h},hasProp:function(b,
f){var c=a.query(b),e,g=c.length,i;for(e=0;e<g;e++)if(i=c[e],r(i,f)!==h)return!0;return!1},removeProp:function(b,c){var c=o[c]||c,e=a.query(b),g,i;for(g=e.length-1;0<=g;g--){i=e[g];try{i[c]=h,delete i[c]}catch(d){}}},attr:function(b,f,z,k){var s=a.query(b),q=s[0];if(e.isPlainObject(f)){var k=z,v;for(v in f)a.attr(s,v,f[v],k);return h}if(k&&i[f])return a[f](b,z);f=f.toLowerCase();if(k&&i[f])return a[f](b,z);f=c[f]||f;b=d.test(f)?t:m.test(f)?g:w[f];if(z===h){if(q&&q.nodeType===n.ELEMENT_NODE){"form"==
p(q)&&(b=g);if(b&&b.get)return b.get(q,f);z=q.getAttribute(f);return""===z&&(f=q.getAttributeNode(f),!f||!f.specified)?h:null===z?h:z}}else for(k=s.length-1;0<=k;k--)if((q=s[k])&&q.nodeType===n.ELEMENT_NODE)"form"==p(q)&&(b=g),b&&b.set?b.set(q,z,f):q.setAttribute(f,""+z);return h},removeAttr:function(b,f){var f=f.toLowerCase(),f=c[f]||f,e=a.query(b),g,i,h;for(h=e.length-1;0<=h;h--)if(i=e[h],i.nodeType==n.ELEMENT_NODE&&(i.removeAttribute(f),d.test(f)&&(g=o[f]||f)in i))i[g]=!1},hasAttr:l&&!l.hasAttribute?
function(b,c){var c=c.toLowerCase(),e=a.query(b),g,i;for(g=0;g<e.length;g++)if(i=e[g],(i=i.getAttributeNode(c))&&i.specified)return!0;return!1}:function(b,c){var e=a.query(b),g,i=e.length;for(g=0;g<i;g++)if(e[g].hasAttribute(c))return!0;return!1},val:function(c,f){var g,i,d,q,v;if(f===h){if(d=a.get(c)){if((g=s[p(d)]||s[d.type])&&"get"in g&&(i=g.get(d,"value"))!==h)return i;i=d.value;return"string"===typeof i?i.replace(b,""):null==i?"":i}return h}i=a.query(c);for(q=i.length-1;0<=q;q--){d=i[q];if(1!==
d.nodeType)break;v=f;null==v?v="":"number"===typeof v?v+="":e.isArray(v)&&(v=e.map(v,function(a){return a==null?"":a+""}));g=s[p(d)]||s[d.type];if(!g||!("set"in g)||g.set(d,v,"value")===h)d.value=v}return h},text:function(b,c){var g,e,i,d;if(c===h)return g=a.get(b),a._getText(g);e=a.query(b);for(i=e.length-1;0<=i;i--)if(g=e[i],d=g.nodeType,d==n.ELEMENT_NODE)a.empty(g),g.appendChild(g.ownerDocument.createTextNode(c));else if(d==n.TEXT_NODE||d==n.CDATA_SECTION_NODE)g.nodeValue=c;return h},_getText:function(a){return a.textContent}});
return a},{requires:["./api"]});
KISSY.add("dom/base/class",function(e,a){function h(a){for(var a=e.trim(a||""),a=a.split(d),h=[],m,b=a.length,c=0;c<b;c++)(m=a[c])&&h.push(m);return h}function r(a){return function(e,d){var b,c,i,h=e.classList,o=n.call(arguments,2);b=0;for(c=d.length;b<c;b++)(i=d[b])&&h[a].apply(h,[i].concat(o))}}function l(e){return function(d,m){var b=h(m),c=n.call(arguments,2);a.query(d).each(function(i){i.nodeType==p.ELEMENT_NODE&&a[e].apply(a,[i,b].concat(c))})}}var n=[].slice,p=a.NodeType,d=/[\.\s]\s*\.?/;e.mix(a,
{_hasClass:function(a,e){var d,b,c,i=a.classList;if(i.length){d=0;for(b=e.length;d<b;d++)if((c=e[d])&&!i.contains(c))return!1;return!0}return!1},_addClass:r("add"),_removeClass:r("remove"),_toggleClass:r("toggle"),hasClass:function(e,d){var m=a.get(e);return m&&m.nodeType==p.ELEMENT_NODE&&a._hasClass(m,h(d))},replaceClass:function(e,d,h){a.removeClass(e,d);a.addClass(e,h)},addClass:l("_addClass"),removeClass:l("_removeClass"),toggleClass:l("_toggleClass")});return a},{requires:["./api"]});
KISSY.add("dom/base/create",function(e,a,h){function r(b){var c=e.require("event/dom");c&&c.detach(b);a.removeData(b)}function l(a){a=a&&a!=j?a.createElement(c):i;a===i&&(a.innerHTML="");return a}function n(a,b){var c=l(b);c.innerHTML="m<div>"+a+"</div>";return c.lastChild}function p(a,b,c){var g=b.nodeType;if(g==m.DOCUMENT_FRAGMENT_NODE){b=b.childNodes;c=c.childNodes;for(g=0;b[g];)c[g]&&p(a,b[g],c[g]),g++}else if(g==m.ELEMENT_NODE){b=b.getElementsByTagName("*");c=c.getElementsByTagName("*");for(g=
0;b[g];)c[g]&&a(b[g],c[g]),g++}}function d(b,c){var g=e.require("event/dom"),f,x;if(c.nodeType!=m.ELEMENT_NODE||a.hasData(b)){f=a.data(b);for(x in f)a.data(c,x,f[x]);g&&g.clone(b,c)}}function k(a){var b=null,c,g;if(a&&(a.push||a.item)&&a[0]){b=a[0].ownerDocument;b=b.createDocumentFragment();a=e.makeArray(a);c=0;for(g=a.length;c<g;c++)b.appendChild(a[c])}return b}var j=e.Env.host.document,m=a.NodeType,b=e.UA.ie,c="div",i=j&&j.createElement(c),w=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,
o=/<([\w:]+)/,t=/^\s+/,q=/\s+$/,g=b&&9>b,s=/<|&#?\w+;/,y=j&&"outerHTML"in j.documentElement,f=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;e.mix(a,{create:function(b,i,d,y){var x=null;if(!b)return x;if(b.nodeType)return a.clone(b);if("string"!=typeof b)return x;y===h&&(y=!0);y&&(b=e.trim(b));var y=a._creators,D,E,d=d||j,F,H=c;if(s.test(b))if(F=f.exec(b))x=d.createElement(F[1]);else{b=b.replace(w,"<$1></$2>");if((F=o.exec(b))&&(D=F[1]))H=D.toLowerCase();D=(y[H]||n)(b,d);g&&(E=b.match(t))&&D.insertBefore(d.createTextNode(E[0]),
D.firstChild);g&&/\S/.test(b)&&(E=b.match(q))&&D.appendChild(d.createTextNode(E[0]));b=D.childNodes;1===b.length?x=b[0].parentNode.removeChild(b[0]):b.length&&(x=k(b))}else x=d.createTextNode(b);e.isPlainObject(i)&&(x.nodeType==m.ELEMENT_NODE?a.attr(x,i,!0):x.nodeType==m.DOCUMENT_FRAGMENT_NODE&&a.attr(x.childNodes,i,!0));return x},_fixCloneAttributes:function(b,c){"textarea"===a.nodeName(b)&&(c.defaultValue=b.defaultValue,c.value=b.value)},_creators:{div:n},_defaultCreator:n,html:function(b,c,e){var b=
a.query(b),f=b[0],i=!1,d,q;if(!f)return null;if(c===h)return f.nodeType==m.ELEMENT_NODE?f.innerHTML:f.nodeType==m.DOCUMENT_FRAGMENT_NODE?(e=l(f.ownerDocument),e.appendChild(f),e.innerHTML):null;c+="";if(!c.match(/<(?:script|style|link)/i)&&(!g||!c.match(t))&&!A[(c.match(o)||["",""])[1].toLowerCase()])try{for(d=b.length-1;0<=d;d--)q=b[d],q.nodeType==m.ELEMENT_NODE&&(r(q.getElementsByTagName("*")),q.innerHTML=c);i=!0}catch(s){}i||(c=a.create(c,0,f.ownerDocument,0),a.empty(b),a.append(c,b,e));return h},
outerHtml:function(b,c,g){var b=a.query(b),e=b.length,f=b[0];if(!f)return null;if(c===h){if(y&&f.nodeType!=a.DOCUMENT_FRAGMENT_NODE)return f.outerHTML;c=l(f.ownerDocument);c.appendChild(a.clone(f,!0));return c.innerHTML}c+="";if(!c.match(/<(?:script|style|link)/i)&&y)for(g=e-1;0<=g;g--)f=b[g],f.nodeType==m.ELEMENT_NODE&&(r(f),r(f.getElementsByTagName("*")),f.outerHTML=c);else c=a.create(c,0,f.ownerDocument,0),a.insertBefore(c,b,g),a.remove(b);return h},remove:function(b,c){var g,f=a.query(b),i,d,
h=e.require("event/dom"),q;for(q=f.length-1;0<=q;q--)g=f[q],!c&&g.nodeType==m.ELEMENT_NODE&&(i=e.makeArray(g.getElementsByTagName("*")),i.push(g),a.removeData(i),h&&h.detach(i)),(d=g.parentNode)&&d.removeChild(g)},clone:function(b,c,g,f){"object"===typeof c&&(f=c.deepWithDataAndEvent,g=c.withDataAndEvent,c=c.deep);var b=a.get(b),e,i=a._fixCloneAttributes,h;if(!b)return null;h=b.nodeType;e=b.cloneNode(c);if(h==m.ELEMENT_NODE||h==m.DOCUMENT_FRAGMENT_NODE)i&&h==m.ELEMENT_NODE&&i(b,e),c&&i&&p(i,b,e);
g&&(d(b,e),c&&f&&p(d,b,e));return e},empty:function(b){var b=a.query(b),c,g;for(g=b.length-1;0<=g;g--)c=b[g],a.remove(c.childNodes)},_nodeListToFragment:k});a.outerHTML=a.outerHtml;var z=a._creators,B=a.create,A={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},C;for(C in A)(function(a){z[C]=function(b,c){return B("<"+a+">"+b+"</"+a+">",null,c)}})(A[C]);return a},{requires:["./api"]});
KISSY.add("dom/base/data",function(e,a,h){var r=e.Env.host,l="_ks_data_"+e.now(),n={},p={},d={applet:1,object:1,embed:1},k={hasData:function(a,c){if(a)if(c!==h){if(c in a)return!0}else if(!e.isEmptyObject(a))return!0;return!1}},j={hasData:function(a,c){return a==r?j.hasData(p,c):k.hasData(a[l],c)},data:function(a,c,e){if(a==r)return j.data(p,c,e);var d=a[l];if(e!==h)d=a[l]=a[l]||{},d[c]=e;else return c!==h?d&&d[c]:d=a[l]=a[l]||{}},removeData:function(a,c){if(a==r)return j.removeData(p,c);var d=a[l];
if(c!==h)delete d[c],e.isEmptyObject(d)&&j.removeData(a);else try{delete a[l]}catch(k){a[l]=h}}},m={hasData:function(a,c){var e=a[l];return!e?!1:k.hasData(n[e],c)},data:function(a,c,i){if(d[a.nodeName.toLowerCase()])return h;var k=a[l];if(!k){if(c!==h&&i===h)return h;k=a[l]=e.guid()}a=n[k];if(i!==h)a=n[k]=n[k]||{},a[c]=i;else return c!==h?a&&a[c]:a=n[k]=n[k]||{}},removeData:function(a,c){var d=a[l],k;if(d)if(k=n[d],c!==h)delete k[c],e.isEmptyObject(k)&&m.removeData(a);else{delete n[d];try{delete a[l]}catch(o){a[l]=
h}a.removeAttribute&&a.removeAttribute(l)}}};e.mix(a,{__EXPANDO:l,hasData:function(b,c){for(var e=!1,d=a.query(b),h=0;h<d.length&&!(e=d[h],e=e.nodeType?m.hasData(e,c):j.hasData(e,c));h++);return e},data:function(b,c,d){var b=a.query(b),k=b[0];if(e.isPlainObject(c)){for(var o in c)a.data(b,o,c[o]);return h}if(d===h){if(k)return k.nodeType?m.data(k,c):j.data(k,c)}else for(o=b.length-1;0<=o;o--)k=b[o],k.nodeType?m.data(k,c,d):j.data(k,c,d);return h},removeData:function(b,c){var e=a.query(b),d,h;for(h=
e.length-1;0<=h;h--)d=e[h],d.nodeType?m.removeData(d,c):j.removeData(d,c)}});return a},{requires:["./api"]});
KISSY.add("dom/base/insertion",function(e,a){function h(a,c){var e=[],l,o,t;for(l=0;a[l];l++)if(o=a[l],t=d(o),o.nodeType==n.DOCUMENT_FRAGMENT_NODE)e.push.apply(e,h(k(o.childNodes),c));else if("script"===t&&(!o.type||m.test(o.type)))o.parentNode&&o.parentNode.removeChild(o),c&&c.push(o);else{if(o.nodeType==n.ELEMENT_NODE&&!p.test(t)){t=[];var q,g,s=o.getElementsByTagName("script");for(g=0;g<s.length;g++)q=s[g],(!q.type||m.test(q.type))&&t.push(q);j.apply(a,[l+1,0].concat(t))}e.push(o)}return e}function r(a){a.src?
e.getScript(a.src):(a=e.trim(a.text||a.textContent||a.innerHTML||""))&&e.globalEval(a)}function l(b,c,d,k){b=a.query(b);k&&(k=[]);b=h(b,k);a._fixInsertionChecked&&a._fixInsertionChecked(b);var c=a.query(c),j,t,q,g,s=c.length;if((b.length||k&&k.length)&&s){b=a._nodeListToFragment(b);1<s&&(g=a.clone(b,!0),c=e.makeArray(c));for(j=0;j<s;j++)t=c[j],b&&(q=0<j?a.clone(g,!0):b,d(q,t)),k&&k.length&&e.each(k,r)}}var n=a.NodeType,p=/^(?:button|input|object|select|textarea)$/i,d=a.nodeName,k=e.makeArray,j=[].splice,
m=/\/(java|ecma)script/i;e.mix(a,{_fixInsertionChecked:null,insertBefore:function(a,c,e){l(a,c,function(a,c){c.parentNode&&c.parentNode.insertBefore(a,c)},e)},insertAfter:function(a,c,e){l(a,c,function(a,c){c.parentNode&&c.parentNode.insertBefore(a,c.nextSibling)},e)},appendTo:function(a,c,e){l(a,c,function(a,c){c.appendChild(a)},e)},prependTo:function(a,c,e){l(a,c,function(a,c){c.insertBefore(a,c.firstChild)},e)},wrapAll:function(b,c){c=a.clone(a.get(c),!0);b=a.query(b);b[0].parentNode&&a.insertBefore(c,
b[0]);for(var e;(e=c.firstChild)&&1==e.nodeType;)c=e;a.appendTo(b,c)},wrap:function(b,c){b=a.query(b);c=a.get(c);e.each(b,function(b){a.wrapAll(b,c)})},wrapInner:function(b,c){b=a.query(b);c=a.get(c);e.each(b,function(b){var e=b.childNodes;e.length?a.wrapAll(e,c):b.appendChild(c)})},unwrap:function(b){b=a.query(b);e.each(b,function(c){c=c.parentNode;a.replaceWith(c,c.childNodes)})},replaceWith:function(b,c){var e=a.query(b),c=a.query(c);a.remove(c,!0);a.insertBefore(c,e);a.remove(e)}});e.each({prepend:"prependTo",
append:"appendTo",before:"insertBefore",after:"insertAfter"},function(b,c){a[c]=a[b]});return a},{requires:["./api"]});
KISSY.add("dom/base/offset",function(e,a,h){function r(a){var b,e=a.ownerDocument.body;if(!a.getBoundingClientRect)return{left:0,top:0};b=a.getBoundingClientRect();a=b[c];b=b[i];a-=j.clientLeft||e.clientLeft||0;b-=j.clientTop||e.clientTop||0;return{left:a,top:b}}function l(c,b){var e={left:0,top:0},d=m(c),h,f=c,b=b||d;do{if(d==b){var k=f;h=r(k);k=m(k);h.left+=a[w](k);h.top+=a[o](k)}else h=r(f);e.left+=h.left;e.top+=h.top}while(d&&d!=b&&(f=d.frameElement)&&(d=d.parent));return e}var n=e.Env.host,p=
e.UA,d=n.document,k=a.NodeType,j=d&&d.documentElement,m=a.getWindow,b=Math.max,c="left",i="top",w="scrollLeft",o="scrollTop";e.mix(a,{offset:function(c,b,e){if(b===h){var c=a.get(c),d;c&&(d=l(c,e));return d}e=a.query(c);for(d=e.length-1;0<=d;d--){var c=e[d],k=b;"static"===a.css(c,"position")&&(c.style.position="relative");var f=l(c),i={},j=void 0,m=void 0;for(m in k)j=parseFloat(a.css(c,m))||0,i[m]=j+k[m]-f[m];a.css(c,i)}return h},scrollIntoView:function(b,d,g,s){var j,f,l,n;if(l=a.get(b)){d&&(d=
a.get(d));d||(d=l.ownerDocument);d.nodeType==k.DOCUMENT_NODE&&(d=m(d));e.isPlainObject(g)&&(s=g.allowHorizontalScroll,n=g.onlyScrollIfNeeded,g=g.alignWithTop);s=s===h?!0:s;f=e.isWindow(d);var b=a.offset(l),o=a.outerHeight(l);j=a.outerWidth(l);var p,r,w,u;f?(f=d,p=a.height(f),r=a.width(f),u={left:a.scrollLeft(f),top:a.scrollTop(f)},f=b[c]-u[c],l=b[i]-u[i],j=b[c]+j-(u[c]+r),b=b[i]+o-(u[i]+p)):(p=a.offset(d),r=d.clientHeight,w=d.clientWidth,u={left:a.scrollLeft(d),top:a.scrollTop(d)},f=b[c]-(p[c]+(parseFloat(a.css(d,
"borderLeftWidth"))||0)),l=b[i]-(p[i]+(parseFloat(a.css(d,"borderTopWidth"))||0)),j=b[c]+j-(p[c]+w+(parseFloat(a.css(d,"borderRightWidth"))||0)),b=b[i]+o-(p[i]+r+(parseFloat(a.css(d,"borderBottomWidth"))||0)));if(n){if(0>l||0<b)!0===g?a.scrollTop(d,u.top+l):!1===g?a.scrollTop(d,u.top+b):0>l?a.scrollTop(d,u.top+l):a.scrollTop(d,u.top+b)}else(g=g===h?!0:!!g)?a.scrollTop(d,u.top+l):a.scrollTop(d,u.top+b);if(s)if(n){if(0>f||0<j)!0===g?a.scrollLeft(d,u.left+f):!1===g?a.scrollLeft(d,u.left+j):0>f?a.scrollLeft(d,
u.left+f):a.scrollLeft(d,u.left+j)}else(g=g===h?!0:!!g)?a.scrollLeft(d,u.left+f):a.scrollLeft(d,u.left+j)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});e.each(["Left","Top"],function(b,c){var e="scroll"+b;a[e]=function(d,i){if("number"===typeof d)return arguments.callee(n,d);var d=a.get(d),f,j,l,o;d&&d.nodeType==k.ELEMENT_NODE?i!==h?d[e]=parseFloat(i):f=d[e]:(o=m(d),i!==h?(i=parseFloat(i),j="Left"==b?i:a.scrollLeft(o),l="Top"==b?i:a.scrollTop(o),o.scrollTo(j,
l)):(f=o["page"+(c?"Y":"X")+"Offset"],"number"!==typeof f&&(j=o.document,f=j.documentElement[e],"number"!==typeof f&&(f=j.body[e]))));return f}});e.each(["Width","Height"],function(c){a["doc"+c]=function(d){d=a.get(d);d=a.getDocument(d);return b(d.documentElement["scroll"+c],d.body["scroll"+c],a["viewport"+c](d))};a["viewport"+c]=function(b){var b=a.get(b),d=m(b),b=d["inner"+c];if(p.mobile&&b)return b;var b="client"+c,d=d.document,e=d.body,h=d.documentElement[b];return"CSS1Compat"===d.compatMode&&
h||e&&e[b]||h}});return a},{requires:["./api"]});
KISSY.add("dom/base/style",function(e,a,h){function r(a,b){return b.toUpperCase()}function l(a){return a.replace(g,"ms-").replace(v,r)}function n(a,b,c){var d={},e=a.style,f;for(f in b)d[f]=e[f],e[f]=b[f];c.call(a);for(f in b)e[f]=d[f]}function p(a,b,c){var d,e,g;if(3===a.nodeType||8===a.nodeType||!(d=a.style))return h;b=l(b);g=B[b];b=A[b]||b;if(c!==h){null===c||c===y?c=y:!isNaN(Number(c))&&!q[b]&&(c+=f);g&&g.set&&(c=g.set(a,c));if(c!==h){try{d[b]=c}catch(k){}c===y&&d.removeAttribute&&d.removeAttribute(b)}d.cssText||
a.removeAttribute("style");return h}if(!g||!("get"in g&&(e=g.get(a,!1))!==h))e=d[b];return e===h?"":e}function d(a){var b,c=arguments;0!==a.offsetWidth?b=k.apply(h,c):n(a,u,function(){b=k.apply(h,c)});return b}function k(b,c,d){if(e.isWindow(b))return c==o?a.viewportWidth(b):a.viewportHeight(b);if(9==b.nodeType)return c==o?a.docWidth(b):a.docHeight(b);var f=c===o?["Left","Right"]:["Top","Bottom"],g=c===o?b.offsetWidth:b.offsetHeight;if(0<g)return"border"!==d&&e.each(f,function(c){d||(g-=parseFloat(a.css(b,
"padding"+c))||0);g="margin"===d?g+(parseFloat(a.css(b,d+c))||0):g-(parseFloat(a.css(b,"border"+c+"Width"))||0)}),g;g=a._getComputedStyle(b,c);if(null==g||0>Number(g))g=b.style[c]||0;g=parseFloat(g)||0;d&&e.each(f,function(c){g+=parseFloat(a.css(b,"padding"+c))||0;"padding"!==d&&(g+=parseFloat(a.css(b,"border"+c+"Width"))||0);"margin"===d&&(g+=parseFloat(a.css(b,d+c))||0)});return g}var j=e.Env.host,m=e.UA,b=e.Features,c=a.nodeName,i=j.document,w=/^margin/,o="width",t="display"+e.now(),q={fillOpacity:1,
fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},g=/^-ms-/,s=/([A-Z]|^ms)/g,y="",f="px",z=/\d(?!px)[a-z%]+$/i,B={},A={"float":"cssFloat"},C={},v=/-([a-z])/ig;if(b.isTransformSupported()){var G;G=A.transform=b.getTransformProperty();A.transformOrigin=G+"Origin"}b.isTransitionSupported()&&(A.transition=b.getTransitionProperty());e.mix(a,{_camelCase:l,_cssHooks:B,_cssProps:A,_getComputedStyle:function(b,c){var d="",e,g,f,h,k;g=b.ownerDocument;c=A[c]||c;c=c.replace(s,"-$1").toLowerCase();
if(e=g.defaultView.getComputedStyle(b,null))d=e.getPropertyValue(c)||e[c];d===""&&!a.contains(g,b)&&(d=b.style[c]);if(a._RE_NUM_NO_PX.test(d)&&w.test(c)){k=b.style;g=k.width;f=k.minWidth;h=k.maxWidth;k.minWidth=k.maxWidth=k.width=d;d=e.width;k.width=g;k.minWidth=f;k.maxWidth=h}return d},style:function(b,c,d){var b=a.query(b),g,f=b[0];if(e.isPlainObject(c)){for(g in c)for(f=b.length-1;f>=0;f--)p(b[f],g,c[g]);return h}if(d===h){g="";f&&(g=p(f,c,d));return g}for(f=b.length-1;f>=0;f--)p(b[f],c,d);return h},
css:function(b,c,d){var b=a.query(b),g=b[0],f;if(e.isPlainObject(c)){for(f in c)for(g=b.length-1;g>=0;g--)p(b[g],f,c[f]);return h}c=l(c);f=B[c];if(d===h){d="";if(g&&(!f||!("get"in f&&(d=f.get(g,true))!==h)))d=a._getComputedStyle(g,c);return typeof d=="undefined"?"":d}for(g=b.length-1;g>=0;g--)p(b[g],c,d);return h},show:function(b){var b=a.query(b),c,d,e;for(e=b.length-1;e>=0;e--){d=b[e];d.style.display=a.data(d,t)||y;if(a.css(d,"display")==="none"){c=d.tagName.toLowerCase();var g=void 0,f=C[c],h=
void 0;if(!C[c]){g=i.body||i.documentElement;h=i.createElement(c);a.prepend(h,g);f=a.css(h,"display");g.removeChild(h);C[c]=f}c=f;a.data(d,t,c);d.style.display=c}}},hide:function(b){var b=a.query(b),c,d;for(d=b.length-1;d>=0;d--){c=b[d];var e=c.style,g=e.display;if(g!=="none"){g&&a.data(c,t,g);e.display="none"}}},toggle:function(b){var b=a.query(b),c,d;for(d=b.length-1;d>=0;d--){c=b[d];a.css(c,"display")==="none"?a.show(c):a.hide(c)}},addStyleSheet:function(b,c,d){if(typeof b=="string"){d=c;c=b;b=
j}var b=a.getDocument(b),e;if(d&&(d=d.replace("#",y)))e=a.get("#"+d,b);if(!e){e=a.create("<style>",{id:d},b);a.get("head",b).appendChild(e);e.styleSheet?e.styleSheet.cssText=c:e.appendChild(b.createTextNode(c))}},unselectable:function(b){var b=a.query(b),d,g,f=0,h,k;for(g=b.length-1;g>=0;g--){d=b[g];k=d.style;k.UserSelect="none";if(m.gecko)k.MozUserSelect="none";else if(m.webkit)k.WebkitUserSelect="none";else if(m.ie||m.opera){k=d.getElementsByTagName("*");d.setAttribute("unselectable","on");for(h=
["iframe","textarea","input","select"];d=k[f++];)e.inArray(c(d),h)||d.setAttribute("unselectable","on")}}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});e.each([o,"height"],function(b){a["inner"+e.ucfirst(b)]=function(c){return(c=a.get(c))&&d(c,b,"padding")};a["outer"+e.ucfirst(b)]=function(c,e){var g=a.get(c);return g&&d(g,b,e?"margin":"border")};a[b]=function(c,d){var e=a.css(c,b,d);e&&(e=parseFloat(e));return e};B[b]={get:function(a,c){var e;c&&(e=d(a,b)+"px");return e}}});
var u={position:"absolute",visibility:"hidden",display:"block"};e.each(["left","top"],function(b){B[b]={get:function(c,d){var e,g,f;if(d){f=a.css(c,"position");if(f==="static")return"auto";e=a._getComputedStyle(c,b);if((g=e==="auto")&&f==="relative")return"0px";if(g||z.test(e)){f={top:0,left:0};if(a.css(c,"position")=="fixed")g=c.getBoundingClientRect();else{for(e=c.offsetParent||(c.ownerDocument||i).body;e&&!I.test(e.nodeName)&&a.css(e,"position")==="static";)e=e.offsetParent;g=a.offset(c);f=a.offset(e);
f.top=f.top+(parseFloat(a.css(e,"borderTopWidth"))||0);f.left=f.left+(parseFloat(a.css(e,"borderLeftWidth"))||0)}g.top=g.top-(parseFloat(a.css(c,"marginTop"))||0);g.left=g.left-(parseFloat(a.css(c,"marginLeft"))||0);e={top:g.top-f.top,left:g.left-f.left}[b]+"px"}}return e}}});var I=/^(?:body|html)$/i;return a},{requires:["./api"]});
KISSY.add("dom/base/selector",function(e,a,h){function r(a){var b=this.length,c;for(c=0;c<b&&!1!==a(this[c],c);c++);}function l(d,e){var j,f;j="string"==typeof d;var m=e!==h?l(e):(f=1)&&[k],n=m.length;if(d)if(j)if(d=q(d),f&&"body"==d)j=[k.body];else{j=[];for(f=0;f<n;f++)o.apply(j,a._selectInternal(d,m[f]));1<j.length&&1<n&&a.unique(j)}else{if(j=d.nodeType||d.setTimeout?[d]:d.getDOMNodes?d.getDOMNodes():b(d)?d:i(d)?c(d):[d],!f){var p=j,t,v=p.length;j=[];for(f=0;f<v;f++)for(t=0;t<n;t++)if(a._contains(m[t],
p[f])){j.push(p[f]);break}}}else j=[];j.each=r;return j}function n(a,b){var c=a&&(a.className||p(a,"class"));return c&&-1<(w+c+w).indexOf(w+b+w)}function p(a,b){var c=a&&a.getAttributeNode(b);return c&&c.specified?c.nodeValue:h}function d(a,b){return"*"==b||a.nodeName.toLowerCase()===b.toLowerCase()}var k=e.Env.host.document,j=k.documentElement,m=j.matches||j.webkitMatchesSelector||j.mozMatchesSelector||j.oMatchesSelector||j.msMatchesSelector,b=e.isArray,c=e.makeArray,i=a.isDomNodeList,w=" ",o=Array.prototype.push,
t=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,q=e.trim;e.mix(a,{_compareNodeOrder:function(a,b){return!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1},_getSimpleAttr:p,_isTag:d,_hasSingleClass:n,_matchesInternal:function(a,b){for(var c=[],d=0,e,h=b.length;d<h;d++)e=b[d],m.call(e,a)&&c.push(e);return c},_selectInternal:function(a,b){return c(b.querySelectorAll(a))},query:l,get:function(a,b){return l(a,b)[0]||null},unique:function(){function b(d,
e){return d==e?(c=!0,0):a._compareNodeOrder(d,e)}var c,d=!0;[0,0].sort(function(){d=!1;return 0});return function(a){c=d;a.sort(b);if(c)for(var e=1,h=a.length;e<h;)a[e]===a[e-1]?(a.splice(e,1),--h):e++;return a}}(),filter:function(b,c,h){var b=l(b,h),f,k,i,j,h=[];if("string"==typeof c&&(c=q(c))&&(i=t.exec(c)))f=i[1],k=i[2],j=i[3],f?f&&!k&&!j&&(c=function(a){return p(a,"id")==f}):c=function(a){var b=!0,c=!0;k&&(b=d(a,k));j&&(c=n(a,j));return c&&b};return h="function"===typeof c?e.filter(b,c):a._matchesInternal(c,
b)},test:function(b,c,d){b=l(b,d);return b.length&&a.filter(b,c,d).length===b.length}});return a},{requires:["./api"]});
KISSY.add("dom/base/traversal",function(e,a,h){function r(d,k,j,m,b,c,i){if(!(d=a.get(d)))return null;if(0===k)return d;c||(d=d[j]);if(!d)return null;b=b&&a.get(b)||null;k===h&&(k=1);var c=[],n=e.isArray(k),o,r;"number"===typeof k&&(o=0,r=k,k=function(){return++o===r});for(;d&&d!=b;){if((d.nodeType==p.ELEMENT_NODE||d.nodeType==p.TEXT_NODE&&i)&&l(d,k)&&(!m||m(d)))if(c.push(d),!n)break;d=d[j]}return n?c:c[0]||null}function l(d,h){if(!h)return!0;if(e.isArray(h)){var j,l=h.length;if(!l)return!0;for(j=
0;j<l;j++)if(a.test(d,h[j]))return!0}else if(a.test(d,h))return!0;return!1}function n(d,h,j,l){var b=[],c,i;if((c=d=a.get(d))&&j)c=d.parentNode;if(c){j=e.makeArray(c.childNodes);for(c=0;c<j.length;c++)i=j[c],(l||i.nodeType==p.ELEMENT_NODE)&&i!=d&&b.push(i);h&&(b=a.filter(b,h))}return b}var p=a.NodeType;e.mix(a,{_contains:function(a,e){return!!(a.compareDocumentPosition(e)&16)},closest:function(a,e,h,l){return r(a,e,"parentNode",function(a){return a.nodeType!=p.DOCUMENT_FRAGMENT_NODE},h,!0,l)},parent:function(a,
e,j){return r(a,e,"parentNode",function(a){return a.nodeType!=p.DOCUMENT_FRAGMENT_NODE},j,h)},first:function(d,e,j){d=a.get(d);return r(d&&d.firstChild,e,"nextSibling",h,h,!0,j)},last:function(d,e,j){d=a.get(d);return r(d&&d.lastChild,e,"previousSibling",h,h,!0,j)},next:function(a,e,j){return r(a,e,"nextSibling",h,h,h,j)},prev:function(a,e,j){return r(a,e,"previousSibling",h,h,h,j)},siblings:function(a,e,h){return n(a,e,!0,h)},children:function(a,e){return n(a,e,h)},contents:function(a,e){return n(a,
e,h,1)},contains:function(d,e){d=a.get(d);e=a.get(e);return d&&e?a._contains(d,e):!1},index:function(d,h){var j=a.query(d),l,b=0;l=j[0];if(!h){j=l&&l.parentNode;if(!j)return-1;for(;l=l.previousSibling;)l.nodeType==p.ELEMENT_NODE&&b++;return b}b=a.query(h);return"string"===typeof h?e.indexOf(l,b):e.indexOf(b[0],j)},equals:function(d,e){d=a.query(d);e=a.query(e);if(d.length!=e.length)return!1;for(var h=d.length;0<=h;h--)if(d[h]!=e[h])return!1;return!0}});return a},{requires:["./api"]});
KISSY.add("dom/base",function(e,a){e.mix(e,{DOM:a,get:a.get,query:a.query});return a},{requires:"./base/api,./base/attr,./base/class,./base/create,./base/data,./base/insertion,./base/offset,./base/style,./base/selector,./base/traversal".split(",")});
