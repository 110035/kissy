/*
Copyright 2013, KISSY UI Library v1.40dev
MIT Licensed
build time: Jun 5 22:26
*/
KISSY.add("dom/base/api",function(b){var a=b.Env.host,g=b.UA,n={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},k={isCustomDomain:function(b){var b=b||a,g=b.document.domain,b=b.location.hostname;return g!=b&&g!="["+b+"]"},getEmptyIframeSrc:function(b){b=b||a;return g.ie&&k.isCustomDomain(b)?"javascript:void(function(){"+
encodeURIComponent("document.open();document.domain='"+b.document.domain+"';document.close();")+"}())":""},NodeType:n,getWindow:function(b){return!b?a:"scrollTo"in b&&b.document?b:b.nodeType==n.DOCUMENT_NODE?b.defaultView||b.parentWindow:!1},_isNodeList:function(a){return a&&!a.nodeType&&a.item&&!a.setTimeout},nodeName:function(a){var b=k.get(a),a=b.nodeName.toLowerCase();g.ie&&(b=b.scopeName)&&"HTML"!=b&&(a=b.toLowerCase()+":"+a);return a},_RE_NUM_NO_PX:RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+
")(?!px)[a-z%]+$","i")};b.mix(k,n);return k});
KISSY.add("dom/base/attr",function(b,a,g){function n(a,c){var c=o[c]||c,e=r[c];return e&&e.get?e.get(a,c):a[c]}var k=b.Env.host.document,p=a.NodeType,k=k&&k.documentElement,s=a.nodeName,h=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:button|input|object|select|textarea)$/i,i=/^a(?:rea)?$/i,t=/:|^on/,e=/\r/g,d={},j={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1,scrollTop:1,scrollLeft:1},w={tabindex:{get:function(a){var c=
a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):f.test(a.nodeName)||i.test(a.nodeName)&&a.href?0:g}}},o={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},y={get:function(l,c){return a.prop(l,c)?c.toLowerCase():g},set:function(l,c,e){!1===c?
a.removeAttr(l,e):(c=o[e]||e,c in l&&(l[c]=!0),l.setAttribute(e,e.toLowerCase()));return e}},r={},u={},m={select:{get:function(l){var c=l.selectedIndex,e=l.options,d;if(0>c)return null;if("select-one"===""+l.type)return a.val(e[c]);l=[];c=0;for(d=e.length;c<d;++c)e[c].selected&&l.push(a.val(e[c]));return l},set:function(l,c){var e=b.makeArray(c);b.each(l.options,function(c){c.selected=b.inArray(a.val(c),e)});e.length||(l.selectedIndex=-1);return e}}};b.each(["radio","checkbox"],function(e){m[e]={get:function(a){return null===
a.getAttribute("value")?"on":a.value},set:function(c,e){return b.isArray(e)?c.checked=b.inArray(a.val(c),e):g}}});w.style={get:function(a){return a.style.cssText}};b.mix(a,{_valHooks:m,_propFix:o,_attrHooks:w,_propHooks:r,_attrNodeHook:u,_attrFix:d,prop:function(e,c,d){var m=a.query(e),j,q;if(b.isPlainObject(c))return b.each(c,function(e,c){a.prop(m,c,e)}),g;c=o[c]||c;q=r[c];if(d!==g)for(e=m.length-1;0<=e;e--)j=m[e],q&&q.set?q.set(j,d,c):j[c]=d;else if(m.length)return n(m[0],c);return g},hasProp:function(e,
c){var d=a.query(e),b,m=d.length,q;for(b=0;b<m;b++)if(q=d[b],n(q,c)!==g)return!0;return!1},removeProp:function(e,c){var c=o[c]||c,d=a.query(e),b,m;for(b=d.length-1;0<=b;b--){m=d[b];try{m[c]=g,delete m[c]}catch(q){}}},attr:function(e,c,m,f){var i=a.query(e),q=i[0];if(b.isPlainObject(c)){var f=m,z;for(z in c)a.attr(i,z,c[z],f);return g}if(f&&j[c])return a[c](e,m);c=c.toLowerCase();if(f&&j[c])return a[c](e,m);c=d[c]||c;e=h.test(c)?y:t.test(c)?u:w[c];if(m===g){if(q&&q.nodeType===p.ELEMENT_NODE){"form"==
s(q)&&(e=u);if(e&&e.get)return e.get(q,c);m=q.getAttribute(c);return""===m&&(c=q.getAttributeNode(c),!c||!c.specified)?g:null===m?g:m}}else for(f=i.length-1;0<=f;f--)if((q=i[f])&&q.nodeType===p.ELEMENT_NODE)"form"==s(q)&&(e=u),e&&e.set?e.set(q,m,c):q.setAttribute(c,""+m);return g},removeAttr:function(e,c){var c=c.toLowerCase(),c=d[c]||c,m=a.query(e),b,f,q;for(q=m.length-1;0<=q;q--)if(f=m[q],f.nodeType==p.ELEMENT_NODE&&(f.removeAttribute(c),h.test(c)&&(b=o[c]||c)in f))f[b]=!1},hasAttr:k&&!k.hasAttribute?
function(e,c){var c=c.toLowerCase(),d=a.query(e),m,b;for(m=0;m<d.length;m++)if(b=d[m],(b=b.getAttributeNode(c))&&b.specified)return!0;return!1}:function(e,c){var d=a.query(e),m,b=d.length;for(m=0;m<b;m++)if(d[m].hasAttribute(c))return!0;return!1},val:function(d,c){var f,j,i,q,z;if(c===g){if(i=a.get(d)){if((f=m[s(i)]||m[i.type])&&"get"in f&&(j=f.get(i,"value"))!==g)return j;j=i.value;return"string"===typeof j?j.replace(e,""):null==j?"":j}return g}j=a.query(d);for(q=j.length-1;0<=q;q--){i=j[q];if(1!==
i.nodeType)break;z=c;null==z?z="":"number"===typeof z?z+="":b.isArray(z)&&(z=b.map(z,function(a){return a==null?"":a+""}));f=m[s(i)]||m[i.type];if(!f||!("set"in f)||f.set(i,z,"value")===g)i.value=z}return g},text:function(e,c){var d,m,b,q;if(c===g)return d=a.get(e),a._getText(d);m=a.query(e);for(b=m.length-1;0<=b;b--)if(d=m[b],q=d.nodeType,q==p.ELEMENT_NODE)a.empty(d),d.appendChild(d.ownerDocument.createTextNode(c));else if(q==p.TEXT_NODE||q==p.CDATA_SECTION_NODE)d.nodeValue=c;return g},_getText:function(a){return a.textContent}});
return a},{requires:["./api"]});
KISSY.add("dom/base/class",function(b,a){function g(a){for(var a=b.trim(a||""),a=a.split(h),i=[],g,e=a.length,d=0;d<e;d++)(g=a[d])&&i.push(g);return i}function n(a){return function(b,g){var e,d,j,w=b.classList,h=p.call(arguments,2);e=0;for(d=g.length;e<d;e++)(j=g[e])&&w[a].apply(w,[j].concat(h))}}function k(b){return function(i,h){var e=g(h),d=p.call(arguments,2);a.query(i).each(function(j){j.nodeType==s.ELEMENT_NODE&&a[b].apply(a,[j,e].concat(d))})}}var p=[].slice,s=a.NodeType,h=/[\.\s]\s*\.?/;b.mix(a,
{_hasClass:function(a,b){var g,e,d,j=a.classList;if(j.length){g=0;for(e=b.length;g<e;g++)if((d=b[g])&&!j.contains(d))return!1;return!0}return!1},_addClass:n("add"),_removeClass:n("remove"),_toggleClass:n("toggle"),hasClass:function(b,i){var h=a.get(b);return h&&h.nodeType==s.ELEMENT_NODE&&a._hasClass(h,g(i))},replaceClass:function(b,g,h){a.removeClass(b,g);a.addClass(b,h)},addClass:k("_addClass"),removeClass:k("_removeClass"),toggleClass:k("_toggleClass")});return a},{requires:["./api"]});
KISSY.add("dom/base/create",function(b,a,g){function n(e){var c=b.require("event/dom/base");c&&c.detach(e);a.removeData(e)}function k(a,c){var b=c&&c!=f?c.createElement(e):d;b.innerHTML="m<div>"+a+"</div>";return b.lastChild}function p(a,e,c){var d=e.nodeType;if(d==i.DOCUMENT_FRAGMENT_NODE){e=e.childNodes;c=c.childNodes;for(d=0;e[d];)c[d]&&p(a,e[d],c[d]),d++}else if(d==i.ELEMENT_NODE){e=e.getElementsByTagName("*");c=c.getElementsByTagName("*");for(d=0;e[d];)c[d]&&a(e[d],c[d]),d++}}function s(e,c){var d=
b.require("event/dom"),m,v;if(c.nodeType!=i.ELEMENT_NODE||a.hasData(e)){m=a.data(e);for(v in m)a.data(c,v,m[v]);d&&(d._DOMUtils.removeData(c),d._clone(e,c))}}function h(a){var e=null,c,d;if(a&&(a.push||a.item)&&a[0]){e=a[0].ownerDocument;e=e.createDocumentFragment();a=b.makeArray(a);c=0;for(d=a.length;c<d;c++)e.appendChild(a[c])}return e}var f=b.Env.host.document,i=a.NodeType,t=b.UA.ie,e="div",d=f&&f.createElement(e),j=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,w=/<([\w:]+)/,
o=/^\s+/,y=/\s+$/,r=t&&9>t,u=/<|&#?\w+;/,m=f&&"outerHTML"in f.documentElement,l=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;b.mix(a,{create:function(c,d,m,A){var v=null;if(!c)return v;if(c.nodeType)return a.clone(c);if("string"!=typeof c)return v;A===g&&(A=!0);A&&(c=b.trim(c));var A=a._creators,B,x,m=m||f,D,F=e;if(u.test(c))if(D=l.exec(c))v=m.createElement(D[1]);else{c=c.replace(j,"<$1></$2>");if((D=w.exec(c))&&(B=D[1]))F=B.toLowerCase();B=(A[F]||k)(c,m);r&&(x=c.match(o))&&B.insertBefore(m.createTextNode(x[0]),
B.firstChild);r&&/\S/.test(c)&&(x=c.match(y))&&B.appendChild(m.createTextNode(x[0]));c=B.childNodes;1===c.length?v=c[0].parentNode.removeChild(c[0]):c.length&&(v=h(c))}else v=m.createTextNode(c);b.isPlainObject(d)&&(v.nodeType==i.ELEMENT_NODE?a.attr(v,d,!0):v.nodeType==i.DOCUMENT_FRAGMENT_NODE&&a.attr(v.childNodes,d,!0));return v},_fixCloneAttributes:function(e,c){"textarea"===a.nodeName(e)&&(c.defaultValue=e.defaultValue,c.value=e.value)},_creators:{div:k},_defaultCreator:k,html:function(e,c,d){var e=
a.query(e),m=e[0],b=!1,B,l;if(!m)return null;if(c===g)return m.nodeType==i.ELEMENT_NODE?m.innerHTML:null;c+="";if(!c.match(/<(?:script|style|link)/i)&&(!r||!c.match(o))&&!A[(c.match(w)||["",""])[1].toLowerCase()])try{for(B=e.length-1;0<=B;B--)l=e[B],l.nodeType==i.ELEMENT_NODE&&(n(l.getElementsByTagName("*")),l.innerHTML=c);b=!0}catch(j){}b||(c=a.create(c,0,m.ownerDocument,0),a.empty(e),a.append(c,e,d));return g},outerHTML:function(c,b,l){var j=a.query(c),v=j.length,c=j[0];if(!c)return null;if(b===
g){if(m)return c.outerHTML;b=(b=c.ownerDocument)&&b!=f?b.createElement(e):d;b.innerHTML="";b.appendChild(a.clone(c,!0));b.appendChild(a.clone(c,!0));return b.innerHTML}b+="";if(!b.match(/<(?:script|style|link)/i)&&m)for(l=v-1;0<=l;l--)c=j[l],c.nodeType==i.ELEMENT_NODE&&(n(c),n(c.getElementsByTagName("*")),c.outerHTML=b);else c=a.create(b,0,c.ownerDocument,0),a.insertBefore(c,j,l),a.remove(j);return g},remove:function(c,e){var d,m=a.query(c),v,l,j=b.require("event/dom/base"),g;for(g=m.length-1;0<=
g;g--)d=m[g],!e&&d.nodeType==i.ELEMENT_NODE&&(v=b.makeArray(d.getElementsByTagName("*")),v.push(d),a.removeData(v),j&&j.detach(v)),(l=d.parentNode)&&l.removeChild(d)},clone:function(c,e,d,b){"object"===typeof e&&(b=e.deepWithDataAndEvent,d=e.withDataAndEvent,e=e.deep);var c=a.get(c),m,l=a._fixCloneAttributes,j;if(!c)return null;j=c.nodeType;m=c.cloneNode(e);if(j==i.ELEMENT_NODE||j==i.DOCUMENT_FRAGMENT_NODE)l&&j==i.ELEMENT_NODE&&l(c,m),e&&l&&p(l,c,m);d&&(s(c,m),e&&b&&p(s,c,m));return m},empty:function(c){var c=
a.query(c),e,d;for(d=c.length-1;0<=d;d--)e=c[d],a.remove(e.childNodes)},_nodeListToFragment:h});var c=a._creators,E=a.create,A={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},C;for(C in A)(function(a){c[C]=function(c,e){return E("<"+a+">"+c+"</"+a+">",null,e)}})(A[C]);return a},{requires:["./api"]});
KISSY.add("dom/base/data",function(b,a,g){var n=b.Env.host,k="_ks_data_"+b.now(),p={},s={},h={applet:1,object:1,embed:1},f={hasData:function(a,d){if(a)if(d!==g){if(d in a)return!0}else if(!b.isEmptyObject(a))return!0;return!1}},i={hasData:function(a,d){return a==n?i.hasData(s,d):f.hasData(a[k],d)},data:function(a,d,b){if(a==n)return i.data(s,d,b);var f=a[k];if(b!==g)f=a[k]=a[k]||{},f[d]=b;else return d!==g?f&&f[d]:f=a[k]=a[k]||{}},removeData:function(a,d){if(a==n)return i.removeData(s,d);var j=a[k];
if(d!==g)delete j[d],b.isEmptyObject(j)&&i.removeData(a);else try{delete a[k]}catch(f){a[k]=g}}},t={hasData:function(a,d){var b=a[k];return!b?!1:f.hasData(p[b],d)},data:function(a,d,j){if(h[a.nodeName.toLowerCase()])return g;var f=a[k];if(!f){if(d!==g&&j===g)return g;f=a[k]=b.guid()}a=p[f];if(j!==g)a=p[f]=p[f]||{},a[d]=j;else return d!==g?a&&a[d]:a=p[f]=p[f]||{}},removeData:function(a,d){var j=a[k],f;if(j)if(f=p[j],d!==g)delete f[d],b.isEmptyObject(f)&&t.removeData(a);else{delete p[j];try{delete a[k]}catch(h){a[k]=
g}a.removeAttribute&&a.removeAttribute(k)}}};b.mix(a,{__EXPANDO:k,hasData:function(e,d){for(var b=!1,f=a.query(e),g=0;g<f.length&&!(b=f[g],b=b.nodeType?t.hasData(b,d):i.hasData(b,d));g++);return b},data:function(e,d,f){var e=a.query(e),h=e[0];if(b.isPlainObject(d)){for(var o in d)a.data(e,o,d[o]);return g}if(f===g){if(h)return h.nodeType?t.data(h,d):i.data(h,d)}else for(o=e.length-1;0<=o;o--)h=e[o],h.nodeType?t.data(h,d,f):i.data(h,d,f);return g},removeData:function(e,d){var b=a.query(e),f,g;for(g=
b.length-1;0<=g;g--)f=b[g],f.nodeType?t.removeData(f,d):i.removeData(f,d)}});return a},{requires:["./api"]});
KISSY.add("dom/base/insertion",function(b,a){function g(a,d){var b=[],k,o,n;for(k=0;a[k];k++)if(o=a[k],n=h(o),o.nodeType==p.DOCUMENT_FRAGMENT_NODE)b.push.apply(b,g(f(o.childNodes),d));else if("script"===n&&(!o.type||t.test(o.type)))o.parentNode&&o.parentNode.removeChild(o),d&&d.push(o);else{if(o.nodeType==p.ELEMENT_NODE&&!s.test(n)){n=[];var r,u,m=o.getElementsByTagName("script");for(u=0;u<m.length;u++)r=m[u],(!r.type||t.test(r.type))&&n.push(r);i.apply(a,[k+1,0].concat(n))}b.push(o)}return b}function n(a){a.src?
b.getScript(a.src):(a=b.trim(a.text||a.textContent||a.innerHTML||""))&&b.globalEval(a)}function k(e,d,f,h){e=a.query(e);h&&(h=[]);e=g(e,h);a._fixInsertionChecked&&a._fixInsertionChecked(e);var d=a.query(d),i,k,r,u,m=d.length;if((e.length||h&&h.length)&&m){e=a._nodeListToFragment(e);1<m&&(u=a.clone(e,!0),d=b.makeArray(d));for(i=0;i<m;i++)k=d[i],e&&(r=0<i?a.clone(u,!0):e,f(r,k)),h&&h.length&&b.each(h,n)}}var p=a.NodeType,s=/^(?:button|input|object|select|textarea)$/i,h=a.nodeName,f=b.makeArray,i=[].splice,
t=/\/(java|ecma)script/i;b.mix(a,{_fixInsertionChecked:null,insertBefore:function(a,d,b){k(a,d,function(a,d){d.parentNode&&d.parentNode.insertBefore(a,d)},b)},insertAfter:function(a,d,b){k(a,d,function(a,d){d.parentNode&&d.parentNode.insertBefore(a,d.nextSibling)},b)},appendTo:function(a,d,b){k(a,d,function(a,d){d.appendChild(a)},b)},prependTo:function(a,d,b){k(a,d,function(a,d){d.insertBefore(a,d.firstChild)},b)},wrapAll:function(b,d){d=a.clone(a.get(d),!0);b=a.query(b);b[0].parentNode&&a.insertBefore(d,
b[0]);for(var f;(f=d.firstChild)&&1==f.nodeType;)d=f;a.appendTo(b,d)},wrap:function(e,d){e=a.query(e);d=a.get(d);b.each(e,function(b){a.wrapAll(b,d)})},wrapInner:function(e,d){e=a.query(e);d=a.get(d);b.each(e,function(b){var e=b.childNodes;e.length?a.wrapAll(e,d):b.appendChild(d)})},unwrap:function(e){e=a.query(e);b.each(e,function(b){b=b.parentNode;a.replaceWith(b,b.childNodes)})},replaceWith:function(b,d){var f=a.query(b),d=a.query(d);a.remove(d,!0);a.insertBefore(d,f);a.remove(f)}});b.each({prepend:"prependTo",
append:"appendTo",before:"insertBefore",after:"insertAfter"},function(b,d){a[d]=a[b]});return a},{requires:["./api"]});
KISSY.add("dom/base/offset",function(b,a,g){function n(a){var b,c=a.ownerDocument.body;if(!a.getBoundingClientRect)return{left:0,top:0};b=a.getBoundingClientRect();a=b[w];b=b[o];a-=i.clientLeft||c.clientLeft||0;b-=i.clientTop||c.clientTop||0;return{left:a,top:b}}function k(b,e){var c={left:0,top:0},f=t(b[j]),g,h=b,e=e||f;do{if(f==e){var i=h;g=n(i);i=t(i[j]);g.left+=a[r](i);g.top+=a[u](i)}else g=n(h);c.left+=g.left;c.top+=g.top}while(f&&f!=e&&(h=f.frameElement)&&(f=f.parent));c.left=d(c.left);c.top=
d(c.top);return c}var p=b.Env.host,s=b.UA,h=p.document,f=a.NodeType,i=h&&h.documentElement,t=a.getWindow,e=Math.max,d=parseInt,j="ownerDocument",w="left",o="top",y=b.isNumber,r="scrollLeft",u="scrollTop";b.mix(a,{offset:function(b,e,c){if(e===g){var b=a.get(b),f;b&&(f=k(b,c));return f}c=a.query(b);for(f=c.length-1;0<=f;f--){var b=c[f],h=e;"static"===a.css(b,"position")&&(b.style.position="relative");var i=k(b),j={},r=void 0,u=void 0;for(u in h)r=d(a.css(b,u),10)||0,j[u]=d(r+h[u]-i[u]);a.css(b,j)}return g},
scrollIntoView:function(e,l,c,h){var i,j,r,k;if(r=a.get(e)){l&&(l=a.get(l));l||(l=r.ownerDocument);l.nodeType==f.DOCUMENT_NODE&&(l=t(l));b.isPlainObject(c)&&(h=c.allowHorizontalScroll,k=c.onlyScrollIfNeeded,c=c.alignWithTop);h=h===g?!0:h;j=!!t(l);var e=a.offset(r),u=a.outerHeight(r);i=a.outerWidth(r);var n,v,B,x;j?(j=l,n=a.height(j),v=a.width(j),x={left:a.scrollLeft(j),top:a.scrollTop(j)},j=e[w]-x[w],r=e[o]-x[o],i=e[w]+i-(x[w]+v),e=e[o]+u-(x[o]+n)):(n=a.offset(l),v=l.clientHeight,B=l.clientWidth,
x={left:a.scrollLeft(l),top:a.scrollTop(l)},j=e[w]-(n[w]+(d(a.css(l,"borderLeftWidth"))||0)),r=e[o]-(n[o]+(d(a.css(l,"borderTopWidth"))||0)),i=e[w]+i-(n[w]+B+(d(a.css(l,"borderRightWidth"))||0)),e=e[o]+u-(n[o]+v+(d(a.css(l,"borderBottomWidth"))||0)));if(k){if(0>r||0<e)!0===c?a.scrollTop(l,x.top+r):!1===c?a.scrollTop(l,x.top+e):0>r?a.scrollTop(l,x.top+r):a.scrollTop(l,x.top+e)}else(c=c===g?!0:!!c)?a.scrollTop(l,x.top+r):a.scrollTop(l,x.top+e);if(h)if(k){if(0>j||0<i)!0===c?a.scrollLeft(l,x.left+j):
!1===c?a.scrollLeft(l,x.left+i):0>j?a.scrollLeft(l,x.left+j):a.scrollLeft(l,x.left+i)}else(c=c===g?!0:!!c)?a.scrollLeft(l,x.left+j):a.scrollLeft(l,x.left+i)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});b.each(["Left","Top"],function(b,d){var c="scroll"+b;a[c]=function(e,h){if(y(e))return arguments.callee(p,e);var e=a.get(e),i,j,r,k=t(e);k?h!==g?(h=parseFloat(h),j="Left"==b?h:a.scrollLeft(k),r="Top"==b?h:a.scrollTop(k),k.scrollTo(j,r)):(i=k["page"+(d?"Y":"X")+
"Offset"],y(i)||(j=k.document,i=j.documentElement[c],y(i)||(i=j.body[c]))):e.nodeType==f.ELEMENT_NODE&&(h!==g?e[c]=parseFloat(h):i=e[c]);return i}});b.each(["Width","Height"],function(b){a["doc"+b]=function(d){d=a.get(d);d=t(d).document;return e(d.documentElement["scroll"+b],d.body["scroll"+b],a["viewport"+b](d))};a["viewport"+b]=function(d){var d=a.get(d),c=t(d),d=c["inner"+b];if(s.mobile&&d)return d;var d="client"+b,c=c.document,e=c.body,f=c.documentElement[d];return"CSS1Compat"===c.compatMode&&
f||e&&e[d]||f}});return a},{requires:["./api"]});
KISSY.add("dom/base/style",function(b,a,g){function n(a,c){return c.toUpperCase()}function k(a){return a.replace(u,"ms-").replace(z,n)}function p(a,c,b){var d={},e;for(e in c)d[e]=a[j][e],a[j][e]=c[e];b.call(a);for(e in c)a[j][e]=d[e]}function s(a,b,d){var e,f,h;if(3===a.nodeType||8===a.nodeType||!(e=a[j]))return g;b=k(b);h=A[b];b=C[b]||b;if(d!==g){null===d||d===l?d=l:!isNaN(Number(d))&&!r[b]&&(d+=c);h&&h.set&&(d=h.set(a,d));if(d!==g){try{e[b]=d}catch(i){}d===l&&e.removeAttribute&&e.removeAttribute(b)}e.cssText||
a.removeAttribute("style");return g}if(!h||!("get"in h&&(f=h.get(a,!1))!==g))f=e[b];return f===g?"":f}function h(a){var b,c=arguments;0!==a.offsetWidth?b=f.apply(g,c):p(a,G,function(){b=f.apply(g,c)});return b}function f(c,d,e){if(b.isWindow(c))return d==o?a.viewportWidth(c):a.viewportHeight(c);if(9==c.nodeType)return d==o?a.docWidth(c):a.docHeight(c);var f=d===o?["Left","Right"]:["Top","Bottom"],h=d===o?c.offsetWidth:c.offsetHeight;if(0<h)return"border"!==e&&b.each(f,function(b){e||(h-=parseFloat(a.css(c,
"padding"+b))||0);h="margin"===e?h+(parseFloat(a.css(c,e+b))||0):h-(parseFloat(a.css(c,"border"+b+"Width"))||0)}),h;h=a._getComputedStyle(c,d);if(null==h||0>Number(h))h=c.style[d]||0;h=parseFloat(h)||0;e&&b.each(f,function(b){h+=parseFloat(a.css(c,"padding"+b))||0;"padding"!==e&&(h+=parseFloat(a.css(c,"border"+b+"Width"))||0);"margin"===e&&(h+=parseFloat(a.css(c,e+b))||0)});return h}var i=b.Env.host,t=b.UA,e=a.nodeName,d=i.document,j="style",w=/^margin/,o="width",y="display"+b.now(),r={fillOpacity:1,
fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},u=/^-ms-/,m=/([A-Z]|^ms)/g,l="",c="px",E=/\d(?!px)[a-z%]+$/i,A={},C={"float":"cssFloat"},q={},z=/-([a-z])/ig;b.mix(a,{_camelCase:k,_CUSTOM_STYLES:A,_cssProps:C,_getComputedStyle:function(c,b){var d="",e,f,h,g,i;f=c.ownerDocument;b=b.replace(m,"-$1").toLowerCase();if(e=f.defaultView.getComputedStyle(c,null))d=e.getPropertyValue(b)||e[b];""===d&&!a.contains(f,c)&&(b=C[b]||b,d=c[j][b]);a._RE_NUM_NO_PX.test(d)&&w.test(b)&&(i=c.style,
f=i.width,h=i.minWidth,g=i.maxWidth,i.minWidth=i.maxWidth=i.width=d,d=e.width,i.width=f,i.minWidth=h,i.maxWidth=g);return d},style:function(c,d,e){var c=a.query(c),f,h=c[0];if(b.isPlainObject(d)){for(f in d)for(h=c.length-1;0<=h;h--)s(c[h],f,d[f]);return g}if(e===g)return f="",h&&(f=s(h,d,e)),f;for(h=c.length-1;0<=h;h--)s(c[h],d,e);return g},css:function(c,d,e){var c=a.query(c),f=c[0],h;if(b.isPlainObject(d)){for(h in d)for(f=c.length-1;0<=f;f--)s(c[f],h,d[h]);return g}d=k(d);h=A[d];if(e===g){e="";
if(f&&(!h||!("get"in h&&(e=h.get(f,!0))!==g)))e=a._getComputedStyle(f,d);return"undefined"==typeof e?"":e}for(f=c.length-1;0<=f;f--)s(c[f],d,e);return g},show:function(c){var c=a.query(c),b,e,f;for(f=c.length-1;0<=f;f--)if(e=c[f],e[j].display=a.data(e,y)||l,"none"===a.css(e,"display")){b=e.tagName.toLowerCase();var h=void 0,i=q[b],g=void 0;q[b]||(h=d.body||d.documentElement,g=d.createElement(b),a.prepend(g,h),i=a.css(g,"display"),h.removeChild(g),q[b]=i);b=i;a.data(e,y,b);e[j].display=b}},hide:function(c){var c=
a.query(c),b,d;for(d=c.length-1;0<=d;d--){b=c[d];var e=b[j],f=e.display;"none"!==f&&(f&&a.data(b,y,f),e.display="none")}},toggle:function(c){var c=a.query(c),b,d;for(d=c.length-1;0<=d;d--)b=c[d],"none"===a.css(b,"display")?a.show(b):a.hide(b)},addStyleSheet:function(c,b,d){c=c||i;"string"==typeof c&&(d=b,b=c,c=i);var c=a.get(c),c=a.getWindow(c).document,e;if(d&&(d=d.replace("#",l)))e=a.get("#"+d,c);e||(e=a.create("<style>",{id:d},c),a.get("head",c).appendChild(e),e.styleSheet?e.styleSheet.cssText=
b:e.appendChild(c.createTextNode(b)))},unselectable:function(c){var c=a.query(c),d,f,h=0,i,g;for(f=c.length-1;0<=f;f--)if(d=c[f],g=d[j],g.UserSelect="none",t.gecko)g.MozUserSelect="none";else if(t.webkit)g.WebkitUserSelect="none";else if(t.ie||t.opera){g=d.getElementsByTagName("*");d.setAttribute("unselectable","on");for(i=["iframe","textarea","input","select"];d=g[h++];)b.inArray(e(d),i)||d.setAttribute("unselectable","on")}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});
b.each([o,"height"],function(c){a["inner"+b.ucfirst(c)]=function(b){return(b=a.get(b))&&h(b,c,"padding")};a["outer"+b.ucfirst(c)]=function(b,d){var e=a.get(b);return e&&h(e,c,d?"margin":"border")};a[c]=function(b,d){var e=a.css(b,c,d);e&&(e=parseFloat(e));return e};A[c]={get:function(a,b){var d;b&&(d=h(a,c)+"px");return d}}});var G={position:"absolute",visibility:"hidden",display:"block"};b.each(["left","top"],function(c){A[c]={get:function(b,e){var f,h,g;if(e){g=a.css(b,"position");if("static"===
g)return"auto";f=a._getComputedStyle(b,c);if((h="auto"===f)&&"relative"===g)return"0px";if(h||E.test(f)){g={top:0,left:0};if("fixed"==a.css(b,"position"))h=b.getBoundingClientRect();else{for(f=b.offsetParent||(b.ownerDocument||d).body;f&&!H.test(f.nodeName)&&"static"===a.css(f,"position");)f=f.offsetParent;h=a.offset(b);g=a.offset(f);g.top+=parseFloat(a.css(f,"borderTopWidth"))||0;g.left+=parseFloat(a.css(f,"borderLeftWidth"))||0}h.top-=parseFloat(a.css(b,"marginTop"))||0;h.left-=parseFloat(a.css(b,
"marginLeft"))||0;f={top:h.top-g.top,left:h.left-g.left}[c]+"px"}}return f}}});var H=/^(?:body|html)$/i;return a},{requires:["./api"]});
KISSY.add("dom/base/selector",function(b,a){function g(a){var b=this.length,d;for(d=0;d<b&&!1!==a(this[d],d);d++);}function n(b,f){var i,l;i="string"==typeof b;var c=f?n(f):(l=1)&&[h],j=c.length;if(b)if(i)if(b=y(b),l&&"body"==b)i=[h.body];else{i=[];for(l=0;l<j;l++)w.apply(i,a._selectInternal(b,c[l]));1<i.length&&1<j&&a.unique(i)}else{if(i=b.nodeType||b.setTimeout?[b]:b.getDOMNodes?b.getDOMNodes():t(b)?b:d(b)?e(b):[b],!l){var k=i,o,q=k.length;i=[];for(l=0;l<q;l++)for(o=0;o<j;o++)if(a._contains(c[o],
k[l])){i.push(k[l]);break}}}else i=[];i.each=g;return i}function k(a,b){var d=a&&(a.className||p(a,"class"));return d&&-1<(j+d+j).indexOf(j+b+j)}function p(a,b){var d=a&&a.getAttributeNode(b);if(d&&d.specified)return d.nodeValue}function s(a,b){return"*"==b||a.nodeName.toLowerCase()===b.toLowerCase()}var h=b.Env.host.document,f=h.documentElement,i=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector,t=b.isArray,e=b.makeArray,d=a._isNodeList,j=" ",w=Array.prototype.push,
o=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,y=b.trim;b.mix(a,{_compareNodeOrder:function(a,b){return!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1},_getSimpleAttr:p,_isTag:s,_hasSingleClass:k,_matchesInternal:function(a,b){for(var d=[],e=0,c,f=b.length;e<f;e++)c=b[e],i.call(c,a)&&d.push(c);return d},_selectInternal:function(a,b){return e(b.querySelectorAll(a))},query:n,get:function(a,b){return n(a,b)[0]||null},unique:function(){function b(e,
c){return e==c?(d=!0,0):a._compareNodeOrder(e,c)}var d,e=!0;[0,0].sort(function(){e=!1;return 0});return function(a){d=e;a.sort(b);if(d)for(var c=1,f=a.length;c<f;)a[c]===a[c-1]?(a.splice(c,1),--f):c++;return a}}(),filter:function(d,e,f){var d=n(d,f),h,c,i,g,f=[];if("string"==typeof e&&(e=y(e))&&(i=o.exec(e)))h=i[1],c=i[2],g=i[3],h?h&&!c&&!g&&(e=function(a){return p(a,"id")==h}):e=function(a){var b=!0,d=!0;c&&(b=s(a,c));g&&(d=k(a,g));return d&&b};return f=b.isFunction(e)?b.filter(d,e):a._matchesInternal(e,
d)},test:function(b,d,e){b=n(b,e);return b.length&&a.filter(b,d,e).length===b.length}});return a},{requires:["./api"]});
KISSY.add("dom/base/traversal",function(b,a,g){function n(h,f,i,n,e,d,j){if(!(h=a.get(h)))return null;if(0===f)return h;d||(h=h[i]);if(!h)return null;e=e&&a.get(e)||null;f===g&&(f=1);var d=[],p=b.isArray(f),o,y;b.isNumber(f)&&(o=0,y=f,f=function(){return++o===y});for(;h&&h!=e;){if((h.nodeType==s.ELEMENT_NODE||h.nodeType==s.TEXT_NODE&&j)&&k(h,f)&&(!n||n(h)))if(d.push(h),!p)break;h=h[i]}return p?d:d[0]||null}function k(h,f){if(!f)return!0;if(b.isArray(f)){var i,g=f.length;if(!g)return!0;for(i=0;i<g;i++)if(a.test(h,
f[i]))return!0}else if(a.test(h,f))return!0;return!1}function p(h,f,g,k){var e=[],d,j;if((d=h=a.get(h))&&g)d=h.parentNode;if(d){g=b.makeArray(d.childNodes);for(d=0;d<g.length;d++)j=g[d],(k||j.nodeType==s.ELEMENT_NODE)&&j!=h&&e.push(j);f&&(e=a.filter(e,f))}return e}var s=a.NodeType;b.mix(a,{_contains:function(a,b){return!!(a.compareDocumentPosition(b)&16)},closest:function(a,b,g,k){return n(a,b,"parentNode",function(a){return a.nodeType!=s.DOCUMENT_FRAGMENT_NODE},g,!0,k)},parent:function(a,b,i){return n(a,
b,"parentNode",function(a){return a.nodeType!=s.DOCUMENT_FRAGMENT_NODE},i,g)},first:function(b,f,i){b=a.get(b);return n(b&&b.firstChild,f,"nextSibling",g,g,!0,i)},last:function(b,f,i){b=a.get(b);return n(b&&b.lastChild,f,"previousSibling",g,g,!0,i)},next:function(a,b,i){return n(a,b,"nextSibling",g,g,g,i)},prev:function(a,b,i){return n(a,b,"previousSibling",g,g,g,i)},siblings:function(a,b,g){return p(a,b,!0,g)},children:function(a,b){return p(a,b,g)},contents:function(a,b){return p(a,b,g,1)},contains:function(b,
f){b=a.get(b);f=a.get(f);return b&&f?a._contains(b,f):!1},index:function(h,f){var g=a.query(h),k,e=0;k=g[0];if(!f){g=k&&k.parentNode;if(!g)return-1;for(;k=k.previousSibling;)k.nodeType==s.ELEMENT_NODE&&e++;return e}e=a.query(f);return"string"===typeof f?b.indexOf(k,e):b.indexOf(e[0],g)},equals:function(b,f){b=a.query(b);f=a.query(f);if(b.length!=f.length)return!1;for(var g=b.length;0<=g;g--)if(b[g]!=f[g])return!1;return!0}});return a},{requires:["./api"]});
KISSY.add("dom/base",function(b,a){b.mix(b,{DOM:a,get:a.get,query:a.query});return a},{requires:"./base/api,./base/attr,./base/class,./base/create,./base/data,./base/insertion,./base/offset,./base/style,./base/selector,./base/traversal".split(",")});
