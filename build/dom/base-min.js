/*
Copyright 2013, KISSY UI Library v1.40dev
MIT Licensed
build time: May 28 17:44
*/
KISSY.add("dom/base/api",function(c){var a=c.Env.host,i=c.UA,m={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},k={isCustomDomain:function(c){var c=c||a,i=c.document.domain,c=c.location.hostname;return i!=c&&i!="["+c+"]"},getEmptyIframeSrc:function(c){c=c||a;return i.ie&&k.isCustomDomain(c)?"javascript:void(function(){"+
encodeURIComponent("document.open();document.domain='"+c.document.domain+"';document.close();")+"}())":""},NodeType:m,getWindow:function(c){return!c?a:"scrollTo"in c&&c.document?c:c.nodeType==m.DOCUMENT_NODE?c.defaultView||c.parentWindow:!1},_isNodeList:function(a){return a&&!a.nodeType&&a.item&&!a.setTimeout},nodeName:function(a){var c=k.get(a),a=c.nodeName.toLowerCase();i.ie&&(c=c.scopeName)&&"HTML"!=c&&(a=c.toLowerCase()+":"+a);return a},_RE_NUM_NO_PX:RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+
")(?!px)[a-z%]+$","i")};c.mix(k,m);return k});
KISSY.add("dom/base/attr",function(c,a,i){function m(a,q){var q=o[q]||q,e=t[q];return e&&e.get?e.get(a,q):a[q]}var k=c.Env.host.document,n=a.NodeType,k=k&&k.documentElement,s=a.nodeName,g=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:button|input|object|select|textarea)$/i,h=/^a(?:rea)?$/i,u=/:|^on/,e=/\r/g,b={},j={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1,scrollTop:1,scrollLeft:1},w={tabindex:{get:function(a){var e=
a.getAttributeNode("tabindex");return e&&e.specified?parseInt(e.value,10):f.test(a.nodeName)||h.test(a.nodeName)&&a.href?0:i}}},o={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},y={get:function(e,q){return a.prop(e,q)?q.toLowerCase():i},set:function(e,q,b){!1===q?
a.removeAttr(e,b):(q=o[b]||b,q in e&&(e[q]=!0),e.setAttribute(b,b.toLowerCase()));return b}},t={},l={},d={select:{get:function(e){var q=e.selectedIndex,b=e.options,d;if(0>q)return null;if("select-one"===""+e.type)return a.val(b[q]);e=[];q=0;for(d=b.length;q<d;++q)b[q].selected&&e.push(a.val(b[q]));return e},set:function(e,q){var b=c.makeArray(q);c.each(e.options,function(e){e.selected=c.inArray(a.val(e),b)});b.length||(e.selectedIndex=-1);return b}}};c.each(["radio","checkbox"],function(e){d[e]={get:function(a){return null===
a.getAttribute("value")?"on":a.value},set:function(e,b){return c.isArray(b)?e.checked=c.inArray(a.val(e),b):i}}});w.style={get:function(a){return a.style.cssText}};c.mix(a,{_valHooks:d,_propFix:o,_attrHooks:w,_propHooks:t,_attrNodeHook:l,_attrFix:b,prop:function(e,b,d){var l=a.query(e),j,p;if(c.isPlainObject(b))return c.each(b,function(e,b){a.prop(l,b,e)}),i;b=o[b]||b;p=t[b];if(d!==i)for(e=l.length-1;0<=e;e--)j=l[e],p&&p.set?p.set(j,d,b):j[b]=d;else if(l.length)return m(l[0],b);return i},hasProp:function(e,
b){var d=a.query(e),c,l=d.length,p;for(c=0;c<l;c++)if(p=d[c],m(p,b)!==i)return!0;return!1},removeProp:function(e,b){var b=o[b]||b,d=a.query(e),c,l;for(c=d.length-1;0<=c;c--){l=d[c];try{l[b]=i,delete l[b]}catch(p){}}},attr:function(e,d,f,h){var z=a.query(e),p=z[0];if(c.isPlainObject(d)){var h=f,x;for(x in d)a.attr(z,x,d[x],h);return i}if(h&&j[d])return a[d](e,f);d=d.toLowerCase();if(h&&j[d])return a[d](e,f);d=b[d]||d;e=g.test(d)?y:u.test(d)?l:w[d];if(f===i){if(p&&p.nodeType===n.ELEMENT_NODE){"form"==
s(p)&&(e=l);if(e&&e.get)return e.get(p,d);f=p.getAttribute(d);return""===f&&(d=p.getAttributeNode(d),!d||!d.specified)?i:null===f?i:f}}else for(h=z.length-1;0<=h;h--)if((p=z[h])&&p.nodeType===n.ELEMENT_NODE)"form"==s(p)&&(e=l),e&&e.set?e.set(p,f,d):p.setAttribute(d,""+f);return i},removeAttr:function(e,d){var d=d.toLowerCase(),d=b[d]||d,c=a.query(e),l,j,p;for(p=c.length-1;0<=p;p--)if(j=c[p],j.nodeType==n.ELEMENT_NODE&&(j.removeAttribute(d),g.test(d)&&(l=o[d]||d)in j))j[l]=!1},hasAttr:k&&!k.hasAttribute?
function(e,d){var d=d.toLowerCase(),b=a.query(e),c,l;for(c=0;c<b.length;c++)if(l=b[c],(l=l.getAttributeNode(d))&&l.specified)return!0;return!1}:function(e,d){var b=a.query(e),c,l=b.length;for(c=0;c<l;c++)if(b[c].hasAttribute(d))return!0;return!1},val:function(b,l){var j,f,h,p,x;if(l===i){if(h=a.get(b)){if((j=d[s(h)]||d[h.type])&&"get"in j&&(f=j.get(h,"value"))!==i)return f;f=h.value;return"string"===typeof f?f.replace(e,""):null==f?"":f}return i}f=a.query(b);for(p=f.length-1;0<=p;p--){h=f[p];if(1!==
h.nodeType)break;x=l;null==x?x="":"number"===typeof x?x+="":c.isArray(x)&&(x=c.map(x,function(a){return a==null?"":a+""}));j=d[s(h)]||d[h.type];if(!j||!("set"in j)||j.set(h,x,"value")===i)h.value=x}return i},text:function(e,d){var b,c,l,p;if(d===i)return b=a.get(e),a._getText(b);c=a.query(e);for(l=c.length-1;0<=l;l--)if(b=c[l],p=b.nodeType,p==n.ELEMENT_NODE)a.empty(b),b.appendChild(b.ownerDocument.createTextNode(d));else if(p==n.TEXT_NODE||p==n.CDATA_SECTION_NODE)b.nodeValue=d;return i},_getText:function(a){return a.textContent}});
return a},{requires:["./api"]});KISSY.add("dom/base",function(c,a){c.mix(c,{DOM:a,get:a.get,query:a.query});return a},{requires:"./base/api,./base/attr,./base/class,./base/create,./base/data,./base/insertion,./base/offset,./base/style,./base/selector,./base/traversal".split(",")});
KISSY.add("dom/base/class",function(c,a){function i(a){for(var a=c.trim(a||""),a=a.split(g),h=[],i,e=a.length,b=0;b<e;b++)(i=a[b])&&h.push(i);return h}function m(a){return function(c,i){var e,b,j,w=c.classList,g=n.call(arguments,2);e=0;for(b=i.length;e<b;e++)(j=i[e])&&w[a].apply(w,[j].concat(g))}}function k(c){return function(h,g){var e=i(g),b=n.call(arguments,2);a.query(h).each(function(j){j.nodeType==s.ELEMENT_NODE&&a[c].apply(a,[j,e].concat(b))})}}var n=[].slice,s=a.NodeType,g=/[\.\s]\s*\.?/;c.mix(a,
{_hasClass:function(a,c){var i,e,b,j=a.classList;if(j.length){i=0;for(e=c.length;i<e;i++)if((b=c[i])&&!j.contains(b))return!1;return!0}return!1},_addClass:m("add"),_removeClass:m("remove"),_toggleClass:m("toggle"),hasClass:function(c,h){var g=a.get(c);return g&&g.nodeType==s.ELEMENT_NODE&&a._hasClass(g,i(h))},replaceClass:function(c,i,g){a.removeClass(c,i);a.addClass(c,g)},addClass:k("_addClass"),removeClass:k("_removeClass"),toggleClass:k("_toggleClass")});return a},{requires:["./api"]});
KISSY.add("dom/base/create",function(c,a,i){function m(e){var b=c.require("event/dom/base");b&&b.detach(e);a.removeData(e)}function k(a,d){var c=d&&d!=f?d.createElement(e):b;c.innerHTML="m<div>"+a+"</div>";return c.lastChild}function n(a,e,b){var d=e.nodeType;if(d==h.DOCUMENT_FRAGMENT_NODE){e=e.childNodes;b=b.childNodes;for(d=0;e[d];)b[d]&&n(a,e[d],b[d]),d++}else if(d==h.ELEMENT_NODE){e=e.getElementsByTagName("*");b=b.getElementsByTagName("*");for(d=0;e[d];)b[d]&&a(e[d],b[d]),d++}}function s(e,d){var b=
c.require("event/dom"),l,v;if(d.nodeType!=h.ELEMENT_NODE||a.hasData(e)){l=a.data(e);for(v in l)a.data(d,v,l[v]);b&&(b._DOMUtils.removeData(d),b._clone(e,d))}}function g(a){var e=null,d,b;if(a&&(a.push||a.item)&&a[0]){e=a[0].ownerDocument;e=e.createDocumentFragment();a=c.makeArray(a);d=0;for(b=a.length;d<b;d++)e.appendChild(a[d])}return e}var f=c.Env.host.document,h=a.NodeType,u=c.UA.ie,e="div",b=f&&f.createElement(e),j=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,w=/<([\w:]+)/,
o=/^\s+/,y=/\s+$/,t=u&&9>u,l=/<|&#?\w+;/,d=f&&"outerHTML"in f.documentElement,C=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;c.mix(a,{create:function(d,b,q,A){var v=null;if(!d)return v;if(d.nodeType)return a.clone(d);if("string"!=typeof d)return v;A===i&&(A=!0);A&&(d=c.trim(d));var A=a._creators,r,D,q=q||f,E,F=e;if(l.test(d))if(E=C.exec(d))v=q.createElement(E[1]);else{d=d.replace(j,"<$1></$2>");if((E=w.exec(d))&&(r=E[1]))F=r.toLowerCase();r=(A[F]||k)(d,q);t&&(D=d.match(o))&&r.insertBefore(q.createTextNode(D[0]),
r.firstChild);t&&/\S/.test(d)&&(D=d.match(y))&&r.appendChild(q.createTextNode(D[0]));d=r.childNodes;1===d.length?v=d[0].parentNode.removeChild(d[0]):d.length&&(v=g(d))}else v=q.createTextNode(d);c.isPlainObject(b)&&(v.nodeType==h.ELEMENT_NODE?a.attr(v,b,!0):v.nodeType==h.DOCUMENT_FRAGMENT_NODE&&a.attr(v.childNodes,b,!0));return v},_fixCloneAttributes:function(e,d){"textarea"===a.nodeName(e)&&(d.defaultValue=e.defaultValue,d.value=e.value)},_creators:{div:k},_defaultCreator:k,html:function(e,d,b){var e=
a.query(e),c=e[0],l=!1,r,j;if(!c)return null;if(d===i)return c.nodeType==h.ELEMENT_NODE?c.innerHTML:null;d+="";if(!d.match(/<(?:script|style|link)/i)&&(!t||!d.match(o))&&!B[(d.match(w)||["",""])[1].toLowerCase()])try{for(r=e.length-1;0<=r;r--)j=e[r],j.nodeType==h.ELEMENT_NODE&&(m(j.getElementsByTagName("*")),j.innerHTML=d);l=!0}catch(f){}l||(d=a.create(d,0,c.ownerDocument,0),a.empty(e),a.append(d,e,b));return i},outerHTML:function(c,l,j){var g=a.query(c),v=g.length,c=g[0];if(!c)return null;if(l===
i){if(d)return c.outerHTML;l=(l=c.ownerDocument)&&l!=f?l.createElement(e):b;l.innerHTML="";l.appendChild(a.clone(c,!0));l.appendChild(a.clone(c,!0));return l.innerHTML}l+="";if(!l.match(/<(?:script|style|link)/i)&&d)for(j=v-1;0<=j;j--)c=g[j],c.nodeType==h.ELEMENT_NODE&&(m(c),m(c.getElementsByTagName("*")),c.outerHTML=l);else c=a.create(l,0,c.ownerDocument,0),a.insertBefore(c,g,j),a.remove(g);return i},remove:function(e,d){var b,l=a.query(e),v,r,j=c.require("event/dom/base"),i;for(i=l.length-1;0<=
i;i--)b=l[i],!d&&b.nodeType==h.ELEMENT_NODE&&(v=c.makeArray(b.getElementsByTagName("*")),v.push(b),a.removeData(v),j&&j.detach(v)),(r=b.parentNode)&&r.removeChild(b)},clone:function(e,d,b,c){"object"===typeof d&&(c=d.deepWithDataAndEvent,b=d.withDataAndEvent,d=d.deep);var e=a.get(e),l,r=a._fixCloneAttributes,j;if(!e)return null;j=e.nodeType;l=e.cloneNode(d);if(j==h.ELEMENT_NODE||j==h.DOCUMENT_FRAGMENT_NODE)r&&j==h.ELEMENT_NODE&&r(e,l),d&&r&&n(r,e,l);b&&(s(e,l),d&&c&&n(s,e,l));return l},empty:function(e){var e=
a.query(e),d,b;for(b=e.length-1;0<=b;b--)d=e[b],a.remove(d.childNodes)},_nodeListToFragment:g});var q=a._creators,A=a.create,B={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},z;for(z in B)(function(a){q[z]=function(e,d){return A("<"+a+">"+e+"</"+a+">",null,d)}})(B[z]);return a},{requires:["./api"]});
KISSY.add("dom/base/data",function(c,a,i){var m=c.Env.host,k="_ks_data_"+c.now(),n={},s={},g={applet:1,object:1,embed:1},f={hasData:function(a,b){if(a)if(b!==i){if(b in a)return!0}else if(!c.isEmptyObject(a))return!0;return!1}},h={hasData:function(a,b){return a==m?h.hasData(s,b):f.hasData(a[k],b)},data:function(a,b,c){if(a==m)return h.data(s,b,c);var g=a[k];if(c!==i)g=a[k]=a[k]||{},g[b]=c;else return b!==i?g&&g[b]:g=a[k]=a[k]||{}},removeData:function(a,b){if(a==m)return h.removeData(s,b);var j=a[k];
if(b!==i)delete j[b],c.isEmptyObject(j)&&h.removeData(a);else try{delete a[k]}catch(g){a[k]=i}}},u={hasData:function(a,b){var c=a[k];return!c?!1:f.hasData(n[c],b)},data:function(a,b,j){if(g[a.nodeName.toLowerCase()])return i;var h=a[k];if(!h){if(b!==i&&j===i)return i;h=a[k]=c.guid()}a=n[h];if(j!==i)a=n[h]=n[h]||{},a[b]=j;else return b!==i?a&&a[b]:a=n[h]=n[h]||{}},removeData:function(a,b){var j=a[k],h;if(j)if(h=n[j],b!==i)delete h[b],c.isEmptyObject(h)&&u.removeData(a);else{delete n[j];try{delete a[k]}catch(g){a[k]=
i}a.removeAttribute&&a.removeAttribute(k)}}};c.mix(a,{__EXPANDO:k,hasData:function(e,b){for(var c=!1,i=a.query(e),g=0;g<i.length&&!(c=i[g],c=c.nodeType?u.hasData(c,b):h.hasData(c,b));g++);return c},data:function(e,b,j){var e=a.query(e),g=e[0];if(c.isPlainObject(b)){for(var f in b)a.data(e,f,b[f]);return i}if(j===i){if(g)return g.nodeType?u.data(g,b):h.data(g,b)}else for(f=e.length-1;0<=f;f--)g=e[f],g.nodeType?u.data(g,b,j):h.data(g,b,j);return i},removeData:function(e,b){var c=a.query(e),g,i;for(i=
c.length-1;0<=i;i--)g=c[i],g.nodeType?u.removeData(g,b):h.removeData(g,b)}});return a},{requires:["./api"]});
KISSY.add("dom/base/insertion",function(c,a){function i(a,b){var c=[],k,o,m;for(k=0;a[k];k++)if(o=a[k],m=g(o),o.nodeType==n.DOCUMENT_FRAGMENT_NODE)c.push.apply(c,i(f(o.childNodes),b));else if("script"===m&&(!o.type||u.test(o.type)))o.parentNode&&o.parentNode.removeChild(o),b&&b.push(o);else{if(o.nodeType==n.ELEMENT_NODE&&!s.test(m)){m=[];var t,l,d=o.getElementsByTagName("script");for(l=0;l<d.length;l++)t=d[l],(!t.type||u.test(t.type))&&m.push(t);h.apply(a,[k+1,0].concat(m))}c.push(o)}return c}function m(a){a.src?
c.getScript(a.src):(a=c.trim(a.text||a.textContent||a.innerHTML||""))&&c.globalEval(a)}function k(e,b,g,h){e=a.query(e);h&&(h=[]);e=i(e,h);a._fixInsertionChecked&&a._fixInsertionChecked(e);var b=a.query(b),f,k,t,l,d=b.length;if((e.length||h&&h.length)&&d){e=a._nodeListToFragment(e);1<d&&(l=a.clone(e,!0),b=c.makeArray(b));for(f=0;f<d;f++)k=b[f],e&&(t=0<f?a.clone(l,!0):e,g(t,k)),h&&h.length&&c.each(h,m)}}var n=a.NodeType,s=/^(?:button|input|object|select|textarea)$/i,g=a.nodeName,f=c.makeArray,h=[].splice,
u=/\/(java|ecma)script/i;c.mix(a,{_fixInsertionChecked:null,insertBefore:function(a,b,c){k(a,b,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)},c)},insertAfter:function(a,b,c){k(a,b,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)},c)},appendTo:function(a,b,c){k(a,b,function(a,b){b.appendChild(a)},c)},prependTo:function(a,b,c){k(a,b,function(a,b){b.insertBefore(a,b.firstChild)},c)},wrapAll:function(c,b){b=a.clone(a.get(b),!0);c=a.query(c);c[0].parentNode&&a.insertBefore(b,
c[0]);for(var g;(g=b.firstChild)&&1==g.nodeType;)b=g;a.appendTo(c,b)},wrap:function(e,b){e=a.query(e);b=a.get(b);c.each(e,function(c){a.wrapAll(c,b)})},wrapInner:function(e,b){e=a.query(e);b=a.get(b);c.each(e,function(c){var e=c.childNodes;e.length?a.wrapAll(e,b):c.appendChild(b)})},unwrap:function(e){e=a.query(e);c.each(e,function(b){b=b.parentNode;a.replaceWith(b,b.childNodes)})},replaceWith:function(c,b){var g=a.query(c),b=a.query(b);a.remove(b,!0);a.insertBefore(b,g);a.remove(g)}});c.each({prepend:"prependTo",
append:"appendTo",before:"insertBefore",after:"insertAfter"},function(c,b){a[b]=a[c]});return a},{requires:["./api"]});
KISSY.add("dom/base/offset",function(c,a,i){function m(a){var d,b=a.ownerDocument.body;if(!a.getBoundingClientRect)return{left:0,top:0};d=a.getBoundingClientRect();a=d[j];d=d[w];a-=f.clientLeft||b.clientLeft||0;d-=f.clientTop||b.clientTop||0;return{left:a,top:d}}function k(c,d){var g={left:0,top:0},i=h(c[b]),f,j=c,d=d||i;do{if(i==d){var k=j;f=m(k);k=h(k[b]);f.left+=a[y](k);f.top+=a[t](k)}else f=m(j);g.left+=f.left;g.top+=f.top}while(i&&i!=d&&(j=i.frameElement)&&(i=i.parent));g.left=e(g.left);g.top=
e(g.top);return g}var n=c.Env.host,s=n.document,g=a.NodeType,f=s&&s.documentElement,h=a.getWindow,u=Math.max,e=parseInt,b="ownerDocument",j="left",w="top",o=c.isNumber,y="scrollLeft",t="scrollTop";c.mix(a,{offset:function(b,d,c){if(d===i){var b=a.get(b),g;b&&(g=k(b,c));return g}c=a.query(b);for(g=c.length-1;0<=g;g--){var b=c[g],h=d;"static"===a.css(b,"position")&&(b.style.position="relative");var f=k(b),j={},t=void 0,m=void 0;for(m in h)t=e(a.css(b,m),10)||0,j[m]=e(t+h[m]-f[m]);a.css(b,j)}return i},
scrollIntoView:function(b,d,f,q){var t,k,m,p;if(m=a.get(b)){d&&(d=a.get(d));d||(d=m.ownerDocument);d.nodeType==g.DOCUMENT_NODE&&(d=h(d));c.isPlainObject(f)&&(q=f.allowHorizontalScroll,p=f.onlyScrollIfNeeded,f=f.alignWithTop);q=q===i?!0:q;k=!!h(d);var b=a.offset(m),u=a.outerHeight(m);t=a.outerWidth(m);var n,o,v,r;k?(k=d,n=a.height(k),o=a.width(k),r={left:a.scrollLeft(k),top:a.scrollTop(k)},k=b[j]-r[j],m=b[w]-r[w],t=b[j]+t-(r[j]+o),b=b[w]+u-(r[w]+n)):(n=a.offset(d),o=d.clientHeight,v=d.clientWidth,
r={left:a.scrollLeft(d),top:a.scrollTop(d)},k=b[j]-(n[j]+(e(a.css(d,"borderLeftWidth"))||0)),m=b[w]-(n[w]+(e(a.css(d,"borderTopWidth"))||0)),t=b[j]+t-(n[j]+v+(e(a.css(d,"borderRightWidth"))||0)),b=b[w]+u-(n[w]+o+(e(a.css(d,"borderBottomWidth"))||0)));if(p){if(0>m||0<b)!0===f?a.scrollTop(d,r.top+m):!1===f?a.scrollTop(d,r.top+b):0>m?a.scrollTop(d,r.top+m):a.scrollTop(d,r.top+b)}else(f=f===i?!0:!!f)?a.scrollTop(d,r.top+m):a.scrollTop(d,r.top+b);if(q)if(p){if(0>k||0<t)!0===f?a.scrollLeft(d,r.left+k):
!1===f?a.scrollLeft(d,r.left+t):0>k?a.scrollLeft(d,r.left+k):a.scrollLeft(d,r.left+t)}else(f=f===i?!0:!!f)?a.scrollLeft(d,r.left+k):a.scrollLeft(d,r.left+t)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});c.each(["Left","Top"],function(b,d){var c="scroll"+b;a[c]=function(e,f){if(o(e))return arguments.callee(n,e);var e=a.get(e),j,k,t,m=h(e);m?f!==i?(f=parseFloat(f),k="Left"==b?f:a.scrollLeft(m),t="Top"==b?f:a.scrollTop(m),m.scrollTo(k,t)):(j=m["page"+(d?"Y":"X")+
"Offset"],o(j)||(k=m.document,j=k.documentElement[c],o(j)||(j=k.body[c]))):e.nodeType==g.ELEMENT_NODE&&(f!==i?e[c]=parseFloat(f):j=e[c]);return j}});c.each(["Width","Height"],function(b){a["doc"+b]=function(d){d=a.get(d);d=h(d).document;return u(d.documentElement["scroll"+b],d.body["scroll"+b],a["viewport"+b](d))};a["viewport"+b]=function(d){var d=a.get(d),c="client"+b,d=h(d).document,e=d.body,g=d.documentElement[c];return"CSS1Compat"===d.compatMode&&g||e&&e[c]||g}});return a},{requires:["./api"]});
KISSY.add("dom/base/selector",function(c,a){function i(a){var b=this.length,d;for(d=0;d<b&&!1!==a(this[d],d);d++);}function m(c,f){var d,h;d="string"==typeof c;var j=f?m(f):(h=1)&&[g],k=j.length;if(c)if(d)if(c=y(c),h&&"body"==c)d=[g.body];else{d=[];for(h=0;h<k;h++)w.apply(d,a._selectInternal(c,j[h]));1<d.length&&1<k&&a.unique(d)}else{if(d=c.nodeType||c.setTimeout?[c]:c.getDOMNodes?c.getDOMNodes():u(c)?c:b(c)?e(c):[c],!h){var n=d,o,p=n.length;d=[];for(h=0;h<p;h++)for(o=0;o<k;o++)if(a._contains(j[o],
n[h])){d.push(n[h]);break}}}else d=[];d.each=i;return d}function k(a,b){var c=a&&(a.className||n(a,"class"));return c&&-1<(j+c+j).indexOf(j+b+j)}function n(a,b){var c=a&&a.getAttributeNode(b);if(c&&c.specified)return c.nodeValue}function s(a,b){return"*"==b||a.nodeName.toLowerCase()===b.toLowerCase()}var g=c.Env.host.document,f=g.documentElement,h=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector,u=c.isArray,e=c.makeArray,b=a._isNodeList,j=" ",w=Array.prototype.push,
o=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,y=c.trim;c.mix(a,{_compareNodeOrder:function(a,b){return!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1},_getSimpleAttr:n,_isTag:s,_hasSingleClass:k,_matchesInternal:function(a,b){for(var c=[],e=0,g,f=b.length;e<f;e++)g=b[e],h.call(g,a)&&c.push(g);return c},_selectInternal:function(a,b){return e(b.querySelectorAll(a))},query:m,get:function(a,b){return m(a,b)[0]||null},unique:function(){function b(d,
e){return d==e?(c=!0,0):a._compareNodeOrder(d,e)}var c,d=!0;[0,0].sort(function(){d=!1;return 0});return function(a){c=d;a.sort(b);if(c)for(var e=1,g=a.length;e<g;)a[e]===a[e-1]?(a.splice(e,1),--g):e++;return a}}(),filter:function(b,e,d){var b=m(b,d),g,f,h,i,d=[];if("string"==typeof e&&(e=y(e))&&(h=o.exec(e)))g=h[1],f=h[2],i=h[3],g?g&&!f&&!i&&(e=function(a){return n(a,"id")==g}):e=function(a){var b=!0,c=!0;f&&(b=s(a,f));i&&(c=k(a,i));return c&&b};return d=c.isFunction(e)?c.filter(b,e):a._matchesInternal(e,
b)},test:function(b,c,d){b=m(b,d);return b.length&&a.filter(b,c,d).length===b.length}});return a},{requires:["./api"]});
KISSY.add("dom/base/style",function(c,a,i){function m(a,b){return b.toUpperCase()}function k(a){return a.replace(l,"ms-").replace(x,m)}function n(a,b,c){var d={},e;for(e in b)d[e]=a[j][e],a[j][e]=b[e];c.call(a);for(e in b)a[j][e]=d[e]}function s(a,b,c){var d,e,g;if(3===a.nodeType||8===a.nodeType||!(d=a[j]))return i;b=k(b);g=B[b];b=z[b]||b;if(c!==i){null===c||c===C?c=C:!isNaN(Number(c))&&!t[b]&&(c+=q);g&&g.set&&(c=g.set(a,c));if(c!==i){try{d[b]=c}catch(f){}c===C&&d.removeAttribute&&d.removeAttribute(b)}d.cssText||
a.removeAttribute("style");return i}if(!g||!("get"in g&&(e=g.get(a,!1))!==i))e=d[b];return e===i?"":e}function g(a){var b,c=arguments;0!==a.offsetWidth?b=f.apply(i,c):n(a,G,function(){b=f.apply(i,c)});return b}function f(b,d,e){if(c.isWindow(b))return d==o?a.viewportWidth(b):a.viewportHeight(b);if(9==b.nodeType)return d==o?a.docWidth(b):a.docHeight(b);var g=d===o?["Left","Right"]:["Top","Bottom"],f=d===o?b.offsetWidth:b.offsetHeight;if(0<f)return"border"!==e&&c.each(g,function(c){e||(f-=parseFloat(a.css(b,
"padding"+c))||0);f="margin"===e?f+(parseFloat(a.css(b,e+c))||0):f-(parseFloat(a.css(b,"border"+c+"Width"))||0)}),f;f=a._getComputedStyle(b,d);if(null==f||0>Number(f))f=b.style[d]||0;f=parseFloat(f)||0;e&&c.each(g,function(c){f+=parseFloat(a.css(b,"padding"+c))||0;"padding"!==e&&(f+=parseFloat(a.css(b,"border"+c+"Width"))||0);"margin"===e&&(f+=parseFloat(a.css(b,e+c))||0)});return f}var h=c.Env.host,u=c.UA,e=a.nodeName,b=h.document,j="style",w=/^margin/,o="width",y="display"+c.now(),t={fillOpacity:1,
fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},l=/^-ms-/,d=/([A-Z]|^ms)/g,C="",q="px",A=/\d(?!px)[a-z%]+$/i,B={},z={"float":"cssFloat"},p={},x=/-([a-z])/ig;c.mix(a,{_camelCase:k,_CUSTOM_STYLES:B,_cssProps:z,_getComputedStyle:function(b,c){var e="",f,g,h,i,k;g=b.ownerDocument;c=c.replace(d,"-$1").toLowerCase();if(f=g.defaultView.getComputedStyle(b,null))e=f.getPropertyValue(c)||f[c];""===e&&!a.contains(g,b)&&(c=z[c]||c,e=b[j][c]);a._RE_NUM_NO_PX.test(e)&&w.test(c)&&(k=b.style,
g=k.width,h=k.minWidth,i=k.maxWidth,k.minWidth=k.maxWidth=k.width=e,e=f.width,k.width=g,k.minWidth=h,k.maxWidth=i);return e},style:function(b,e,d){var b=a.query(b),f,g=b[0];if(c.isPlainObject(e)){for(f in e)for(g=b.length-1;0<=g;g--)s(b[g],f,e[f]);return i}if(d===i)return f="",g&&(f=s(g,e,d)),f;for(g=b.length-1;0<=g;g--)s(b[g],e,d);return i},css:function(b,e,d){var b=a.query(b),g=b[0],f;if(c.isPlainObject(e)){for(f in e)for(g=b.length-1;0<=g;g--)s(b[g],f,e[f]);return i}e=k(e);f=B[e];if(d===i){d="";
if(g&&(!f||!("get"in f&&(d=f.get(g,!0))!==i)))d=a._getComputedStyle(g,e);return"undefined"==typeof d?"":d}for(g=b.length-1;0<=g;g--)s(b[g],e,d);return i},show:function(c){var c=a.query(c),e,d,g;for(g=c.length-1;0<=g;g--)if(d=c[g],d[j].display=a.data(d,y)||C,"none"===a.css(d,"display")){e=d.tagName.toLowerCase();var f=void 0,h=p[e],i=void 0;p[e]||(f=b.body||b.documentElement,i=b.createElement(e),a.prepend(i,f),h=a.css(i,"display"),f.removeChild(i),p[e]=h);e=h;a.data(d,y,e);d[j].display=e}},hide:function(b){var b=
a.query(b),c,e;for(e=b.length-1;0<=e;e--){c=b[e];var d=c[j],g=d.display;"none"!==g&&(g&&a.data(c,y,g),d.display="none")}},toggle:function(b){var b=a.query(b),c,e;for(e=b.length-1;0<=e;e--)c=b[e],"none"===a.css(c,"display")?a.show(c):a.hide(c)},addStyleSheet:function(b,c,e){b=b||h;"string"==typeof b&&(e=c,c=b,b=h);var b=a.get(b),b=a.getWindow(b).document,d;if(e&&(e=e.replace("#",C)))d=a.get("#"+e,b);d||(d=a.create("<style>",{id:e},b),a.get("head",b).appendChild(d),d.styleSheet?d.styleSheet.cssText=
c:d.appendChild(b.createTextNode(c)))},unselectable:function(b){var b=a.query(b),d,g,f=0,h,i;for(g=b.length-1;0<=g;g--)if(d=b[g],i=d[j],i.UserSelect="none",u.gecko)i.MozUserSelect="none";else if(u.webkit)i.WebkitUserSelect="none";else if(u.ie||u.opera){i=d.getElementsByTagName("*");d.setAttribute("unselectable","on");for(h=["iframe","textarea","input","select"];d=i[f++];)c.inArray(e(d),h)||d.setAttribute("unselectable","on")}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});
c.each([o,"height"],function(b){a["inner"+c.ucfirst(b)]=function(c){return(c=a.get(c))&&g(c,b,"padding")};a["outer"+c.ucfirst(b)]=function(c,e){var d=a.get(c);return d&&g(d,b,e?"margin":"border")};a[b]=function(c,e){var d=a.css(c,b,e);d&&(d=parseFloat(d));return d};B[b]={get:function(a,c){var d;c&&(d=g(a,b)+"px");return d}}});var G={position:"absolute",visibility:"hidden",display:"block"};c.each(["left","top"],function(c){B[c]={get:function(d,e){var g,f,h;if(e){h=a.css(d,"position");if("static"===
h)return"auto";g=a._getComputedStyle(d,c);if((f="auto"===g)&&"relative"===h)return"0px";if(f||A.test(g)){h={top:0,left:0};if("fixed"==a.css(d,"position"))f=d.getBoundingClientRect();else{for(g=d.offsetParent||(d.ownerDocument||b).body;g&&!H.test(g.nodeName)&&"static"===a.css(g,"position");)g=g.offsetParent;f=a.offset(d);h=a.offset(g);h.top+=parseFloat(a.css(g,"borderTopWidth"))||0;h.left+=parseFloat(a.css(g,"borderLeftWidth"))||0}f.top-=parseFloat(a.css(d,"marginTop"))||0;f.left-=parseFloat(a.css(d,
"marginLeft"))||0;g={top:f.top-h.top,left:f.left-h.left}[c]+"px"}}return g}}});var H=/^(?:body|html)$/i;return a},{requires:["./api"]});
KISSY.add("dom/base/traversal",function(c,a,i){function m(g,f,h,m,e,b,j){if(!(g=a.get(g)))return null;if(0===f)return g;b||(g=g[h]);if(!g)return null;e=e&&a.get(e)||null;f===i&&(f=1);var b=[],n=c.isArray(f),o,y;c.isNumber(f)&&(o=0,y=f,f=function(){return++o===y});for(;g&&g!=e;){if((g.nodeType==s.ELEMENT_NODE||g.nodeType==s.TEXT_NODE&&j)&&k(g,f)&&(!m||m(g)))if(b.push(g),!n)break;g=g[h]}return n?b:b[0]||null}function k(g,f){if(!f)return!0;if(c.isArray(f)){var h,i=f.length;if(!i)return!0;for(h=0;h<i;h++)if(a.test(g,
f[h]))return!0}else if(a.test(g,f))return!0;return!1}function n(g,f,h,i){var e=[],b,j;if((b=g=a.get(g))&&h)b=g.parentNode;if(b){h=c.makeArray(b.childNodes);for(b=0;b<h.length;b++)j=h[b],(i||j.nodeType==s.ELEMENT_NODE)&&j!=g&&e.push(j);f&&(e=a.filter(e,f))}return e}var s=a.NodeType;c.mix(a,{_contains:function(a,c){return!!(a.compareDocumentPosition(c)&16)},closest:function(a,c,h,i){return m(a,c,"parentNode",function(a){return a.nodeType!=s.DOCUMENT_FRAGMENT_NODE},h,!0,i)},parent:function(a,c,h){return m(a,
c,"parentNode",function(a){return a.nodeType!=s.DOCUMENT_FRAGMENT_NODE},h,i)},first:function(c,f,h){c=a.get(c);return m(c&&c.firstChild,f,"nextSibling",i,i,!0,h)},last:function(c,f,h){c=a.get(c);return m(c&&c.lastChild,f,"previousSibling",i,i,!0,h)},next:function(a,c,h){return m(a,c,"nextSibling",i,i,i,h)},prev:function(a,c,h){return m(a,c,"previousSibling",i,i,i,h)},siblings:function(a,c,h){return n(a,c,!0,h)},children:function(a,c){return n(a,c,i)},contents:function(a,c){return n(a,c,i,1)},contains:function(c,
f){c=a.get(c);f=a.get(f);return c&&f?a._contains(c,f):!1},index:function(g,f){var h=a.query(g),i,e=0;i=h[0];if(!f){h=i&&i.parentNode;if(!h)return-1;for(;i=i.previousSibling;)i.nodeType==s.ELEMENT_NODE&&e++;return e}e=a.query(f);return"string"===typeof f?c.indexOf(i,e):c.indexOf(e[0],h)},equals:function(c,f){c=a.query(c);f=a.query(f);if(c.length!=f.length)return!1;for(var h=c.length;0<=h;h--)if(c[h]!=f[h])return!1;return!0}});return a},{requires:["./api"]});
