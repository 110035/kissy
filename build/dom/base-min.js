/*
Copyright 2013, KISSY UI Library v1.40dev
MIT Licensed
build time: Jul 15 20:25
*/
KISSY.add("dom/base/api",function(d){var a=d.Env.host||{},g=a.document,r=d.UA,m={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},o={isCustomDomain:function(d){var d=d||a,d=o.get(d),e=d.document.domain,d=d.location.hostname;return e!=d&&e!="["+d+"]"},getEmptyIframeSrc:function(d){d=d||a;d=o.get(d);return r.ie&&o.isCustomDomain(d)?
"javascript:void(function(){"+encodeURIComponent("document.open();document.domain='"+d.document.domain+"';document.close();")+"}())":""},NodeType:m,getWindow:function(g){if(!g)return a;g=o.get(g);if(d.isWindow(g))return g;var e=g;e.nodeType!==m.DOCUMENT_NODE&&(e=g.ownerDocument);return e.defaultView||e.parentWindow},getDocument:function(a){if(!a)return g;a=o.get(a);return d.isWindow(a)?a.document:a.nodeType==m.DOCUMENT_NODE?a:a.ownerDocument},isDomNodeList:function(a){return a&&!a.nodeType&&a.item&&
!a.setTimeout},nodeName:function(a){var d=o.get(a),a=d.nodeName.toLowerCase();r.ie&&(d=d.scopeName)&&"HTML"!=d&&(a=d.toLowerCase()+":"+a);return a},_RE_NUM_NO_PX:RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i")};d.mix(o,m);return o});
KISSY.add("dom/base/attr",function(d,a,g){function r(a,f){var f=p[f]||f,b=u[f];return b&&b.get?b.get(a,f):a[f]}var m=d.Env.host.document,o=a.NodeType,m=m&&m.documentElement,q=a.nodeName,e=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,j=/^(?:button|input|object|select|textarea)$/i,i=/^a(?:rea)?$/i,n=/:|^on/,b=/\r/g,c={},k={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1,scrollTop:1,scrollLeft:1},s={tabindex:{get:function(a){var f=
a.getAttributeNode("tabindex");return f&&f.specified?parseInt(f.value,10):j.test(a.nodeName)||i.test(a.nodeName)&&a.href?0:g}}},p={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},w={get:function(b,f){return a.prop(b,f)?f.toLowerCase():g},set:function(b,f,c){!1===f?
a.removeAttr(b,c):(f=p[c]||c,f in b&&(b[f]=!0),b.setAttribute(c,c.toLowerCase()));return c}},u={},h={},l={select:{get:function(b){var f=b.selectedIndex,c=b.options,d;if(0>f)return null;if("select-one"===""+b.type)return a.val(c[f]);b=[];f=0;for(d=c.length;f<d;++f)c[f].selected&&b.push(a.val(c[f]));return b},set:function(b,f){var c=d.makeArray(f);d.each(b.options,function(b){b.selected=d.inArray(a.val(b),c)});c.length||(b.selectedIndex=-1);return c}}};d.each(["radio","checkbox"],function(b){l[b]={get:function(a){return null===
a.getAttribute("value")?"on":a.value},set:function(b,c){return d.isArray(c)?b.checked=d.inArray(a.val(b),c):g}}});s.style={get:function(a){return a.style.cssText}};d.mix(a,{_valHooks:l,_propFix:p,_attrHooks:s,_propHooks:u,_attrNodeHook:h,_attrFix:c,prop:function(b,f,c){var h=a.query(b),k,l;if(d.isPlainObject(f))return d.each(f,function(b,c){a.prop(h,c,b)}),g;f=p[f]||f;l=u[f];if(c!==g)for(b=h.length-1;0<=b;b--)k=h[b],l&&l.set?l.set(k,c,f):k[f]=c;else if(h.length)return r(h[0],f);return g},hasProp:function(b,
c){var d=a.query(b),h,k=d.length,l;for(h=0;h<k;h++)if(l=d[h],r(l,c)!==g)return!0;return!1},removeProp:function(b,c){var c=p[c]||c,d=a.query(b),h,l;for(h=d.length-1;0<=h;h--){l=d[h];try{l[c]=g,delete l[c]}catch(k){}}},attr:function(b,f,l,j){var u=a.query(b),i=u[0];if(d.isPlainObject(f)){var j=l,v;for(v in f)a.attr(u,v,f[v],j);return g}if(j&&k[f])return a[f](b,l);f=f.toLowerCase();if(j&&k[f])return a[f](b,l);f=c[f]||f;b=e.test(f)?w:n.test(f)?h:s[f];if(l===g){if(i&&i.nodeType===o.ELEMENT_NODE){"form"==
q(i)&&(b=h);if(b&&b.get)return b.get(i,f);l=i.getAttribute(f);return""===l&&(f=i.getAttributeNode(f),!f||!f.specified)?g:null===l?g:l}}else for(j=u.length-1;0<=j;j--)if((i=u[j])&&i.nodeType===o.ELEMENT_NODE)"form"==q(i)&&(b=h),b&&b.set?b.set(i,l,f):i.setAttribute(f,""+l);return g},removeAttr:function(b,f){var f=f.toLowerCase(),f=c[f]||f,h=a.query(b),d,l,g;for(g=h.length-1;0<=g;g--)if(l=h[g],l.nodeType==o.ELEMENT_NODE&&(l.removeAttribute(f),e.test(f)&&(d=p[f]||f)in l))l[d]=!1},hasAttr:m&&!m.hasAttribute?
function(b,c){var c=c.toLowerCase(),h=a.query(b),d,l;for(d=0;d<h.length;d++)if(l=h[d],(l=l.getAttributeNode(c))&&l.specified)return!0;return!1}:function(b,c){var d=a.query(b),h,l=d.length;for(h=0;h<l;h++)if(d[h].hasAttribute(c))return!0;return!1},val:function(c,f){var h,k,j,i,v;if(f===g){if(j=a.get(c)){if((h=l[q(j)]||l[j.type])&&"get"in h&&(k=h.get(j,"value"))!==g)return k;k=j.value;return"string"===typeof k?k.replace(b,""):null==k?"":k}return g}k=a.query(c);for(i=k.length-1;0<=i;i--){j=k[i];if(1!==
j.nodeType)break;v=f;null==v?v="":"number"===typeof v?v+="":d.isArray(v)&&(v=d.map(v,function(a){return a==null?"":a+""}));h=l[q(j)]||l[j.type];if(!h||!("set"in h)||h.set(j,v,"value")===g)j.value=v}return g},text:function(b,c){var h,d,l,k;if(c===g)return h=a.get(b),a._getText(h);d=a.query(b);for(l=d.length-1;0<=l;l--)if(h=d[l],k=h.nodeType,k==o.ELEMENT_NODE)a.empty(h),h.appendChild(h.ownerDocument.createTextNode(c));else if(k==o.TEXT_NODE||k==o.CDATA_SECTION_NODE)h.nodeValue=c;return g},_getText:function(a){return a.textContent}});
return a},{requires:["./api"]});
KISSY.add("dom/base/class",function(d,a){function g(a){for(var a=d.trim(a||""),a=a.split(e),g=[],n,b=a.length,c=0;c<b;c++)(n=a[c])&&g.push(n);return g}function r(a){return function(d,g){var b,c,k,e=d.classList,p=o.call(arguments,2);b=0;for(c=g.length;b<c;b++)(k=g[b])&&e[a].apply(e,[k].concat(p))}}function m(d){return function(e,n){var b=g(n),c=o.call(arguments,2);a.query(e).each(function(k){k.nodeType==q.ELEMENT_NODE&&a[d].apply(a,[k,b].concat(c))})}}var o=[].slice,q=a.NodeType,e=/[\.\s]\s*\.?/;d.mix(a,
{_hasClass:function(a,d){var g,b,c,k=a.classList;if(k.length){g=0;for(b=d.length;g<b;g++)if((c=d[g])&&!k.contains(c))return!1;return!0}return!1},_addClass:r("add"),_removeClass:r("remove"),_toggleClass:r("toggle"),hasClass:function(d,e){var n=a.get(d);return n&&n.nodeType==q.ELEMENT_NODE&&a._hasClass(n,g(e))},replaceClass:function(d,g,e){a.removeClass(d,g);a.addClass(d,e)},addClass:m("_addClass"),removeClass:m("_removeClass"),toggleClass:m("_toggleClass")});return a},{requires:["./api"]});
KISSY.add("dom/base/create",function(d,a,g){function r(b){var c=d.require("event/dom");c&&c.detach(b);a.removeData(b)}function m(a){a=a&&a!=i?a.createElement(c):k;a===k&&(a.innerHTML="");return a}function o(a,b){var c=m(b);c.innerHTML="m<div>"+a+"</div>";return c.lastChild}function q(a,b,c){var h=b.nodeType;if(h==n.DOCUMENT_FRAGMENT_NODE){b=b.childNodes;c=c.childNodes;for(h=0;b[h];)c[h]&&q(a,b[h],c[h]),h++}else if(h==n.ELEMENT_NODE){b=b.getElementsByTagName("*");c=c.getElementsByTagName("*");for(h=
0;b[h];)c[h]&&a(b[h],c[h]),h++}}function e(b,c){var h=d.require("event/dom"),f,l;if(c.nodeType!=n.ELEMENT_NODE||a.hasData(b)){f=a.data(b);for(l in f)a.data(c,l,f[l]);h&&h.clone(b,c)}}function j(a){var b=null,c,h;if(a&&(a.push||a.item)&&a[0]){b=a[0].ownerDocument;b=b.createDocumentFragment();a=d.makeArray(a);c=0;for(h=a.length;c<h;c++)b.appendChild(a[c])}return b}var i=d.Env.host.document,n=a.NodeType,b=d.UA.ie,c="div",k=i&&i.createElement(c),s=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,
p=/<([\w:]+)/,w=/^\s+/,u=/\s+$/,h=b&&9>b,l=/<|&#?\w+;/,z=i&&"outerHTML"in i.documentElement,f=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;d.mix(a,{create:function(b,k,t,D){var x=null;if(!b)return x;if(b.nodeType)return a.clone(b);if("string"!=typeof b)return x;D===g&&(D=!0);D&&(b=d.trim(b));var D=a._creators,e,E,t=t||i,z,y=c;if(l.test(b))if(z=f.exec(b))x=t.createElement(z[1]);else{b=b.replace(s,"<$1></$2>");if((z=p.exec(b))&&(e=z[1]))y=e.toLowerCase();e=(D[y]||o)(b,t);h&&(E=b.match(w))&&e.insertBefore(t.createTextNode(E[0]),
e.firstChild);h&&/\S/.test(b)&&(E=b.match(u))&&e.appendChild(t.createTextNode(E[0]));b=e.childNodes;1===b.length?x=b[0].parentNode.removeChild(b[0]):b.length&&(x=j(b))}else x=t.createTextNode(b);d.isPlainObject(k)&&(x.nodeType==n.ELEMENT_NODE?a.attr(x,k,!0):x.nodeType==n.DOCUMENT_FRAGMENT_NODE&&a.attr(x.childNodes,k,!0));return x},_fixCloneAttributes:function(b,c){"textarea"===a.nodeName(b)&&(c.defaultValue=b.defaultValue,c.value=b.value)},_creators:{div:o},_defaultCreator:o,html:function(b,c,d){var b=
a.query(b),f=b[0],l=!1,k,e;if(!f)return null;if(c===g)return f.nodeType==n.ELEMENT_NODE?f.innerHTML:f.nodeType==n.DOCUMENT_FRAGMENT_NODE?(d=m(f.ownerDocument),d.appendChild(f),d.innerHTML):null;c+="";if(!c.match(/<(?:script|style|link)/i)&&(!h||!c.match(w))&&!A[(c.match(p)||["",""])[1].toLowerCase()])try{for(k=b.length-1;0<=k;k--)e=b[k],e.nodeType==n.ELEMENT_NODE&&(r(e.getElementsByTagName("*")),e.innerHTML=c);l=!0}catch(j){}l||(c=a.create(c,0,f.ownerDocument,0),a.empty(b),a.append(c,b,d));return g},
outerHtml:function(b,c,h){var b=a.query(b),d=b.length,f=b[0];if(!f)return null;if(c===g){if(z&&f.nodeType!=a.DOCUMENT_FRAGMENT_NODE)return f.outerHTML;c=m(f.ownerDocument);c.appendChild(a.clone(f,!0));return c.innerHTML}c+="";if(!c.match(/<(?:script|style|link)/i)&&z)for(h=d-1;0<=h;h--)f=b[h],f.nodeType==n.ELEMENT_NODE&&(r(f),r(f.getElementsByTagName("*")),f.outerHTML=c);else c=a.create(c,0,f.ownerDocument,0),a.insertBefore(c,b,h),a.remove(b);return g},remove:function(b,c){var h,f=a.query(b),l,k,
g=d.require("event/dom"),e;for(e=f.length-1;0<=e;e--)h=f[e],!c&&h.nodeType==n.ELEMENT_NODE&&(l=d.makeArray(h.getElementsByTagName("*")),l.push(h),a.removeData(l),g&&g.detach(l)),(k=h.parentNode)&&k.removeChild(h)},clone:function(b,c,h,f){"object"===typeof c&&(f=c.deepWithDataAndEvent,h=c.withDataAndEvent,c=c.deep);var b=a.get(b),d,l=a._fixCloneAttributes,k;if(!b)return null;k=b.nodeType;d=b.cloneNode(c);if(k==n.ELEMENT_NODE||k==n.DOCUMENT_FRAGMENT_NODE)l&&k==n.ELEMENT_NODE&&l(b,d),c&&l&&q(l,b,d);
h&&(e(b,d),c&&f&&q(e,b,d));return d},empty:function(b){var b=a.query(b),c,h;for(h=b.length-1;0<=h;h--)c=b[h],a.remove(c.childNodes)},_nodeListToFragment:j});a.outerHTML=a.outerHtml;var y=a._creators,B=a.create,A={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},C;for(C in A)(function(a){y[C]=function(b,c){return B("<"+a+">"+b+"</"+a+">",null,c)}})(A[C]);return a},{requires:["./api"]});
KISSY.add("dom/base/data",function(d,a,g){var r=d.Env.host,m="_ks_data_"+d.now(),o={},q={},e={applet:1,object:1,embed:1},j={hasData:function(a,c){if(a)if(c!==g){if(c in a)return!0}else if(!d.isEmptyObject(a))return!0;return!1}},i={hasData:function(a,c){return a==r?i.hasData(q,c):j.hasData(a[m],c)},data:function(a,c,d){if(a==r)return i.data(q,c,d);var e=a[m];if(d!==g)e=a[m]=a[m]||{},e[c]=d;else return c!==g?e&&e[c]:e=a[m]=a[m]||{}},removeData:function(a,c){if(a==r)return i.removeData(q,c);var k=a[m];
if(c!==g)delete k[c],d.isEmptyObject(k)&&i.removeData(a);else try{delete a[m]}catch(e){a[m]=g}}},n={hasData:function(a,c){var d=a[m];return!d?!1:j.hasData(o[d],c)},data:function(a,c,k){if(e[a.nodeName.toLowerCase()])return g;var j=a[m];if(!j){if(c!==g&&k===g)return g;j=a[m]=d.guid()}a=o[j];if(k!==g)a=o[j]=o[j]||{},a[c]=k;else return c!==g?a&&a[c]:a=o[j]=o[j]||{}},removeData:function(a,c){var k=a[m],e;if(k)if(e=o[k],c!==g)delete e[c],d.isEmptyObject(e)&&n.removeData(a);else{delete o[k];try{delete a[m]}catch(j){a[m]=
g}a.removeAttribute&&a.removeAttribute(m)}}};d.mix(a,{__EXPANDO:m,hasData:function(b,c){for(var d=!1,e=a.query(b),g=0;g<e.length&&!(d=e[g],d=d.nodeType?n.hasData(d,c):i.hasData(d,c));g++);return d},data:function(b,c,e){var b=a.query(b),j=b[0];if(d.isPlainObject(c)){for(var p in c)a.data(b,p,c[p]);return g}if(e===g){if(j)return j.nodeType?n.data(j,c):i.data(j,c)}else for(p=b.length-1;0<=p;p--)j=b[p],j.nodeType?n.data(j,c,e):i.data(j,c,e);return g},removeData:function(b,c){var d=a.query(b),e,g;for(g=
d.length-1;0<=g;g--)e=d[g],e.nodeType?n.removeData(e,c):i.removeData(e,c)}});return a},{requires:["./api"]});
KISSY.add("dom/base/insertion",function(d,a){function g(a,c){var d=[],m,p,w;for(m=0;a[m];m++)if(p=a[m],w=e(p),p.nodeType==o.DOCUMENT_FRAGMENT_NODE)d.push.apply(d,g(j(p.childNodes),c));else if("script"===w&&(!p.type||n.test(p.type)))p.parentNode&&p.parentNode.removeChild(p),c&&c.push(p);else{if(p.nodeType==o.ELEMENT_NODE&&!q.test(w)){w=[];var u,h,l=p.getElementsByTagName("script");for(h=0;h<l.length;h++)u=l[h],(!u.type||n.test(u.type))&&w.push(u);i.apply(a,[m+1,0].concat(w))}d.push(p)}return d}function r(a){a.src?
d.getScript(a.src):(a=d.trim(a.text||a.textContent||a.innerHTML||""))&&d.globalEval(a)}function m(b,c,e,j){b=a.query(b);j&&(j=[]);b=g(b,j);a._fixInsertionChecked&&a._fixInsertionChecked(b);var c=a.query(c),i,w,u,h,l=c.length;if((b.length||j&&j.length)&&l){b=a._nodeListToFragment(b);1<l&&(h=a.clone(b,!0),c=d.makeArray(c));for(i=0;i<l;i++)w=c[i],b&&(u=0<i?a.clone(h,!0):b,e(u,w)),j&&j.length&&d.each(j,r)}}var o=a.NodeType,q=/^(?:button|input|object|select|textarea)$/i,e=a.nodeName,j=d.makeArray,i=[].splice,
n=/\/(java|ecma)script/i;d.mix(a,{_fixInsertionChecked:null,insertBefore:function(a,c,d){m(a,c,function(a,c){c.parentNode&&c.parentNode.insertBefore(a,c)},d)},insertAfter:function(a,c,d){m(a,c,function(a,c){c.parentNode&&c.parentNode.insertBefore(a,c.nextSibling)},d)},appendTo:function(a,c,d){m(a,c,function(a,c){c.appendChild(a)},d)},prependTo:function(a,c,d){m(a,c,function(a,c){c.insertBefore(a,c.firstChild)},d)},wrapAll:function(b,c){c=a.clone(a.get(c),!0);b=a.query(b);b[0].parentNode&&a.insertBefore(c,
b[0]);for(var d;(d=c.firstChild)&&1==d.nodeType;)c=d;a.appendTo(b,c)},wrap:function(b,c){b=a.query(b);c=a.get(c);d.each(b,function(b){a.wrapAll(b,c)})},wrapInner:function(b,c){b=a.query(b);c=a.get(c);d.each(b,function(b){var d=b.childNodes;d.length?a.wrapAll(d,c):b.appendChild(c)})},unwrap:function(b){b=a.query(b);d.each(b,function(c){c=c.parentNode;a.replaceWith(c,c.childNodes)})},replaceWith:function(b,c){var d=a.query(b),c=a.query(c);a.remove(c,!0);a.insertBefore(c,d);a.remove(d)}});d.each({prepend:"prependTo",
append:"appendTo",before:"insertBefore",after:"insertAfter"},function(b,c){a[c]=a[b]});return a},{requires:["./api"]});
KISSY.add("dom/base/offset",function(d,a,g){function r(a){var b,d=a.ownerDocument.body;if(!a.getBoundingClientRect)return{left:0,top:0};b=a.getBoundingClientRect();a=b[c];b=b[k];a-=i.clientLeft||d.clientLeft||0;b-=i.clientTop||d.clientTop||0;return{left:a,top:b}}function m(c,b){var d={left:0,top:0},l=n(c),e,f=c,b=b||l;do{if(l==b){var g=f;e=r(g);g=n(g);e.left+=a[s](g);e.top+=a[p](g)}else e=r(f);d.left+=e.left;d.top+=e.top}while(l&&l!=b&&(f=l.frameElement)&&(l=l.parent));return d}var o=d.Env.host,q=
d.UA,e=o.document,j=a.NodeType,i=e&&e.documentElement,n=a.getWindow,b=Math.max,c="left",k="top",s="scrollLeft",p="scrollTop";d.mix(a,{offset:function(c,b,d){if(b===g){var c=a.get(c),e;c&&(e=m(c,d));return e}d=a.query(c);for(e=d.length-1;0<=e;e--){var c=d[e],j=b;"static"===a.css(c,"position")&&(c.style.position="relative");var f=m(c),i={},k=void 0,n=void 0;for(n in j)k=parseFloat(a.css(c,n))||0,i[n]=k+j[n]-f[n];a.css(c,i)}return g},scrollIntoView:function(b,e,h,l){var i,f,m,o;if(m=a.get(b)){e&&(e=
a.get(e));e||(e=m.ownerDocument);e.nodeType==j.DOCUMENT_NODE&&(e=n(e));d.isPlainObject(h)&&(l=h.allowHorizontalScroll,o=h.onlyScrollIfNeeded,h=h.alignWithTop);l=l===g?!0:l;f=d.isWindow(e);var b=a.offset(m),p=a.outerHeight(m);i=a.outerWidth(m);var q,r,s,t;f?(f=e,q=a.height(f),r=a.width(f),t={left:a.scrollLeft(f),top:a.scrollTop(f)},f=b[c]-t[c],m=b[k]-t[k],i=b[c]+i-(t[c]+r),b=b[k]+p-(t[k]+q)):(q=a.offset(e),r=e.clientHeight,s=e.clientWidth,t={left:a.scrollLeft(e),top:a.scrollTop(e)},f=b[c]-(q[c]+(parseFloat(a.css(e,
"borderLeftWidth"))||0)),m=b[k]-(q[k]+(parseFloat(a.css(e,"borderTopWidth"))||0)),i=b[c]+i-(q[c]+s+(parseFloat(a.css(e,"borderRightWidth"))||0)),b=b[k]+p-(q[k]+r+(parseFloat(a.css(e,"borderBottomWidth"))||0)));if(o){if(0>m||0<b)!0===h?a.scrollTop(e,t.top+m):!1===h?a.scrollTop(e,t.top+b):0>m?a.scrollTop(e,t.top+m):a.scrollTop(e,t.top+b)}else(h=h===g?!0:!!h)?a.scrollTop(e,t.top+m):a.scrollTop(e,t.top+b);if(l)if(o){if(0>f||0<i)!0===h?a.scrollLeft(e,t.left+f):!1===h?a.scrollLeft(e,t.left+i):0>f?a.scrollLeft(e,
t.left+f):a.scrollLeft(e,t.left+i)}else(h=h===g?!0:!!h)?a.scrollLeft(e,t.left+f):a.scrollLeft(e,t.left+i)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});d.each(["Left","Top"],function(c,b){var d="scroll"+c;a[d]=function(e,i){if("number"===typeof e)return arguments.callee(o,e);var e=a.get(e),f,k,m,p;e&&e.nodeType==j.ELEMENT_NODE?i!==g?e[d]=parseFloat(i):f=e[d]:(p=n(e),i!==g?(i=parseFloat(i),k="Left"==c?i:a.scrollLeft(p),m="Top"==c?i:a.scrollTop(p),p.scrollTo(k,
m)):(f=p["page"+(b?"Y":"X")+"Offset"],"number"!==typeof f&&(k=p.document,f=k.documentElement[d],"number"!==typeof f&&(f=k.body[d]))));return f}});d.each(["Width","Height"],function(c){a["doc"+c]=function(d){d=a.get(d);d=a.getDocument(d);return b(d.documentElement["scroll"+c],d.body["scroll"+c],a["viewport"+c](d))};a["viewport"+c]=function(b){var b=a.get(b),d=n(b),b=d["inner"+c];if(q.mobile&&b)return b;var b="client"+c,d=d.document,e=d.body,g=d.documentElement[b];return"CSS1Compat"===d.compatMode&&
g||e&&e[b]||g}});return a},{requires:["./api"]});
KISSY.add("dom/base/style",function(d,a,g){function r(a,c){return c.toUpperCase()}function m(a){return a.replace(u,"ms-").replace(C,r)}function o(a,c,b){var d={},e=a.style,h;for(h in c)d[h]=e[h],e[h]=c[h];b.call(a);for(h in c)e[h]=d[h]}function q(a,c,b){var d,e,h;if(3===a.nodeType||8===a.nodeType||!(d=a.style))return g;c=m(c);h=y[c];c=B[c]||c;if(b!==g){null===b||b===l?b=l:!isNaN(Number(b))&&!w[c]&&(b+=z);h&&h.set&&(b=h.set(a,b));if(b!==g){try{d[c]=b}catch(f){}b===l&&d.removeAttribute&&d.removeAttribute(c)}d.cssText||
a.removeAttribute("style");return g}if(!h||!("get"in h&&(e=h.get(a,!1))!==g))e=d[c];return e===g?"":e}function e(a){var c,b=arguments;0!==a.offsetWidth?c=j.apply(g,b):o(a,v,function(){c=j.apply(g,b)});return c}function j(c,b,e){if(d.isWindow(c))return b==s?a.viewportWidth(c):a.viewportHeight(c);if(9==c.nodeType)return b==s?a.docWidth(c):a.docHeight(c);var h=b===s?["Left","Right"]:["Top","Bottom"],f=b===s?c.offsetWidth:c.offsetHeight;if(0<f)return"border"!==e&&d.each(h,function(b){e||(f-=parseFloat(a.css(c,
"padding"+b))||0);f="margin"===e?f+(parseFloat(a.css(c,e+b))||0):f-(parseFloat(a.css(c,"border"+b+"Width"))||0)}),f;f=a._getComputedStyle(c,b);if(null==f||0>Number(f))f=c.style[b]||0;f=parseFloat(f)||0;e&&d.each(h,function(b){f+=parseFloat(a.css(c,"padding"+b))||0;"padding"!==e&&(f+=parseFloat(a.css(c,"border"+b+"Width"))||0);"margin"===e&&(f+=parseFloat(a.css(c,e+b))||0)});return f}var i=d.Env.host,n=d.UA,b=a.nodeName,c=i.document,k=/^margin/,s="width",p="display"+d.now(),w={fillOpacity:1,fontWeight:1,
lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},u=/^-ms-/,h=/([A-Z]|^ms)/g,l="",z="px",f=/\d(?!px)[a-z%]+$/i,y={},B={"float":"cssFloat"},A={},C=/-([a-z])/ig;d.mix(a,{_camelCase:m,_CUSTOM_STYLES:y,_cssProps:B,_getComputedStyle:function(c,b){var d="",e,f,g,l,j;f=c.ownerDocument;b=b.replace(h,"-$1").toLowerCase();if(e=f.defaultView.getComputedStyle(c,null))d=e.getPropertyValue(b)||e[b];""===d&&!a.contains(f,c)&&(b=B[b]||b,d=c.style[b]);a._RE_NUM_NO_PX.test(d)&&k.test(b)&&(j=c.style,f=j.width,
g=j.minWidth,l=j.maxWidth,j.minWidth=j.maxWidth=j.width=d,d=e.width,j.width=f,j.minWidth=g,j.maxWidth=l);return d},style:function(c,b,e){var c=a.query(c),f,h=c[0];if(d.isPlainObject(b)){for(f in b)for(h=c.length-1;0<=h;h--)q(c[h],f,b[f]);return g}if(e===g)return f="",h&&(f=q(h,b,e)),f;for(h=c.length-1;0<=h;h--)q(c[h],b,e);return g},css:function(c,b,e){var c=a.query(c),f=c[0],h;if(d.isPlainObject(b)){for(h in b)for(f=c.length-1;0<=f;f--)q(c[f],h,b[h]);return g}b=m(b);h=y[b];if(e===g){e="";if(f&&(!h||
!("get"in h&&(e=h.get(f,!0))!==g)))e=a._getComputedStyle(f,b);return"undefined"==typeof e?"":e}for(f=c.length-1;0<=f;f--)q(c[f],b,e);return g},show:function(b){var b=a.query(b),d,e,f;for(f=b.length-1;0<=f;f--)if(e=b[f],e.style.display=a.data(e,p)||l,"none"===a.css(e,"display")){d=e.tagName.toLowerCase();var h=void 0,g=A[d],j=void 0;A[d]||(h=c.body||c.documentElement,j=c.createElement(d),a.prepend(j,h),g=a.css(j,"display"),h.removeChild(j),A[d]=g);d=g;a.data(e,p,d);e.style.display=d}},hide:function(c){var c=
a.query(c),b,d;for(d=c.length-1;0<=d;d--){b=c[d];var e=b.style,f=e.display;"none"!==f&&(f&&a.data(b,p,f),e.display="none")}},toggle:function(c){var c=a.query(c),b,d;for(d=c.length-1;0<=d;d--)b=c[d],"none"===a.css(b,"display")?a.show(b):a.hide(b)},addStyleSheet:function(c,b,d){"string"==typeof c&&(d=b,b=c,c=i);var c=a.getDocument(c),e;if(d&&(d=d.replace("#",l)))e=a.get("#"+d,c);e||(e=a.create("<style>",{id:d},c),a.get("head",c).appendChild(e),e.styleSheet?e.styleSheet.cssText=b:e.appendChild(c.createTextNode(b)))},
unselectable:function(c){var c=a.query(c),e,f,h=0,g,j;for(f=c.length-1;0<=f;f--)if(e=c[f],j=e.style,j.UserSelect="none",n.gecko)j.MozUserSelect="none";else if(n.webkit)j.WebkitUserSelect="none";else if(n.ie||n.opera){j=e.getElementsByTagName("*");e.setAttribute("unselectable","on");for(g=["iframe","textarea","input","select"];e=j[h++];)d.inArray(b(e),g)||e.setAttribute("unselectable","on")}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});d.each([s,"height"],function(c){a["inner"+
d.ucfirst(c)]=function(b){return(b=a.get(b))&&e(b,c,"padding")};a["outer"+d.ucfirst(c)]=function(b,d){var f=a.get(b);return f&&e(f,c,d?"margin":"border")};a[c]=function(b,d){var e=a.css(b,c,d);e&&(e=parseFloat(e));return e};y[c]={get:function(a,b){var d;b&&(d=e(a,c)+"px");return d}}});var v={position:"absolute",visibility:"hidden",display:"block"};d.each(["left","top"],function(b){y[b]={get:function(d,e){var h,g,j;if(e){j=a.css(d,"position");if("static"===j)return"auto";h=a._getComputedStyle(d,b);
if((g="auto"===h)&&"relative"===j)return"0px";if(g||f.test(h)){j={top:0,left:0};if("fixed"==a.css(d,"position"))g=d.getBoundingClientRect();else{for(h=d.offsetParent||(d.ownerDocument||c).body;h&&!F.test(h.nodeName)&&"static"===a.css(h,"position");)h=h.offsetParent;g=a.offset(d);j=a.offset(h);j.top+=parseFloat(a.css(h,"borderTopWidth"))||0;j.left+=parseFloat(a.css(h,"borderLeftWidth"))||0}g.top-=parseFloat(a.css(d,"marginTop"))||0;g.left-=parseFloat(a.css(d,"marginLeft"))||0;h={top:g.top-j.top,left:g.left-
j.left}[b]+"px"}}return h}}});var F=/^(?:body|html)$/i;return a},{requires:["./api"]});
KISSY.add("dom/base/selector",function(d,a,g){function r(a){var c=this.length,b;for(b=0;b<c&&!1!==a(this[b],b);b++);}function m(d,e){var i,f;i="string"==typeof d;var n=e!==g?m(e):(f=1)&&[j],o=n.length;if(d)if(i)if(d=u(d),f&&"body"==d)i=[j.body];else{i=[];for(f=0;f<o;f++)p.apply(i,a._selectInternal(d,n[f]));1<i.length&&1<o&&a.unique(i)}else{if(i=d.nodeType||d.setTimeout?[d]:d.getDOMNodes?d.getDOMNodes():b(d)?d:k(d)?c(d):[d],!f){var q=i,s,v=q.length;i=[];for(f=0;f<v;f++)for(s=0;s<o;s++)if(a._contains(n[s],
q[f])){i.push(q[f]);break}}}else i=[];i.each=r;return i}function o(a,c){var b=a&&(a.className||q(a,"class"));return b&&-1<(s+b+s).indexOf(s+c+s)}function q(a,c){var b=a&&a.getAttributeNode(c);return b&&b.specified?b.nodeValue:g}function e(a,c){return"*"==c||a.nodeName.toLowerCase()===c.toLowerCase()}var j=d.Env.host.document,i=j.documentElement,n=i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.oMatchesSelector||i.msMatchesSelector,b=d.isArray,c=d.makeArray,k=a.isDomNodeList,s=" ",p=Array.prototype.push,
w=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,u=d.trim;d.mix(a,{_compareNodeOrder:function(a,c){return!a.compareDocumentPosition||!c.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(c)&4?-1:1},_getSimpleAttr:q,_isTag:e,_hasSingleClass:o,_matchesInternal:function(a,c){for(var b=[],d=0,e,g=c.length;d<g;d++)e=c[d],n.call(e,a)&&b.push(e);return b},_selectInternal:function(a,b){return c(b.querySelectorAll(a))},query:m,get:function(a,c){return m(a,c)[0]||null},unique:function(){function c(d,
e){return d==e?(b=!0,0):a._compareNodeOrder(d,e)}var b,d=!0;[0,0].sort(function(){d=!1;return 0});return function(a){b=d;a.sort(c);if(b)for(var e=1,g=a.length;e<g;)a[e]===a[e-1]?(a.splice(e,1),--g):e++;return a}}(),filter:function(c,b,g){var c=m(c,g),f,j,i,k,g=[];if("string"==typeof b&&(b=u(b))&&(i=w.exec(b)))f=i[1],j=i[2],k=i[3],f?f&&!j&&!k&&(b=function(a){return q(a,"id")==f}):b=function(a){var b=!0,c=!0;j&&(b=e(a,j));k&&(c=o(a,k));return c&&b};return g="function"===typeof b?d.filter(c,b):a._matchesInternal(b,
c)},test:function(b,c,d){b=m(b,d);return b.length&&a.filter(b,c,d).length===b.length}});return a},{requires:["./api"]});
KISSY.add("dom/base/traversal",function(d,a,g){function r(e,j,i,n,b,c,k){if(!(e=a.get(e)))return null;if(0===j)return e;c||(e=e[i]);if(!e)return null;b=b&&a.get(b)||null;j===g&&(j=1);var c=[],o=d.isArray(j),p,r;"number"===typeof j&&(p=0,r=j,j=function(){return++p===r});for(;e&&e!=b;){if((e.nodeType==q.ELEMENT_NODE||e.nodeType==q.TEXT_NODE&&k)&&m(e,j)&&(!n||n(e)))if(c.push(e),!o)break;e=e[i]}return o?c:c[0]||null}function m(e,g){if(!g)return!0;if(d.isArray(g)){var i,m=g.length;if(!m)return!0;for(i=
0;i<m;i++)if(a.test(e,g[i]))return!0}else if(a.test(e,g))return!0;return!1}function o(e,g,i,m){var b=[],c,k;if((c=e=a.get(e))&&i)c=e.parentNode;if(c){i=d.makeArray(c.childNodes);for(c=0;c<i.length;c++)k=i[c],(m||k.nodeType==q.ELEMENT_NODE)&&k!=e&&b.push(k);g&&(b=a.filter(b,g))}return b}var q=a.NodeType;d.mix(a,{_contains:function(a,d){return!!(a.compareDocumentPosition(d)&16)},closest:function(a,d,g,m){return r(a,d,"parentNode",function(a){return a.nodeType!=q.DOCUMENT_FRAGMENT_NODE},g,!0,m)},parent:function(a,
d,i){return r(a,d,"parentNode",function(a){return a.nodeType!=q.DOCUMENT_FRAGMENT_NODE},i,g)},first:function(d,j,i){d=a.get(d);return r(d&&d.firstChild,j,"nextSibling",g,g,!0,i)},last:function(d,j,i){d=a.get(d);return r(d&&d.lastChild,j,"previousSibling",g,g,!0,i)},next:function(a,d,i){return r(a,d,"nextSibling",g,g,g,i)},prev:function(a,d,i){return r(a,d,"previousSibling",g,g,g,i)},siblings:function(a,d,g){return o(a,d,!0,g)},children:function(a,d){return o(a,d,g)},contents:function(a,d){return o(a,
d,g,1)},contains:function(d,g){d=a.get(d);g=a.get(g);return d&&g?a._contains(d,g):!1},index:function(e,g){var i=a.query(e),m,b=0;m=i[0];if(!g){i=m&&m.parentNode;if(!i)return-1;for(;m=m.previousSibling;)m.nodeType==q.ELEMENT_NODE&&b++;return b}b=a.query(g);return"string"===typeof g?d.indexOf(m,b):d.indexOf(b[0],i)},equals:function(d,g){d=a.query(d);g=a.query(g);if(d.length!=g.length)return!1;for(var i=d.length;0<=i;i--)if(d[i]!=g[i])return!1;return!0}});return a},{requires:["./api"]});
KISSY.add("dom/base",function(d,a){d.mix(d,{DOM:a,get:a.get,query:a.query});return a},{requires:"./base/api,./base/attr,./base/class,./base/create,./base/data,./base/insertion,./base/offset,./base/style,./base/selector,./base/traversal".split(",")});
