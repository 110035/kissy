/*
Copyright 2013, KISSY UI Library v1.40dev
MIT Licensed
build time: Jul 17 12:58
*/
KISSY.add("dom/ie/attr",function(f,d){function l(c){var g="",a=c.nodeType;if(a===d.NodeType.ELEMENT_NODE)for(c=c.firstChild;c;c=c.nextSibling)g+=l(c);else if(a==i.TEXT_NODE||a==i.CDATA_SECTION_NODE)g+=c.nodeValue;return g}var e=d._attrHooks,n=d._attrNodeHook,i=d.NodeType,b=d._valHooks,a=d._propFix;8>f.UA.ie&&(e.style.set=function(c,a){c.style.cssText=a},f.mix(n,{get:function(c,a){var b=c.getAttributeNode(a);return b&&(b.specified||b.nodeValue)?b.nodeValue:void 0},set:function(c,a,b){var o=c.getAttributeNode(b),
k;if(o)o.nodeValue=a;else try{k=c.ownerDocument.createAttribute(b),k.value=a,c.setAttributeNode(k)}catch(j){return c.setAttribute(b,a,0)}}}),f.mix(d._attrFix,a),e.tabIndex=e.tabindex,f.each("href,src,width,height,colSpan,rowSpan".split(","),function(c){e[c]={get:function(a){a=a.getAttribute(c,2);return a===null?void 0:a}}}),b.button=e.value=n,e.placeholder={get:function(c,a){return c[a]||n.get(c,a)}},b.option={get:function(c){var a=c.attributes.value;return!a||a.specified?c.value:c.text}});(e.href=
e.href||{}).set=function(a,b,p){for(var o=a.childNodes,k,j=o.length,d=j>0,j=j-1;j>=0;j--)o[j].nodeType!=i.TEXT_NODE&&(d=0);if(d){k=a.ownerDocument.createElement("b");k.style.display="none";a.appendChild(k)}a.setAttribute(p,""+b);k&&a.removeChild(k)};d._getText=l;return d},{requires:["dom/base"]});
KISSY.add("dom/ie/create",function(f,d){d._fixCloneAttributes=function(e,b){b.clearAttributes&&b.clearAttributes();b.mergeAttributes&&b.mergeAttributes(e);var a=b.nodeName.toLowerCase(),c=e.childNodes;if("object"===a&&!b.childNodes.length)for(a=0;a<c.length;a++)b.appendChild(c[a].cloneNode(!0));else if("input"===a&&("checkbox"===e.type||"radio"===e.type)){if(e.checked&&(b.defaultChecked=b.checked=e.checked),b.value!==e.value)b.value=e.value}else if("option"===a)b.selected=e.defaultSelected;else if("input"===
a||"textarea"===a)b.defaultValue=e.defaultValue,b.value=e.value;b.removeAttribute(d.__EXPANDO)};var l=d._creators,e=d._defaultCreator,n=/<tbody/i;8>f.UA.ie&&(l.table=function(l,b){var a=e(l,b);if(n.test(l))return a;var c=a.firstChild,g=f.makeArray(c.childNodes);f.each(g,function(a){"tbody"==d.nodeName(a)&&!a.childNodes.length&&c.removeChild(a)});return a})},{requires:["dom/base"]});
KISSY.add("dom/ie/insertion",function(f,d){8>f.UA.ie&&(d._fixInsertionChecked=function e(f){for(var i=0;i<f.length;i++){var b=f[i];if(b.nodeType==d.NodeType.DOCUMENT_FRAGMENT_NODE)e(b.childNodes);else if("input"==d.nodeName(b)){if("checkbox"===b.type||"radio"===b.type)b.defaultChecked=b.checked}else if(b.nodeType==d.NodeType.ELEMENT_NODE)for(var b=b.getElementsByTagName("input"),a=0;a<b.length;a++)e(b[a])}})},{requires:["dom/base"]});
KISSY.add("dom/ie/style",function(f,d){var l=d._cssProps,e=f.UA,n=f.Env.host.document,n=n&&n.documentElement,i=/^(top|right|bottom|left)$/,b=d._cssHooks,a=/opacity\s*=\s*([^)]*)/,c=/alpha\([^)]*\)/i;l["float"]="styleFloat";b.backgroundPosition={get:function(a,c){return c?a.currentStyle.backgroundPositionX+" "+a.currentStyle.backgroundPositionY:a.style.backgroundPosition}};try{null==n.style.opacity&&(b.opacity={get:function(c,b){return a.test((b&&c.currentStyle?c.currentStyle.filter:c.style.filter)||
"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var b=parseFloat(b),g=a.style,e=a.currentStyle,p=isNaN(b)?"":"alpha(opacity="+100*b+")",d=f.trim(e&&e.filter||g.filter||"");g.zoom=1;if((1<=b||!p)&&!f.trim(d.replace(c,"")))if(g.removeAttribute("filter"),!p||e&&!e.filter)return;g.filter=c.test(d)?d.replace(c,p):d+(d?", ":"")+p}})}catch(g){}var e=8==e.ie,p={};p.thin=e?"1px":"2px";p.medium=e?"3px":"4px";p.thick=e?"5px":"6px";f.each(["","Top","Left","Right","Bottom"],function(a){var c="border"+
a+"Width",g="border"+a+"Style";b[c]={get:function(a,b){var e=b?a.currentStyle:0,d=e&&""+e[c]||void 0;d&&0>d.indexOf("px")&&(d=p[d]&&"none"!==e[g]?p[d]:0);return d}}});d._getComputedStyle=function(a,c){var c=l[c]||c,b=a.currentStyle&&a.currentStyle[c];if(d._RE_NUM_NO_PX.test(b)&&!i.test(c)){var g=a.style,e=g.left,p=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;g.left="fontSize"===c?"1em":b||0;b=g.pixelLeft+"px";g.left=e;a.runtimeStyle.left=p}return""===b?"auto":b}},{requires:["dom/base"]});
KISSY.add("dom/ie/traversal",function(f,d){d._contains=function(f,e){f.nodeType==d.NodeType.DOCUMENT_NODE&&(f=f.documentElement);e=e.parentNode;return f==e?!0:e&&e.nodeType==d.NodeType.ELEMENT_NODE?f.contains&&f.contains(e):!1}},{requires:["dom/base"]});
KISSY.add("dom/ie/transform",function(f,d){function l(b){return[[b[0],b[2],b[4]],[b[1],b[3],b[5]],[0,0,1]]}function e(b,a){if(2<arguments.length){for(var c=b,g=1;g<arguments.length;g++)c=e(c,arguments[g]);return c}for(var c=[],d=b.length,f=a.length,k=a[0].length,g=0;g<d;g++)for(var j=0;j<k;j++){for(var l=0,i=0;i<f;i++)l+=b[g][i]*a[i][j];var i=c,n=g,h=j;i[n]||(i[n]=[]);i[n][h]=l}return c}function n(b){return-1<b.indexOf("deg")?parseInt(b,10)*(2*Math.PI/360):parseFloat(b)}var i=/progid:DXImageTransform.Microsoft.Matrix\(([^)]*)\)/;
d._cssHooks.transform={get:function(b,a){var c=b[a?"currentStyle":"style"];if(c&&i.test(c.filter)){var c=RegExp.$1.split(","),g=0,e=0,d=c[4]&&c[4].split("="),f=c[5]&&c[5].split("=");d&&"dx"==d[0].toLowerCase()&&(g=parseFloat(d[1]));f&&"dy"==f[0].toLowerCase()&&(e=parseFloat(f[1]));c=[c[0].split("=")[1],c[2].split("=")[1],c[1].split("=")[1],c[3].split("=")[1],g,e]}else return a?"none":"";return"matrix("+c.join(",")+")"},set:function(b,a){var c=b.style,g=b.currentStyle,d,o={width:b.clientWidth,height:b.clientHeight};
d=o.width/2;var k=o.height/2,j=b.style.transformOrigin,j=(j||"50% 50%").split(/\s+/);1==j.length&&(j[1]=j[0]);for(var r=0;r<j.length;r++){var s=parseFloat(j[r]);j[r]=f.endsWith(j[r],"%")?s*o[r?"height":"width"]/100:s}o=j;c.zoom=1;if(a){var q;q=a.split(")");for(var j=f.trim,r=-1,s=q.length-1,h,u,t=l([1,0,0,1,0,0]),m;++r<s;){h=q[r].split("(");u=j(h[0]);h=h[1];m=[1,0,0,1,0,0];switch(u){case "translateX":m[4]=parseInt(h,10);break;case "translateY":m[5]=parseInt(h,10);break;case "translate":h=h.split(",");
m[4]=parseInt(h[0],10);m[5]=parseInt(h[1]||0,10);break;case "rotate":h=n(h);m[0]=Math.cos(h);m[1]=Math.sin(h);m[2]=-Math.sin(h);m[3]=Math.cos(h);break;case "scaleX":m[0]=+h;break;case "scaleY":m[3]=+h;break;case "scale":h=h.split(",");m[0]=+h[0];m[3]=1<h.length?+h[1]:+h[0];break;case "skewX":m[2]=Math.tan(n(h));break;case "skewY":m[1]=Math.tan(n(h));break;case "matrix":h=h.split(","),m[0]=+h[0],m[1]=+h[1],m[2]=+h[2],m[3]=+h[3],m[4]=parseInt(h[4],10),m[5]=parseInt(h[5],10)}t=e(t,l(m))}a=t;q=o[0];o=
o[1];q=e([[1,0,q],[0,1,o],[0,0,1]],a,[[1,0,-q],[0,1,-o],[0,0,1]],[[d],[k],[1]]);q.x=q[0][0];q.y=q[1][0];d=["progid:DXImageTransform.Microsoft.Matrix(M11="+a[0][0],"M12="+a[0][1],"M21="+a[1][0],"M22="+a[1][1],"Dx="+a[0][2],"Dy="+a[1][2],'SizingMethod="auto expand"'].join()+")"}else d="";k=g&&g.filter||c.filter||"";if(!d&&!f.trim(k.replace(i,""))&&(c.removeAttribute("filter"),!d||g&&!g.filter))return;c.filter=i.test(k)?k.replace(i,d):k+(k?", ":"")+d;d?(g=b.offsetHeight/2,c.marginLeft=q.x-b.offsetWidth/
2+"px",c.marginTop=q.y-g+"px"):c.marginLeft=c.marginTop=0}}},{requires:["dom/base"]});
KISSY.add("dom/ie/input-selection",function(f,d){function l(a,c){var b=0,d=0,f=a.ownerDocument.selection.createRange(),k=e(a);k.inRange(f)&&(k.setEndPoint("EndToStart",f),b=i(a,k).length,c&&(d=b+i(a,f).length));return[b,d]}function e(a){if("textarea"==a.type){var c=a.document.body.createTextRange();c.moveToElementText(a);return c}return a.createTextRange()}function n(a,c,b){var d=Math.min(c,b),e=Math.max(c,b);return d==e?0:"textarea"==a.type?(a=a.value.substring(d,e).replace(/\r\n/g,"\n").length,
c>b&&(a=-a),a):b-c}function i(a,c){if("textarea"==a.type){var b=c.text,d=c.duplicate();if(0==d.compareEndPoints("StartToEnd",d))return b;d.moveEnd("character",-1);d.text==b&&(b+="\r\n");return b}return c.text}var b=d._propHooks;b.selectionStart={set:function(a,b){var d=a.ownerDocument.selection.createRange();if(e(a).inRange(d)){var f=l(a,1)[1],i=n(a,b,f);d.collapse(!1);d.moveStart("character",-i);b>f&&d.collapse(!0);d.select()}},get:function(a){return l(a)[0]}};b.selectionEnd={set:function(a,b){var d=
a.ownerDocument.selection.createRange();if(e(a).inRange(d)){var f=l(a)[0],i=n(a,f,b);d.collapse(!0);d.moveEnd("character",i);f>b&&d.collapse(!1);d.select()}},get:function(a){return l(a,1)[1]}}},{requires:["dom/base"]});KISSY.add("dom/ie",function(f,d){return d},{requires:"./ie/attr,./ie/create,./ie/insertion,./ie/style,./ie/traversal,./ie/transform,./ie/input-selection".split(",")});
