<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>{{component}} test runner</title>
    <link rel="stylesheet" href="/kissy/tools/jasmine/jasmine.css">
    <script src="/kissy/tools/jasmine/jasmine.js"></script>
    <script src="/kissy/tools/jasmine/jasmine-html.js"></script>
    <script src="/kissy/tools/jasmine/jasmine.console_reporter.js"></script>
    <script src="/kissy/tools/jasmine/event-simulate.js"></script>
    <script src="/kissy/build/seed.js"></script>

    <script src="/kissy/src/package.js"></script>
</head>
<body>
<h1>{{component}} test cases</h1>
<script>
    var tests=[];

    KISSY.config('packages',{
        specs:{
            base:'../'
        }
    });
    {{#each tests}}
    tests.push('specs/{{{.}}}');
    {{/each}}

    {{{script}}}

    KISSY.use(tests, function () {
            jasmine.getEnv().addReporter(new jasmine.TrivialReporter());
            jasmine.getEnv().addReporter(new jasmine.ConsoleReporter());
            jasmine.getEnv().execute(function () {
                jasmine.kissyNext(this.results().failedCount);
            });
    });
</script>
</body>
</html>